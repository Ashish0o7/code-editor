/*! For license information please see main.8facc17f.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),a=n(9301),o=n(9774),s=n(1804),u=n(9145),c=n(5411),l=n(6789),f=n(4531),h=n(6569),d=n(6261);e.exports=function(e){return new Promise((function(t,n){var p,v=e.data,m=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(v)&&r.isStandardBrowserEnv()&&delete m["Content-Type"];var k=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var _=s(e.baseURL,e.url);function x(){if(k){var r="getAllResponseHeaders"in k?u(k.getAllResponseHeaders()):null,a={data:g&&"text"!==g&&"json"!==g?k.response:k.responseText,status:k.status,statusText:k.statusText,headers:r,config:e,request:k};i((function(e){t(e),y()}),(function(e){n(e),y()}),a),k=null}}if(k.open(e.method.toUpperCase(),o(_,e.params,e.paramsSerializer),!0),k.timeout=e.timeout,"onloadend"in k?k.onloadend=x:k.onreadystatechange=function(){k&&4===k.readyState&&(0!==k.status||k.responseURL&&0===k.responseURL.indexOf("file:"))&&setTimeout(x)},k.onabort=function(){k&&(n(new f("Request aborted",f.ECONNABORTED,e,k)),k=null)},k.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,e,k,k)),k=null},k.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||l;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new f(t,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,e,k)),k=null},r.isStandardBrowserEnv()){var E=(e.withCredentials||c(_))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;E&&(m[e.xsrfHeaderName]=E)}"setRequestHeader"in k&&r.forEach(m,(function(e,t){"undefined"===typeof v&&"content-type"===t.toLowerCase()?delete m[t]:k.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(k.withCredentials=!!e.withCredentials),g&&"json"!==g&&(k.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&k.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&k.upload&&k.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){k&&(n(!e||e&&e.type?new h:e),k.abort(),k=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),v||(v=null);var I=d(_);I&&-1===["http","https","file"].indexOf(I)?n(new f("Unsupported protocol "+I+":",f.ERR_BAD_REQUEST,e)):k.send(v)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),a=n(3773),o=n(777);var s=function e(t){var n=new a(t),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return e(o(t,n))},s}(n(1709));s.Axios=a,s.CanceledError=n(6569),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.toFormData=n(1397),s.AxiosError=n(4531),s.Cancel=s.CanceledError,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},6857:function(e,t,n){"use strict";var r=n(6569);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6569:function(e,t,n){"use strict";var r=n(4531);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(3589).inherits(i,r,{__CANCEL__:!0}),e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),a=n(7470),o=n(2733),s=n(777),u=n(1804),c=n(7835),l=c.validators;function f(e){this.defaults=e,this.interceptors={request:new a,response:new a}}f.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var a,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(u),a=Promise.resolve(t);f.length;)a=a.then(f.shift(),f.shift());return a}for(var h=t;r.length;){var d=r.shift(),p=r.shift();try{h=d(h)}catch(v){p(v);break}}try{a=o(h)}catch(v){return Promise.reject(v)}for(;u.length;)a=a.then(u.shift(),u.shift());return a},f.prototype.getUri=function(e){e=s(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){f.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(s(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[e]=t(),f.prototype[e+"Form"]=t(!0)})),e.exports=f},4531:function(e,t,n){"use strict";var r=n(3589);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var a=i.prototype,o={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){o[e]={value:e}})),Object.defineProperties(i,o),Object.defineProperty(a,"isAxiosError",{value:!0}),i.from=function(e,t,n,o,s,u){var c=Object.create(a);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,o,s),c.name=e.name,u&&Object.assign(c,u),c},e.exports=i},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),a=n(5517),o=n(1709),s=n(6569);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function o(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},7297:function(e,t,n){"use strict";var r=n(4531);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(1709);e.exports=function(e,t,n){var a=this||i;return r.forEach(n,(function(n){e=n.call(a,e,t)})),e}},1709:function(e,t,n){"use strict";var r=n(3589),i=n(4341),a=n(4531),o=n(6789),s=n(1397),u={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l={transitional:o,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,a=r.isObject(e),o=t&&t["Content-Type"];if((n=r.isFileList(e))||a&&"multipart/form-data"===o){var u=this.env&&this.env.FormData;return s(n?{"files[]":e}:e,u&&new u)}return a||"application/json"===o?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw a.from(s,a.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(3035)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(u)})),e.exports=l},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.27.2"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3035:function(e){e.exports=null},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},6261:function(e){"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1397:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(a,o){if(r.isPlainObject(a)||r.isArray(a)){if(-1!==n.indexOf(a))throw Error("Circular reference detected in "+o);n.push(a),r.forEach(a,(function(n,a){if(!r.isUndefined(n)){var s,u=o?o+"."+a:a;if(n&&!o&&"object"===typeof n)if(r.endsWith(a,"{}"))n=JSON.stringify(n);else if(r.endsWith(a,"[]")&&(s=r.toArray(n)))return void s.forEach((function(e){!r.isUndefined(e)&&t.append(u,i(e))}));e(n,u)}})),n.pop()}else t.append(o,i(a))}(e),t}},7835:function(e,t,n){"use strict";var r=n(7600).version,i=n(4531),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new i(a(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],s=t[o];if(s){var u=e[o],c=void 0===u||s(u,o,e);if(!0!==c)throw new i("option "+o+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+o,i.ERR_BAD_OPTION)}},validators:a}},3589:function(e,t,n){"use strict";var r,i=n(4049),a=Object.prototype.toString,o=(r=Object.create(null),function(e){var t=a.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function s(e){return e=e.toLowerCase(),function(t){return o(t)===e}}function u(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var l=s("ArrayBuffer");function f(e){return null!==e&&"object"===typeof e}function h(e){if("object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var d=s("Date"),p=s("File"),v=s("Blob"),m=s("FileList");function g(e){return"[object Function]"===a.call(e)}var y=s("URLSearchParams");function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var b,w=(b="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:u,isArrayBuffer:l,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||a.call(e)===t||g(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&l(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:f,isPlainObject:h,isUndefined:c,isDate:d,isFile:p,isBlob:v,isFunction:g,isStream:function(e){return f(e)&&g(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:k,merge:function e(){var t={};function n(n,r){h(t[r])&&h(n)?t[r]=e(t[r],n):h(n)?t[r]=e({},n):u(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)k(arguments[r],n);return t},extend:function(e,t,n){return k(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,a,o={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)o[a=r[i]]||(t[a]=e[a],o[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:o,kindOfTest:s,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:w,isFileList:m}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=h(n,g);try{c(t,g,y)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===k||e.$$typeof===b||e.$$typeof===g)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var f=0;f<s.length;f++)r.call(o,s[f])&&(u[s[f]]=o[s[f]])}}return u}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,x=60106,E=60107,I=60108,T=60114,S=60109,C=60110,P=60112,N=60113,A=60120,R=60115,O=60116,D=60121,L=60128,M=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),x=U("react.portal"),E=U("react.fragment"),I=U("react.strict_mode"),T=U("react.profiler"),S=U("react.provider"),C=U("react.context"),P=U("react.forward_ref"),N=U("react.suspense"),A=U("react.suspense_list"),R=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function W(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function K(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case x:return"Portal";case T:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ce=null,Pe=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Se(e.stateNode,e.type,t))}}function Ae(e){Ce?Pe?Pe.push(e):Pe=[e]:Ce=e}function Re(){if(Ce){var e=Ce,t=Pe;if(Pe=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,Fe=!1,je=!1;function Ue(){null===Ce&&null===Pe||(Le(),Re())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var He=!1,We=null,Ke=!1,Ge=null,Qe={onError:function(e){He=!0,We=e}};function Ye(e,t,n,r,i,a,o,s,u){He=!1,We=null,ze.apply(Qe,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if($e(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function _t(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},It={},Tt={};function St(e){if(It[e])return It[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return It[e]=n[t];return e}f&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=St("animationend"),Pt=St("animationiteration"),Nt=St("animationstart"),At=St("transitionend"),Rt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",Pt,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Ft(u),i=Mt):0!==(s&=a)&&(r=Ft(s),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==s&&(r=Ft(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Kt|0)|0},Wt=Math.log,Kt=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,Yt=!0;function $t(e,t,n,r){Fe||Le();var i=Jt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Te(r);if(null!==(i=ni(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(hn),pn=i({},hn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(mn),yn=un(i({},mn,{dataTransfer:0})),kn=un(i({},pn,{relatedTarget:0})),bn=un(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=un(wn),xn=un(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Cn(){return Sn}var Pn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(Pn),An=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=un(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Un=f&&"TextEvent"in window&&!jn,Vn=f&&(!Fn||jn&&8<jn&&11>=jn),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ae(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,$n=null;function Xn(e){Pr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),$n=Yn=null)}function ar(e){if("value"===e.propertyName&&Jn($n)){var t=[];if(Qn(t,$n,e,Te(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),$n=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,_r=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Er.length;Ir++)Ot.set(Er[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ye.apply(this,arguments),He){if(!He)throw Error(o(198));var l=We;He=!1,We=null,Ke||(Ke=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Cr(i,s,c),a=u}}}if(Ke)throw e=Ge,Ke=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Ar]||(e[Ar]=!0,s.forEach((function(t){Sr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Sr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Me(e,t,n)}finally{je=!1,Ue()}}((function(){var r=a,i=Te(n),o=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=kn;break;case"focusout":c="blur",u=kn;break;case"beforeblur":case"afterblur":u=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Ct:case Pt:case Nt:u=bn;break;case At:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==u&&Ur(o,s,u,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Zn;else if(Gn(s))if(er)m=cr;else{m=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(kr=g,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,xr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(o,n,i)}var y;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(g=Fr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Hn(n))&&(k.data=y))),(y=Un?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Pr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ve(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ve(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Jr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var xi=null,Ei=null,Ii=a.unstable_runWithPriority,Ti=a.unstable_scheduleCallback,Si=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Pi=a.unstable_requestPaint,Ni=a.unstable_now,Ai=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},ji=void 0!==Pi?Pi:function(){},Ui=null,Vi=null,Bi=!1,qi=Ni(),zi=1e4>qi?Ni:function(){return Ni()-qi};function Hi(){switch(Ai()){case Ri:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Ki(e,t){return e=Wi(e),Ii(e,t)}function Gi(e,t,n){return e=Wi(e),Ti(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Si(e)}Yi()}function Yi(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Ri,Qi),n}finally{Bi=!1}}}var $i=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bs|=s,e.lanes=s,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),pu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var _a=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ku(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case x:return(t=Xu(t,e.mode,n)).return=e,t}if(_a(t)||q(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null}if(_a(n)||q(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(_a(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=q(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=d(i,v,y.value,c);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case _:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case x:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=$u(a,e.mode,u)).return=e,e=r),s(e);if(_a(a))return v(e,r,a,u);if(q(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ta=Ia(!0),Sa=Ia(!1),Ca={},Pa=ci(Ca),Na=ci(Ca),Aa=ci(Ca);function Ra(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Aa,t),fi(Na,e),fi(Pa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Pa),fi(Pa,t)}function Da(){li(Pa),li(Na),li(Aa)}function La(e){Ra(Aa.current);var t=Ra(Pa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Pa,n))}function Ma(e){Na.current===e&&(li(Pa),li(Na))}var Fa=ci(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,Va=null,Ba=!1;function qa(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(Ba){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Ua=e);qa(Ua,n)}Ua=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ka(e){if(e!==Ua)return!1;if(!Ba)return Wa(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)qa(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=Ua=null,Ba=!1}var Qa=[];function Ya(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var $a=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,$a.current=Lo,e=n(r,i)}while(ro)}if($a.current=Ro,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Za.lanes|=l,Bs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=$a.current,c=u.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-Ht(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ao.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ao.bind(null,Za,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function ko(){return uo().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}Za.flags|=e,i.memoizedState=go(1|t,n,a,r)}function _o(e,t){return bo(516,4,e,t)}function xo(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function So(){}function Co(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Po(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Hi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Ao(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:_o,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Za,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:So,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,go(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return mo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:Po,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:So,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:xo,useImperativeHandle:To,useLayoutEffect:Eo,useMemo:Po,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:So,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function jo(e,t,n,r){t.child=null===e?Sa(t,null,n,r):Ta(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Ku(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ho(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_u(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_u(t,e),null;t.memoizedState={baseLanes:0},_u(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_u(t,r);return jo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=gi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(gi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ba(t,o,r,c),sa=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),u=t.memoizedState,s!==r||h!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ya(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ba(t,o,r,u),sa=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ya(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&_i(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ta(t,e.child,null,a),t.child=Ta(t,null,s,a)):jo(e,t,s,a),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,Yo,$o,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=Yu({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yu(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Ku(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ku(o,s),null!==e?r=Ku(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ku(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ku(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Da(),li(pi),li(di),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Ra(Aa.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Pa.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Nr(Tr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":$(r),re(r,s,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Tr.length;a++)Nr(Tr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ge(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Nr("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$o(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Aa.current),Ra(Pa.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Os||0===(134217727&Bs)&&0===(134217727&qs)||yu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=ja(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Ks&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=ja(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Ks&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fa.current,fi(Fa,s?1&t|2:1&t),n):null;case 23:case 24:return xu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return xu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=K(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Pa.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},$o=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$s||($s=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fu(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Is(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?xs(e,n,t):Es(e,n,t)}function xs(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(xs(e,t,n),e=e.sibling;null!==e;)xs(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Is(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Ts(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?_e(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=zi(),ys(t.child,!0)),void Ss(t);case 19:return void Ss(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Ss(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=qu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ps=Math.ceil,Ns=w.ReactCurrentDispatcher,As=w.ReactCurrentOwner,Rs=0,Os=null,Ds=null,Ls=0,Ms=0,Fs=ci(0),js=0,Us=null,Vs=0,Bs=0,qs=0,zs=0,Hs=null,Ws=0,Ks=1/0;function Gs(){Ks=zi()+500}var Qs,Ys=null,$s=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Rs)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===uu&&(uu=Vs),0!==$i.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Rs)&&98===e?e=Vt(12,uu):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Os&&(qs|=t,4===js&&yu(e,Ls));var r=Hi();1===t?0!==(8&Rs)&&0===(48&Rs)?ku(e):(mu(e,n),0===Rs&&(Gs(),Qi())):(0===(4&Rs)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Ht(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=jt(e,e===Os?Ls:0),t=Mt,0===r)null!==n&&(n!==Fi&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Si(n)}15===t?(n=ku.bind(null,e),null===Ui?(Ui=[n],Vi=Ti(Ri,Yi)):Ui.push(n),n=Fi):14===t?n=Gi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Rs))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=jt(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var a=Tu();for(Os===e&&Ls===r||(Gs(),Eu(e,r));;)try{Pu();break}catch(u){Iu(e,u)}if(na(),Ns.current=a,Rs=i,null!==Ds?r=0:(Os=null,Ls=0,r=js),0!==(Vs&qs))Eu(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Su(e,n))),1===r)throw t=Us,Eu(e,0),yu(e,n),mu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ru(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ws+500-zi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ru.bind(null,e),r);break}Ru(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ps(n/1960))-n)){e.timeoutHandle=Wr(Ru.bind(null,e),n);break}Ru(e);break;default:throw Error(o(329))}}return mu(e,zi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~zs,t&=~qs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Rs))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Su(e,t);0!==(Vs&qs)&&(n=Su(e,t=jt(e,t)))}else n=Su(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Su(e,t))),1===n)throw n=Us,Eu(e,0),yu(e,t),mu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e),mu(e,zi()),null}function bu(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Qi())}}function wu(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Qi())}}function _u(e,t){fi(Fs,Ms),Ms|=t,Vs|=t}function xu(){Ms=Fs.current,li(Fs)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Da(),li(pi),li(di),Ya();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:xu()}n=n.return}Os=e,Ds=Ku(e.current,null),Ls=Ms=Vs=t,js=0,Us=null,zs=qs=Bs=0}function Iu(e,t){for(;;){var n=Ds;try{if(na(),$a.current=Ro,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,As.current=null,null===n||null===n.return){js=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(c),h.updateQueue=g}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=la(-1,1);y.tag=2,fa(s,y)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=Bu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Js||!Js.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Au(n)}catch(x){t=x,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Tu(){var e=Ns.current;return Ns.current=Ro,null===e?Ro:e}function Su(e,t){var n=Rs;Rs|=16;var r=Tu();for(Os===e&&Ls===t||Eu(e,t);;)try{Cu();break}catch(i){Iu(e,i)}if(na(),Rs=n,Ns.current=r,null!==Ds)throw Error(o(261));return Os=null,Ls=0,js}function Cu(){for(;null!==Ds;)Nu(Ds)}function Pu(){for(;null!==Ds&&!Ci();)Nu(Ds)}function Nu(e){var t=Qs(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Au(e):Ds=t,As.current=null}function Au(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===js&&(js=5)}function Ru(e){var t=Hi();return Ki(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Rs))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-Ht(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,As.current=null,Br=Yt,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(T){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===a&&(h=f),g===c&&++v===l&&(d=f),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;qr={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=r;do{try{Du()}catch(T){if(null===Ys)throw Error(o(330));Vu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ye(Ys.stateNode,""),128&k){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:_s(Ys),Ys.flags&=-3;break;case 6:_s(Ys),Ys.flags&=-3,Ts(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Ts(Ys.alternate,Ys);break;case 4:Ts(Ys.alternate,Ys);break;case 8:Is(s,u=Ys);var _=u.alternate;bs(u),null!==_&&bs(_)}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(o(330));Vu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);if(w=qr,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&gr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!w.extend&&_>s&&(u=s,s=_,_=u),u=pr(k,_),a=pr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),_>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!Br,qr=Br=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var x=Ys.flags;if(36&x&&gs(k,Ys.alternate,Ys),128&x){b=void 0;var E=Ys.ref;if(null!==E){var I=Ys.stateNode;Ys.tag,b=I,"function"===typeof E?E(b):E.current=b}}Ys=Ys.nextEffect}}catch(T){if(null===Ys)throw Error(o(330));Vu(Ys,T),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,ji(),Rs=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((x=Ys).sibling=null,x.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(T){}if(mu(e,zi()),$s)throw $s=!1,e=Xs,Xs=null,e;return 0!==(8&Rs)||Qi(),null}function Du(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Cs(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return Lu(),null}))),Ys=Ys.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,ju)}return!1}function Mu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function Fu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return Lu(),null})))}function ju(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Rs))throw Error(o(331));var t=Rs;Rs|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Rs=t,Qi(),!0}function Uu(e,t,n){fa(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(zt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(fa(n,i),i=hu(),null!==(n=vu(n,1)))zt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===js||3===js&&(62914560&Ls)===Ls&&500>zi()-Ws?Eu(e,0):zs|=n),mu(e,t)}function qu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===uu&&(uu=Vs),0===(t=Bt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(zt(e,t,n),mu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new zu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ku(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Qu(n.children,i,a,t);case M:s=8,i|=16;break;case I:s=8,i|=1;break;case T:return(e=Hu(12,n,t,8|i)).elementType=T,e.type=T,e.lanes=a,e;case N:return(e=Hu(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case A:return(e=Hu(19,n,t,i)).elementType=A,e.lanes=a,e;case F:return Yu(n,i,a,t);case j:return(e=Hu(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case C:s=9;break e;case P:s=11;break e;case R:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function Yu(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=F,e.lanes=n,e}function $u(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=bi(n,c,u);break e}}n=u}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=as(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return as(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===R)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Sa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),zo(e,t),jo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ta(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(fi(Ji,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,fa(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),Vo(e,t,i,a=Xi(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,hu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,hu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},Se=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bu,De=function(e,t,n,r,i){var a=Rs;Rs|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Rs=a)&&(Gs(),Qi())}},Le=function(){0===(49&Rs)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,zi())}))}Qi()}(),Lu())},Me=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,ai,Ae,Re,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{xi=fc.inject(lc),Ei=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Rs=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";n(1725);var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=y.prototype=new g;k.constructor=y,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!_.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function S(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+T(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),S(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+T(s=e[c],c);u+=S(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=S(s=s.value,t,n,l=r+T(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return S(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function A(){var e=N.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!_.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==n&&r.call(w,a)&&(k=w);var _=y.prototype=m.prototype=Object.create(k);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return g.prototype=y,u(_,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},x(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(_),u(_,s,"Generator"),u(_,a,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+y;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){g=h((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>I(o,n))void 0!==u&&0>I(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],S=[],C=1,P=null,N=3,A=!1,R=!1,O=!1;function D(e){for(var t=x(S);null!==t;){if(null===t.callback)E(S);else{if(!(t.startTime<=e))break;E(S),t.sortIndex=t.expirationTime,_(T,t)}t=x(S)}}function L(e){if(O=!1,D(e),!R)if(null!==x(T))R=!0,n(M);else{var t=x(S);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,O&&(O=!1,i()),A=!0;var a=N;try{for(D(n),P=x(T);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=P.callback;if("function"===typeof o){P.callback=null,N=P.priorityLevel;var s=o(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?P.callback=s:P===x(T)&&E(T),D(n)}else E(T);P=x(T)}if(null!==P)var u=!0;else{var c=x(S);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{P=null,N=a,A=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||A||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return x(T)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,_(S,e),null===x(T)&&e===x(S)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,_(T,e),R||A||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},7615:function(e,t,n){var r={"./Active4D.json":[266,266],"./All Hallows Eve.json":[4450,4450],"./Amy.json":[8849,8849],"./Birds of Paradise.json":[8097,8097],"./Blackboard.json":[8018,6115],"./Brilliance Black.json":[3835,3835],"./Brilliance Dull.json":[6507,6507],"./Chrome DevTools.json":[2508,2508],"./Clouds Midnight.json":[9566,9566],"./Clouds.json":[7951,7951],"./Cobalt.json":[826,826],"./Cobalt2.json":[8256,8256],"./Dawn.json":[6958,6958],"./Dominion Day.json":[9307,9307],"./Dracula.json":[3453,3453],"./Dreamweaver.json":[9363,9363],"./Eiffel.json":[2481,2481],"./Espresso Libre.json":[4776,4776],"./GitHub.json":[739,739],"./IDLE.json":[7947,7947],"./Katzenmilch.json":[1240,1240],"./Kuroir Theme.json":[4388,4388],"./LAZY.json":[5164,5164],"./MagicWB (Amiga).json":[6443,6443],"./Merbivore Soft.json":[9361,9361],"./Merbivore.json":[6042,6042],"./Monokai Bright.json":[4883,4883],"./Monokai.json":[4454,4454],"./Night Owl.json":[261,261],"./Oceanic Next.json":[8920,8920],"./Pastels on Dark.json":[8901,8901],"./Slush and Poppies.json":[6434,6434],"./Solarized-dark.json":[6116,6116],"./Solarized-light.json":[5008,5008],"./SpaceCadet.json":[440,440],"./Sunburst.json":[7172,8018],"./Textmate (Mac Classic).json":[5824,5824],"./Tomorrow-Night-Blue.json":[1150,1150],"./Tomorrow-Night-Bright.json":[8762,8762],"./Tomorrow-Night-Eighties.json":[2545,2545],"./Tomorrow-Night.json":[9855,9855],"./Tomorrow.json":[4092,4092],"./Twilight.json":[3898,3898],"./Upstream Sunburst.json":[8807,8807],"./Vibrant Ink.json":[9927,9927],"./Xcode_default.json":[4042,4042],"./Zenburnesque.json":[3467,3467],"./iPlastic.json":[8277,8277],"./idleFingers.json":[5104,5104],"./krTheme.json":[9633,9633],"./monoindustrial.json":[5729,5729],"./themelist.json":[9437]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(i,19)}))}i.keys=function(){return Object.keys(r)},i.id=7615,e.exports=i},9437:function(e){"use strict";e.exports=JSON.parse('{"active4d":"Active4D","all-hallows-eve":"All Hallows Eve","amy":"Amy","birds-of-paradise":"Birds of Paradise","blackboard":"Blackboard","brilliance-black":"Brilliance Black","brilliance-dull":"Brilliance Dull","chrome-devtools":"Chrome DevTools","clouds-midnight":"Clouds Midnight","clouds":"Clouds","cobalt":"Cobalt","cobalt2":"Cobalt2","dawn":"Dawn","dracula":"Dracula","dreamweaver":"Dreamweaver","eiffel":"Eiffel","espresso-libre":"Espresso Libre","github":"GitHub","idle":"IDLE","katzenmilch":"Katzenmilch","kuroir-theme":"Kuroir Theme","lazy":"LAZY","magicwb--amiga-":"MagicWB (Amiga)","merbivore-soft":"Merbivore Soft","merbivore":"Merbivore","monokai-bright":"Monokai Bright","monokai":"Monokai","night-owl":"Night Owl","oceanic-next":"Oceanic Next","pastels-on-dark":"Pastels on Dark","slush-and-poppies":"Slush and Poppies","solarized-dark":"Solarized-dark","solarized-light":"Solarized-light","spacecadet":"SpaceCadet","sunburst":"Sunburst","textmate--mac-classic-":"Textmate (Mac Classic)","tomorrow-night-blue":"Tomorrow-Night-Blue","tomorrow-night-bright":"Tomorrow-Night-Bright","tomorrow-night-eighties":"Tomorrow-Night-Eighties","tomorrow-night":"Tomorrow-Night","tomorrow":"Tomorrow","twilight":"Twilight","upstream-sunburst":"Upstream Sunburst","vibrant-ink":"Vibrant Ink","xcode-default":"Xcode_default","zenburnesque":"Zenburnesque","iplastic":"iPlastic","idlefingers":"idleFingers","krtheme":"krTheme","monoindustrial":"monoindustrial"}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{261:"7941bff1",266:"06ccb0b2",440:"8a1ae40f",739:"3bea9b35",826:"9734c8bf",1150:"8dd45f42",1240:"659a7847",2481:"9c873114",2508:"1225ac04",2545:"eeb0e09d",3453:"083a6c1b",3467:"b3c4afff",3835:"333a9d66",3898:"4f520ce7",4042:"baac4578",4092:"526a779e",4388:"a29eb0ca",4450:"c10c0eb9",4454:"66b36ae5",4776:"8b1e4b7f",4883:"16624be8",5008:"80f7c01f",5104:"006880ef",5164:"27f6c5f0",5729:"ac08bc12",5824:"1ca062c6",6042:"a4b3e6bf",6115:"af9eb42e",6116:"664242b5",6434:"7b2d0893",6443:"ad12d4b2",6507:"2c027360",6958:"ea2e7d29",7947:"c7ee0d58",7951:"deffd8e3",8018:"05ff0f62",8097:"aae3abf4",8256:"0be889f4",8277:"42ab63a8",8762:"95a0179d",8807:"dcc6d627",8849:"fd1aabcf",8901:"c7ebed98",8920:"74435303",9307:"78ed67f2",9361:"4e44cb81",9363:"75a24123",9566:"1d2422b2",9633:"02f01e0c",9855:"b9519993",9927:"3351dae9"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={};n.l=function(t,r,i,a){if(e[t])e[t].push(r);else{var o,s;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var l=u[c];if(l.getAttribute("src")==t){o=l;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.src=t),e[t]=[r];var f=function(n,r){o.onerror=o.onload=null,clearTimeout(h);var i=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(r)})),n)return n(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),s&&document.head.appendChild(o)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return dt},SDK_VERSION:function(){return Mn},_DEFAULT_ENTRY_NAME:function(){return xn},_addComponent:function(){return Sn},_addOrOverwriteComponent:function(){return Cn},_apps:function(){return In},_clearComponents:function(){return Rn},_components:function(){return Tn},_getProvider:function(){return Nn},_registerComponent:function(){return Pn},_removeServiceInstance:function(){return An},deleteApp:function(){return Vn},getApp:function(){return jn},getApps:function(){return Un},initializeApp:function(){return Fn},onLog:function(){return zn},registerVersion:function(){return qn},setLogLevel:function(){return Hn}});var t=n(2791),r=n.t(t,2),i=n(4164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||u()}function l(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(tD){return void n(tD)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){l(a,r,i,o,s,"next",e)}function s(e){l(a,r,i,o,s,"throw",e)}o(void 0)}))}}var h=n(7757),d=n.n(h);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function x(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.apply(n,[].concat(i,r))}}}function E(e){return{}.toString.call(e).includes("Object")}function I(e){return"function"===typeof e}var T=x((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),S={changes:function(e,t){return E(t)||T("changeType"),Object.keys(t).some((function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r}))&&T("changeField"),t},selector:function(e){I(e)||T("selectorType")},handler:function(e){I(e)||E(e)||T("handlerType"),E(e)&&Object.values(e).some((function(e){return!I(e)}))&&T("handlersType")},initial:function(e){var t;e||T("initialIsRequired"),E(e)||T("initialType"),t=e,Object.keys(t).length||T("initialContent")}};function C(e,t){return I(t)?t(e.current):t}function P(e,t){return e.current=w(w({},e.current),t),t}function N(e,t,n){return I(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}var A={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S.initial(e),S.handler(t);var n={current:e},r=x(N)(n,t),i=x(P)(n),a=x(S.changes)(e),o=x(C)(n);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return S.selector(e),e(n.current)}function u(e){_(r,i,a,o)(e)}return[s,u]}},R=A,O={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.33.0/min/vs"}};var D=function(e){return function t(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.apply(n,[].concat(i,r))}}};var L=function(e){return{}.toString.call(e).includes("Object")};var M={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},F=D((function(e,t){throw new Error(e[t]||e.default)}))(M),j={config:function(e){return e||F("configIsRequired"),L(e)||F("configType"),e.urls?(console.warn(M.deprecation),{paths:{vs:e.urls.monacoBase}}):e}},U=j,V=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};var B=function e(t,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))})),m(m({},t),n)},q={type:"cancelation",msg:"operation is manually canceled"};var z=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(q):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n},H=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(R.create({config:O,isInitialized:!1,resolve:null,reject:null,monaco:null}),2),W=H[0],K=H[1];function G(e){return document.body.appendChild(e)}function Q(e){var t=W((function(e){return{config:e.config,reject:e.reject}})),n=function(e){var t=document.createElement("script");return e&&(t.src=e),t}("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function Y(){var e=W((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){$(t),e.resolve(t)}),(function(t){e.reject(t)}))}function $(e){W().monaco||K({monaco:e})}var X=new Promise((function(e,t){return K({resolve:e,reject:t})})),J={config:function(e){var t=U.config(e),n=t.monaco,r=g(t,["monaco"]);K((function(e){return{config:B(e.config,r),monaco:n}}))},init:function(){var e=W((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized}}));if(!e.isInitialized){if(K({isInitialized:!0}),e.monaco)return z(Promise.resolve(e.monaco));if(window.monaco&&window.monaco.editor)return $(window.monaco),z(Promise.resolve(window.monaco));V(G,Q)(Y)}return z(X)},__getMonacoInstance:function(){return W((function(e){return e.monaco}))}},Z=J;function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=n(2007),ie=n.n(re);function ae(){return ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ae.apply(this,arguments)}var oe={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};var se=function(e){var n=e.content;return t.createElement("div",{style:oe},n)},ue={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function ce(e){var n=e.width,r=e.height,i=e.isEditorReady,a=e.loading,o=e._ref,s=e.className,u=e.wrapperProps;return t.createElement("section",ae({style:ne(ne({},ue.wrapper),{},{width:n,height:r})},u),!i&&t.createElement(se,{content:a}),t.createElement("div",{ref:o,style:ne(ne({},ue.fullWidth),!i&&ue.hide),className:s}))}ce.propTypes={width:ie().oneOfType([ie().number,ie().string]).isRequired,height:ie().oneOfType([ie().number,ie().string]).isRequired,loading:ie().oneOfType([ie().element,ie().string]).isRequired,isEditorReady:ie().bool.isRequired,className:ie().string,wrapperProps:ie().object};var le=ce,fe=(0,t.memo)(le);var he=function(e){(0,t.useEffect)(e,[])};var de=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=(0,t.useRef)(!0);(0,t.useEffect)(i.current||!r?function(){i.current=!1}:e,n)};function pe(){}function ve(e,t,n,r){return function(e,t){return e.editor.getModel(me(e,t))}(e,r)||function(e,t,n,r){return e.editor.createModel(t,n,r&&me(e,r))}(e,t,n,r)}function me(e,t){return e.Uri.parse(t)}function ge(e){var n=e.original,r=e.modified,i=e.language,a=e.originalLanguage,o=e.modifiedLanguage,s=e.originalModelPath,u=e.modifiedModelPath,l=e.keepCurrentOriginalModel,f=e.keepCurrentModifiedModel,h=e.theme,d=e.loading,p=e.options,v=e.height,m=e.width,g=e.className,y=e.wrapperProps,k=e.beforeMount,b=e.onMount,w=c((0,t.useState)(!1),2),_=w[0],x=w[1],E=c((0,t.useState)(!0),2),I=E[0],T=E[1],S=(0,t.useRef)(null),C=(0,t.useRef)(null),P=(0,t.useRef)(null),N=(0,t.useRef)(b),A=(0,t.useRef)(k);he((function(){var e=Z.init();return e.then((function(e){return(C.current=e)&&T(!1)})).catch((function(e){return"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e)})),function(){return S.current?function(){var e,t,n=S.current.getModel();l||null===(e=n.original)||void 0===e||e.dispose();f||null===(t=n.modified)||void 0===t||t.dispose();S.current.dispose()}():e.cancel()}})),de((function(){var e=S.current.getModifiedEditor();e.getOption(C.current.editor.EditorOption.readOnly)?e.setValue(r):r!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),e.pushUndoStop())}),[r],_),de((function(){S.current.getModel().original.setValue(n)}),[n],_),de((function(){var e=S.current.getModel(),t=e.original,n=e.modified;C.current.editor.setModelLanguage(t,a||i),C.current.editor.setModelLanguage(n,o||i)}),[i,a,o],_),de((function(){C.current.editor.setTheme(h)}),[h],_),de((function(){S.current.updateOptions(p)}),[p],_);var R=(0,t.useCallback)((function(){A.current(C.current);var e=ve(C.current,n,a||i,s),t=ve(C.current,r,o||i,u);S.current.setModel({original:e,modified:t})}),[i,r,o,n,a,s,u]),O=(0,t.useCallback)((function(){S.current=C.current.editor.createDiffEditor(P.current,ne({automaticLayout:!0},p)),R(),C.current.editor.setTheme(h),x(!0)}),[p,h,R]);return(0,t.useEffect)((function(){_&&N.current(S.current,C.current)}),[_]),(0,t.useEffect)((function(){!I&&!_&&O()}),[I,_,O]),t.createElement(fe,{width:m,height:v,isEditorReady:_,loading:d,_ref:P,className:g,wrapperProps:y})}ge.propTypes={original:ie().string,modified:ie().string,language:ie().string,originalLanguage:ie().string,modifiedLanguage:ie().string,originalModelPath:ie().string,modifiedModelPath:ie().string,keepCurrentOriginalModel:ie().bool,keepCurrentModifiedModel:ie().bool,theme:ie().string,loading:ie().oneOfType([ie().element,ie().string]),options:ie().object,width:ie().oneOfType([ie().number,ie().string]),height:ie().oneOfType([ie().number,ie().string]),className:ie().string,wrapperProps:ie().object,beforeMount:ie().func,onMount:ie().func},ge.defaultProps={theme:"light",loading:"Loading...",options:{},keepCurrentOriginalModel:!1,keepCurrentModifiedModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:pe,onMount:pe};var ye=function(e){var n=(0,t.useRef)();return(0,t.useEffect)((function(){n.current=e}),[e]),n.current},ke=new Map;function be(e){var n=e.defaultValue,r=e.defaultLanguage,i=e.defaultPath,a=e.value,o=e.language,s=e.path,u=e.theme,l=e.line,f=e.loading,h=e.options,d=e.overrideServices,p=e.saveViewState,v=e.keepCurrentModel,m=e.width,g=e.height,y=e.className,k=e.wrapperProps,b=e.beforeMount,w=e.onMount,_=e.onChange,x=e.onValidate,E=c((0,t.useState)(!1),2),I=E[0],T=E[1],S=c((0,t.useState)(!0),2),C=S[0],P=S[1],N=(0,t.useRef)(null),A=(0,t.useRef)(null),R=(0,t.useRef)(null),O=(0,t.useRef)(w),D=(0,t.useRef)(b),L=(0,t.useRef)(null),M=(0,t.useRef)(a),F=ye(s);he((function(){var e=Z.init();return e.then((function(e){return(N.current=e)&&P(!1)})).catch((function(e){return"cancelation"!==(null===e||void 0===e?void 0:e.type)&&console.error("Monaco initialization: error:",e)})),function(){return A.current?function(){var e,t;null===(e=L.current)||void 0===e||e.dispose(),v?p&&ke.set(s,A.current.saveViewState()):null===(t=A.current.getModel())||void 0===t||t.dispose();A.current.dispose()}():e.cancel()}})),de((function(){var e=ve(N.current,n||a,r||o,s);e!==A.current.getModel()&&(p&&ke.set(F,A.current.saveViewState()),A.current.setModel(e),p&&A.current.restoreViewState(ke.get(s)))}),[s],I),de((function(){A.current.updateOptions(h)}),[h],I),de((function(){A.current.getOption(N.current.editor.EditorOption.readOnly)?A.current.setValue(a):a!==A.current.getValue()&&(A.current.executeEdits("",[{range:A.current.getModel().getFullModelRange(),text:a,forceMoveMarkers:!0}]),A.current.pushUndoStop())}),[a],I),de((function(){N.current.editor.setModelLanguage(A.current.getModel(),o)}),[o],I),de((function(){void 0!==l&&A.current.revealLine(l)}),[l],I),de((function(){N.current.editor.setTheme(u)}),[u],I);var j=(0,t.useCallback)((function(){D.current(N.current);var e=s||i,t=ve(N.current,a||n,r||o,e);A.current=N.current.editor.create(R.current,ne({model:t,automaticLayout:!0},h),d),p&&A.current.restoreViewState(ke.get(e)),N.current.editor.setTheme(u),T(!0)}),[n,r,i,a,o,s,h,d,p,u]);return(0,t.useEffect)((function(){I&&O.current(A.current,N.current)}),[I]),(0,t.useEffect)((function(){!C&&!I&&j()}),[C,I,j]),M.current=a,(0,t.useEffect)((function(){var e,t;I&&_&&(null===(e=L.current)||void 0===e||e.dispose(),L.current=null===(t=A.current)||void 0===t?void 0:t.onDidChangeModelContent((function(e){var t=A.current.getValue();M.current!==t&&_(t,e)})))}),[I,_]),(0,t.useEffect)((function(){if(I){var e=N.current.editor.onDidChangeMarkers((function(e){var t,n=null===(t=A.current.getModel())||void 0===t?void 0:t.uri;if(n&&e.find((function(e){return e.path===n.path}))){var r=N.current.editor.getModelMarkers({resource:n});null===x||void 0===x||x(r)}}));return function(){null===e||void 0===e||e.dispose()}}}),[I,x]),t.createElement(fe,{width:m,height:g,isEditorReady:I,loading:f,_ref:R,className:y,wrapperProps:k})}be.propTypes={defaultValue:ie().string,defaultPath:ie().string,defaultLanguage:ie().string,value:ie().string,language:ie().string,path:ie().string,theme:ie().string,line:ie().number,loading:ie().oneOfType([ie().element,ie().string]),options:ie().object,overrideServices:ie().object,saveViewState:ie().bool,keepCurrentModel:ie().bool,width:ie().oneOfType([ie().number,ie().string]),height:ie().oneOfType([ie().number,ie().string]),className:ie().string,wrapperProps:ie().object,beforeMount:ie().func,onMount:ie().func,onChange:ie().func,onValidate:ie().func},be.defaultProps={theme:"light",loading:"Loading...",options:{},overrideServices:{},saveViewState:!0,keepCurrentModel:!1,width:"100%",height:"100%",wrapperProps:{},beforeMount:pe,onMount:pe,onValidate:pe};var we=be,_e=(0,t.memo)(we);function xe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ee(e){return function(e){if(Array.isArray(e))return o(e)}(e)||xe(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ie(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(e,t){return Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ne(e,t)}function Ae(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(e)}function Oe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Le(e,t){if(t&&("object"===De(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pe(e)}function Me(e){var t=Oe();return function(){var n,r=Re(e);if(t){var i=Re(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Le(this,n)}}function Fe(e,t,n){return Fe=Oe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Ne(i,n.prototype),i},Fe.apply(null,arguments)}function je(e){var t="function"===typeof Map?new Map:void 0;return je=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Fe(e,arguments,Re(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ne(n,e)},je(e)}var Ue=!1,Ve=!1,Be="${JSCORE_VERSION}",qe=function(e,t){if(!e)throw ze(t)},ze=function(e){return new Error("Firebase Database ("+Be+") INTERNAL ASSERT FAILED: "+e)},He=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},We={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(He(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new Ke;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ke=function(e){Ae(n,e);var t=Me(n);function n(){var e;return Te(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return Ce(n)}(je(Error)),Ge=function(e){var t=He(e);return We.encodeByteArray(t,!0)},Qe=function(e){return Ge(e).replace(/\./g,"")},Ye=function(e){try{return We.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function $e(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=$e(e[n],t[n]));return e}var Xe=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},Je=function(){try{return Xe()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAjZL5xO-3zIfSVfgKQeYPzFE54radQraA",REACT_APP_FIREBASE_APP_ID:"1:411595774832:web:fa617c4a3fa63db0534db5",REACT_APP_FIREBASE_AUTH_DOMAIN:"code-editor-9b25e.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-GTBQDQYY14",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"411595774832",REACT_APP_FIREBASE_PROJECT_ID:"code-editor-9b25e",REACT_APP_FIREBASE_STORAGE_BUCKET:"code-editor-9b25e.appspot.com",REACT_APP_RAPID_API_HOST:"judge0-ce.p.rapidapi.com",REACT_APP_RAPID_API_KEY:"1ea3733832msh8457fd96877b0d5p142de3jsncfed73d317ad",REACT_APP_RAPID_API_URL:"https://judge0-ce.p.rapidapi.com/submissions"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&Ye(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ze=function(e){var t,n;return null===(n=null===(t=Je())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},et=function(){var e;return null===(e=Je())||void 0===e?void 0:e.config},tt=function(e){var t;return null===(t=Je())||void 0===t?void 0:t["_".concat(e)]},nt=function(){function e(){var t=this;Te(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ce(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function rt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(a)),""].join(".")}function it(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function at(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function ot(){var e,t=null===(e=Je())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function st(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ut(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function ct(){var e=it();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function lt(){return!0===Ue||!0===Ve}function ft(){try{return"object"===typeof indexedDB}catch(e){return!1}}function ht(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(tD){t(tD)}}))}var dt=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){var a;return Te(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Pe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Pe(a),pt.prototype.create),a}return Ce(n)}(je(Error)),pt=function(){function e(t,n,r){Te(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ce(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?vt(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new dt(n,a,t);return o}}]),e}();function vt(e,t){return e.replace(mt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var mt=/\{\$([^}]+)}/g;function gt(e){return JSON.parse(e)}function yt(e){return JSON.stringify(e)}var kt=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=gt(Ye(a[0])||""),n=gt(Ye(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function bt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function _t(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xt(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Et(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(It(s)&&It(u)){if(!Et(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function It(e){return null!==e&&"object"===typeof e}function Tt(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function St(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ct(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Pt=function(){function e(){Te(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Ce(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Nt(e,t){var n=new At(e,t);return n.subscribe.bind(n)}var At=function(){function e(t,n){var r=this;Te(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ce(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Ie(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Rt),void 0===r.error&&(r.error=Rt),void 0===r.complete&&(r.complete=Rt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Rt(){}var Ot=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Dt(e,t){return"".concat(e," failed: ").concat(t," argument ")}function Lt(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(Dt(e,t)+"must be a valid function.")}function Mt(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(Dt(e,t)+"must be a valid context object.")}var Ft=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},jt=144e5;function Ut(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(jt,r+i)}function Vt(e){return e&&e._delegate?e._delegate:e}var Bt=function(){function e(t,n,r){Te(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ce(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),qt="[DEFAULT]",zt=function(){function e(t,n){Te(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ce(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new nt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qt})}catch(u){}var t,n=Ie(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=f(h.mark((function e(){var t;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Ee(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Ee(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Ie(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],f=this.normalizeInstanceIdentifier(u);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Ie(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(hC){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ht(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(hC){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;return this.component?this.component.multipleInstances?e:qt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Ht(e){return e===qt?void 0:e}var Wt,Kt,Gt=function(){function e(t){Te(this,e),this.name=t,this.providers=new Map}return Ce(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new zt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Qt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Kt||(Kt={}));var Yt={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},$t=Kt.INFO,Xt=(ee(Wt={},Kt.DEBUG,"log"),ee(Wt,Kt.VERBOSE,"log"),ee(Wt,Kt.INFO,"info"),ee(Wt,Kt.WARN,"warn"),ee(Wt,Kt.ERROR,"error"),Wt),Jt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Xt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Zt=function(){function e(t){Te(this,e),this.name=t,this._logLevel=$t,this._logHandler=Jt,this._userLogHandler=null,Qt.push(this)}return Ce(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Kt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Yt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Kt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Kt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Kt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Kt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Kt.INFO].concat(t)),this._logHandler.apply(this,[this,Kt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Kt.WARN].concat(t)),this._logHandler.apply(this,[this,Kt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Kt.ERROR].concat(t)),this._logHandler.apply(this,[this,Kt.ERROR].concat(t))}}]),e}();var en,tn;var nn=new WeakMap,rn=new WeakMap,an=new WeakMap,on=new WeakMap,sn=new WeakMap;var un={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return rn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||an.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function cn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(tn||(tn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(hn(this),n),fn(nn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fn(e.apply(hn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[hn(this),t].concat(r));return an.set(a,t.sort?t.sort():[t]),fn(a)}}function ln(e){return"function"===typeof e?cn(e):(e instanceof IDBTransaction&&function(e){if(!rn.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));rn.set(e,t)}}(e),t=e,(en||(en=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,un):e);var t}function fn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(fn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&nn.set(t,e)})).catch((function(){})),sn.set(t,e),t}(e);if(on.has(e))return on.get(e);var t=ln(e);return t!==e&&(on.set(e,t),sn.set(t,e)),t}var hn=function(e){return sn.get(e)};var dn,pn,vn=["get","getKey","getAll","getAllKeys","count"],mn=["put","add","delete","clear"],gn=new Map;function yn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(gn.get(t))return gn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=mn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||vn.includes(n))){var a=function(){var e=f(h.mark((function e(t){var a,o,s,u,c,l,f=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return gn.set(t,a),a}}}un=function(e){return ne(ne({},e),{},{get:function(t,n,r){return yn(t,n)||e.get(t,n,r)},has:function(t,n){return!!yn(t,n)||e.has(t,n)}})}(un);var kn=function(){function e(t){Te(this,e),this.container=t}return Ce(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var bn="@firebase/app",wn="0.9.9",_n=new Zt("@firebase/app"),xn="[DEFAULT]",En=(ee(dn={},bn,"fire-core"),ee(dn,"@firebase/app-compat","fire-core-compat"),ee(dn,"@firebase/analytics","fire-analytics"),ee(dn,"@firebase/analytics-compat","fire-analytics-compat"),ee(dn,"@firebase/app-check","fire-app-check"),ee(dn,"@firebase/app-check-compat","fire-app-check-compat"),ee(dn,"@firebase/auth","fire-auth"),ee(dn,"@firebase/auth-compat","fire-auth-compat"),ee(dn,"@firebase/database","fire-rtdb"),ee(dn,"@firebase/database-compat","fire-rtdb-compat"),ee(dn,"@firebase/functions","fire-fn"),ee(dn,"@firebase/functions-compat","fire-fn-compat"),ee(dn,"@firebase/installations","fire-iid"),ee(dn,"@firebase/installations-compat","fire-iid-compat"),ee(dn,"@firebase/messaging","fire-fcm"),ee(dn,"@firebase/messaging-compat","fire-fcm-compat"),ee(dn,"@firebase/performance","fire-perf"),ee(dn,"@firebase/performance-compat","fire-perf-compat"),ee(dn,"@firebase/remote-config","fire-rc"),ee(dn,"@firebase/remote-config-compat","fire-rc-compat"),ee(dn,"@firebase/storage","fire-gcs"),ee(dn,"@firebase/storage-compat","fire-gcs-compat"),ee(dn,"@firebase/firestore","fire-fst"),ee(dn,"@firebase/firestore-compat","fire-fst-compat"),ee(dn,"fire-js","fire-js"),ee(dn,"firebase","fire-js-all"),dn),In=new Map,Tn=new Map;function Sn(e,t){try{e.container.addComponent(t)}catch(n){_n.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Cn(e,t){e.container.addOrOverwriteComponent(t)}function Pn(e){var t=e.name;if(Tn.has(t))return _n.debug("There were multiple attempts to register component ".concat(t,".")),!1;Tn.set(t,e);var n,r=Ie(In.values());try{for(r.s();!(n=r.n()).done;){Sn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Nn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function An(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xn;Nn(e,t).clearInstance(n)}function Rn(){Tn.clear()}var On=(ee(pn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ee(pn,"bad-app-name","Illegal App name: '{$appName}"),ee(pn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ee(pn,"app-deleted","Firebase App named '{$appName}' already deleted"),ee(pn,"no-options","Need to provide options, when not being deployed to hosting via source."),ee(pn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ee(pn,"invalid-log-argument","First argument to `onLog` must be null or a function."),ee(pn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),ee(pn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),ee(pn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),ee(pn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),pn),Dn=new pt("app","Firebase",On),Ln=function(){function e(t,n,r){var i=this;Te(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",(function(){return i}),"PUBLIC"))}return Ce(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}]),e}(),Mn="9.21.0";function Fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){var r=t;t={name:r}}var i=Object.assign({name:xn,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw Dn.create("bad-app-name",{appName:String(a)});if(n||(n=et()),!n)throw Dn.create("no-options");var o=In.get(a);if(o){if(Et(n,o.options)&&Et(i,o.config))return o;throw Dn.create("duplicate-app",{appName:a})}var s,u=new Gt(a),c=Ie(Tn.values());try{for(c.s();!(s=c.n()).done;){var l=s.value;u.addComponent(l)}}catch(h){c.e(h)}finally{c.f()}var f=new Ln(n,i,u);return In.set(a,f),f}function jn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=In.get(e);if(!t&&e===xn)return Fn();if(!t)throw Dn.create("no-app",{appName:e});return t}function Un(){return Array.from(In.values())}function Vn(e){return Bn.apply(this,arguments)}function Bn(){return Bn=f(h.mark((function e(t){var n;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!In.has(n)){e.next=6;break}return In.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Bn.apply(this,arguments)}function qn(e,t,n){var r,i=null!==(r=En[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void _n.warn(s.join(" "))}Pn(new Bt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function zn(e,t){if(null!==e&&"function"!==typeof e)throw Dn.create("invalid-log-argument");!function(e,t){var n,r=Ie(Qt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Yt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Kt[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Hn(e){var t;t=e,Qt.forEach((function(e){e.setLogLevel(t)}))}var Wn="firebase-heartbeat-store",Kn=null;function Gn(){return Kn||(Kn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=fn(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(fn(s.result),e.oldVersion,e.newVersion,fn(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Wn)}}).catch((function(e){throw Dn.create("idb-open",{originalErrorMessage:e.message})}))),Kn}function Qn(e){return Yn.apply(this,arguments)}function Yn(){return Yn=f(h.mark((function e(t){var n,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gn();case 3:return n=e.sent,e.abrupt("return",n.transaction(Wn).objectStore(Wn).get(Jn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof dt?_n.warn(e.t0.message):(r=Dn.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),_n.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Yn.apply(this,arguments)}function $n(e,t){return Xn.apply(this,arguments)}function Xn(){return Xn=f(h.mark((function e(t,n){var r,i,a,o;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gn();case 3:return r=e.sent,i=r.transaction(Wn,"readwrite"),a=i.objectStore(Wn),e.next=8,a.put(n,Jn(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof dt?_n.warn(e.t0.message):(o=Dn.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),_n.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Xn.apply(this,arguments)}function Jn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Zn=function(){function e(t){var n=this;Te(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new rr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ce(e,[{key:"triggerHeartbeat",value:function(){var e=f(h.mark((function e(){var t,n,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=er(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=f(h.mark((function e(){var t,n,r,i,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=er(),n=tr(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Qe(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function er(){return(new Date).toISOString().substring(0,10)}function tr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Ie(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),ir(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ir(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var nr,rr=function(){function e(t){Te(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ce(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=f(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ft()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",ht().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=f(h.mark((function e(){var t;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Qn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=f(h.mark((function e(t){var n,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",$n(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=f(h.mark((function e(t){var n,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",$n(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Ee(r.heartbeats),Ee(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ir(e){return Qe(JSON.stringify({version:2,heartbeats:e})).length}nr="",Pn(new Bt("platform-logger",(function(e){return new kn(e)}),"PRIVATE")),Pn(new Bt("heartbeat",(function(e){return new Zn(e)}),"PRIVATE")),qn(bn,wn,nr),qn(bn,wn,"esm2017"),qn("fire-js","");qn("firebase","9.21.0","app");var ar,or;var sr=new WeakMap,ur=new WeakMap,cr=new WeakMap,lr=new WeakMap,fr=new WeakMap;var hr={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ur.get(e);if("objectStoreNames"===t)return e.objectStoreNames||cr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function dr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(or||(or=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(mr(this),n),vr(sr.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vr(e.apply(mr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[mr(this),t].concat(r));return cr.set(a,t.sort?t.sort():[t]),vr(a)}}function pr(e){return"function"===typeof e?dr(e):(e instanceof IDBTransaction&&function(e){if(!ur.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ur.set(e,t)}}(e),t=e,(ar||(ar=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,hr):e);var t}function vr(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(vr(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&sr.set(t,e)})).catch((function(){})),fr.set(t,e),t}(e);if(lr.has(e))return lr.get(e);var t=pr(e);return t!==e&&(lr.set(e,t),fr.set(t,e)),t}var mr=function(e){return fr.get(e)};var gr,yr=["get","getKey","getAll","getAllKeys","count"],kr=["put","add","delete","clear"],br=new Map;function wr(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(br.get(t))return br.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=kr.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||yr.includes(n))){var a=function(){var e=f(h.mark((function e(t){var a,o,s,u,c,l,f=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return br.set(t,a),a}}}!function(e){hr=e(hr)}((function(e){return ne(ne({},e),{},{get:function(t,n,r){return wr(t,n)||e.get(t,n,r)},has:function(t,n){return!!wr(t,n)||e.has(t,n)}})}));var _r="@firebase/installations",xr="0.6.4",Er=1e4,Ir="w:".concat(xr),Tr="FIS_v2",Sr=36e5,Cr=(ee(gr={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),ee(gr,"not-registered","Firebase Installation is not registered."),ee(gr,"installation-not-found","Firebase Installation not found."),ee(gr,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),ee(gr,"app-offline","Could not process request. Application offline."),ee(gr,"delete-pending-registration","Can't delete installation while there is a pending registration request."),gr),Pr=new pt("installations","Installations",Cr);function Nr(e){return e instanceof dt&&e.code.includes("request-failed")}function Ar(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Rr(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Or(e,t){return Dr.apply(this,arguments)}function Dr(){return(Dr=f(h.mark((function e(t,n){var r,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",Pr.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lr(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Mr(e,t){var n=t.refreshToken,r=Lr(e);return r.append("Authorization",function(e){return"".concat(Tr," ").concat(e)}(n)),r}function Fr(e){return jr.apply(this,arguments)}function jr(){return jr=f(h.mark((function e(t){var n;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function Ur(e,t){return Vr.apply(this,arguments)}function Vr(){return(Vr=f(h.mark((function e(t,n){var r,i,a,o,s,u,c,l,f,d,p,v;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=Ar(r),s=Lr(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:Tr,appId:r.appId,sdkVersion:Ir},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,Fr((function(){return fetch(o,f)}));case 14:if(!(d=e.sent).ok){e.next=23;break}return e.next=18,d.json();case 18:return p=e.sent,v={fid:p.fid||a,registrationStatus:2,refreshToken:p.refreshToken,authToken:Rr(p.authToken)},e.abrupt("return",v);case 23:return e.next=25,Or("Create Installation",d);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Br(e){return new Promise((function(t){setTimeout(t,e)}))}var qr=/^[cdef][\w-]{21}$/;function zr(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Ee(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return qr.test(t)?t:""}catch(hC){return""}}function Hr(e){return"".concat(e.appName,"!").concat(e.appId)}var Wr=new Map;function Kr(e,t){var n=Hr(e);Gr(n,t),function(e,t){var n=Yr();n&&n.postMessage({key:e,fid:t});$r()}(n,t)}function Gr(e,t){var n=Wr.get(e);if(n){var r,i=Ie(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var Qr=null;function Yr(){return!Qr&&"BroadcastChannel"in self&&((Qr=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Gr(e.data.key,e.data.fid)}),Qr}function $r(){0===Wr.size&&Qr&&(Qr.close(),Qr=null)}var Xr="firebase-installations-store",Jr=null;function Zr(){return Jr||(Jr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=vr(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(vr(s.result),e.oldVersion,e.newVersion,vr(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Xr)}})),Jr}function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=f(h.mark((function e(t,n){var r,i,a,o,s;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hr(t),e.next=3,Zr();case 3:return i=e.sent,a=i.transaction(Xr,"readwrite"),o=a.objectStore(Xr),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||Kr(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e){return ri.apply(this,arguments)}function ri(){return ri=f(h.mark((function e(t){var n,r,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hr(t),e.next=3,Zr();case 3:return r=e.sent,i=r.transaction(Xr,"readwrite"),e.next=7,i.objectStore(Xr).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=f(h.mark((function e(t,n){var r,i,a,o,s,u;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hr(t),e.next=3,Zr();case 3:return i=e.sent,a=i.transaction(Xr,"readwrite"),o=a.objectStore(Xr),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||Kr(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e){return si.apply(this,arguments)}function si(){return(si=f(h.mark((function e(t){var n,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ii(t.appConfig,(function(e){var r=ui(e),i=ci(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ui(e){return pi(e||{fid:zr(),registrationStatus:0})}function ci(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Pr.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return li.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:fi(e)}:{installationEntry:t}}function li(){return(li=f(h.mark((function e(t,n){var r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ur(t,n);case 3:return r=e.sent,e.abrupt("return",ei(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!Nr(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,ni(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,ei(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function fi(e){return hi.apply(this,arguments)}function hi(){return(hi=f(h.mark((function e(t){var n,r,i,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,di(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Br(100);case 6:return e.next=8,di(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,oi(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function di(e){return ii(e,(function(e){if(!e)throw Pr.create("installation-not-found");return pi(e)}))}function pi(e){return 1===(t=e).registrationStatus&&t.registrationTime+Er<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function vi(e,t){return mi.apply(this,arguments)}function mi(){return(mi=f(h.mark((function e(t,n){var r,i,a,o,s,u,c,l,f,d,p;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=gi(r,n),o=Mr(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:Ir,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,Fr((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return d=e.sent,p=Rr(d),e.abrupt("return",p);case 22:return e.next=24,Or("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gi(e,t){var n=t.fid;return"".concat(Ar(e),"/").concat(n,"/authTokens:generate")}function yi(e){return ki.apply(this,arguments)}function ki(){return ki=f(h.mark((function e(t){var n,r,i,a,o=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,ii(t.appConfig,(function(e){if(!Ii(e))throw Pr.create("not-registered");var i=e.authToken;if(!n&&Ti(i))return e;if(1===i.requestStatus)return r=bi(t,n),e;if(!navigator.onLine)throw Pr.create("app-offline");var a=Si(e);return r=xi(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}function bi(e,t){return wi.apply(this,arguments)}function wi(){return(wi=f(h.mark((function e(t,n){var r,i;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_i(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,Br(100);case 6:return e.next=8,_i(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",yi(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _i(e){return ii(e,(function(e){if(!Ii(e))throw Pr.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Er<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function xi(e,t){return Ei.apply(this,arguments)}function Ei(){return(Ei=f(h.mark((function e(t,n){var r,i,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vi(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,ei(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!Nr(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,ni(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,ei(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Ii(e){return void 0!==e&&2===e.registrationStatus}function Ti(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Sr}(e)}function Si(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Ci(){return(Ci=f(h.mark((function e(t){var n,r,i,a;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,oi(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):yi(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pi(){return Pi=f(h.mark((function e(t){var n,r,i,a=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,Ni(r);case 4:return e.next=6,yi(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),Pi.apply(this,arguments)}function Ni(e){return Ai.apply(this,arguments)}function Ai(){return(Ai=f(h.mark((function e(t){var n,r;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ri(e){return Pr.create("missing-app-config-values",{valueName:e})}var Oi,Di="installations",Li=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ri("App Configuration");if(!e.name)throw Ri("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw Ri(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Nn(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},Mi=function(e){var t=Nn(e.getProvider("app").getImmediate(),Di).getImmediate(),n={getId:function(){return function(e){return Ci.apply(this,arguments)}(t)},getToken:function(e){return function(e){return Pi.apply(this,arguments)}(t,e)}};return n};Pn(new Bt(Di,Li,"PUBLIC")),Pn(new Bt("installations-internal",Mi,"PRIVATE")),qn(_r,xr),qn(_r,xr,"esm2017");var Fi="analytics",ji=6e4,Ui="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vi="https://www.googletagmanager.com/gtag/js",Bi=new Zt("@firebase/analytics"),qi=(ee(Oi={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),ee(Oi,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),ee(Oi,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),ee(Oi,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),ee(Oi,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),ee(Oi,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),ee(Oi,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),ee(Oi,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),ee(Oi,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),ee(Oi,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),ee(Oi,"no-client-id",'The "client_id" field is empty.'),ee(Oi,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),Oi),zi=new pt("analytics","Analytics",qi);function Hi(e){if(!e.startsWith(Vi)){var t=zi.create("invalid-gtag-resource",{gtagURL:e});return Bi.warn(t.message),""}return e}function Wi(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Ki(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Hi}),r=document.createElement("script"),i="".concat(Vi,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Gi(e,t,n,r,i,a){return Qi.apply(this,arguments)}function Qi(){return Qi=f(h.mark((function e(t,n,r,i,a,o){var s,u,c;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,Wi(r);case 9:if(u=e.sent,c=u.find((function(e){return e.measurementId===a})),!c){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Bi.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),Qi.apply(this,arguments)}function Yi(e,t,n,r,i){return $i.apply(this,arguments)}function $i(){return $i=f(h.mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,Wi(r);case 7:u=e.sent,c=Ie(s),e.prev=9,f=function(){var e=l.value,t=u.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Bi.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),$i.apply(this,arguments)}function Xi(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return i=f(h.mark((function i(a){var o,s,u,c,l,f,d,p,v,m,g,y,k=arguments;return h.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(i.prev=0,o=k.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=k[u];if("event"!==a){i.next=8;break}return c=s[0],l=s[1],i.next=6,Yi(e,t,n,c,l);case 6:i.next=15;break;case 8:if("config"!==a){i.next=14;break}return f=s[0],d=s[1],i.next=12,Gi(e,t,n,r,f,d);case 12:i.next=15;break;case 14:"consent"===a?(p=s[0],e("consent","update",p)):"get"===a?(v=s[0],m=s[1],g=s[2],e("get",v,m,g)):"set"===a?(y=s[0],e("set",y)):e.apply(void 0,[a].concat(s));case 15:i.next=20;break;case 17:i.prev=17,i.t0=i.catch(0),Bi.error(i.t0);case 20:case"end":return i.stop()}}),i,null,[[0,17]])}))),i.apply(this,arguments)}return function(e){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function Ji(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(Vi)&&i.src.includes(e))return i}return null}var Zi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Te(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Ce(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),ea=new Zi;function ta(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function na(e){return ra.apply(this,arguments)}function ra(){return ra=f(h.mark((function e(t){var n,r,i,a,o,s,u,c;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:ta(i)},o=Ui.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw zi.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),ra.apply(this,arguments)}function ia(e){return aa.apply(this,arguments)}function aa(){return aa=f(h.mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:ea,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw zi.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw zi.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new ha,setTimeout(f(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:ji),e.abrupt("return",oa({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}function oa(e,t,n){return sa.apply(this,arguments)}function sa(){return sa=f(h.mark((function e(t,n,r){var i,a,o,s,u,c,l,f,d,p,v=arguments;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=v.length>3&&void 0!==v[3]?v[3]:ea,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,ua(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return Bi.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,na(t);case 17:return l=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),ca(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(u),!c){e.next=32;break}return Bi.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 32:throw e.t1;case 33:return d=503===Number(null===(s=null===f||void 0===f?void 0:f.customData)||void 0===s?void 0:s.httpStatus)?Ut(a,o.intervalMillis,30):Ut(a,o.intervalMillis),p={throttleEndTimeMillis:Date.now()+d,backoffCount:a+1},o.setThrottleMetadata(u,p),Bi.debug("Calling attemptFetch again in ".concat(d," millis")),e.abrupt("return",oa(t,p,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),sa.apply(this,arguments)}function ua(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(zi.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function ca(e){if(!(e instanceof dt)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var la,fa,ha=function(){function e(){Te(this,e),this.listeners=[]}return Ce(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function da(){return da=f(h.mark((function e(t,n,r,i,a){var o,s;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(e){fa=e}function va(e){la=e}function ma(){return ga.apply(this,arguments)}function ga(){return(ga=f(h.mark((function e(){return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ft()){e.next=5;break}return Bi.warn(zi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,ht();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Bi.warn(zi.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function ya(){return ya=f(h.mark((function e(t,n,r,i,a,o,s){var u,l,f,d,p,v,m,g;return h.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(l=ia(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Bi.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Bi.error(e)})),n.push(l),f=ma().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([l,f]);case 6:return d=e.sent,p=c(d,2),v=p[0],m=p[1],Ji(o)||Ki(o,v.measurementId),fa&&(a("consent","default",fa),pa(void 0)),a("js",new Date),(g=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{}).origin="firebase",g.update=!0,null!=m&&(g.firebase_id=m),a("config",v.measurementId,g),la&&(a("set",la),va(void 0)),e.abrupt("return",v.measurementId);case 20:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}var ka,ba,wa=function(){function e(t){Te(this,e),this.app=t}return Ce(e,[{key:"_delete",value:function(){return delete _a[this.app.options.appId],Promise.resolve()}}]),e}(),_a={},xa=[],Ea={},Ia="dataLayer",Ta="gtag",Sa=!1;function Ca(){var e=[];if(st()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=zi.create("invalid-analytics-context",{errorInfo:t});Bi.warn(n.message)}}function Pa(e,t,n){Ca();var r=e.options.appId;if(!r)throw zi.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw zi.create("no-api-key");Bi.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=_a[r])throw zi.create("already-exists",{id:r});if(!Sa){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Ia);var i=Xi(_a,xa,Ea,Ia,Ta),a=i.wrappedGtag,o=i.gtagCore;ba=a,ka=o,Sa=!0}return _a[r]=function(e,t,n,r,i,a,o){return ya.apply(this,arguments)}(e,xa,Ea,t,ka,Ia,n),new wa(e)}function Na(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Nn(e,Fi);if(n.isInitialized()){var r=n.getImmediate();if(Et(t,n.getOptions()))return r;throw zi.create("already-initialized")}var i=n.initialize({options:t});return i}function Aa(e,t,n,r){e=Vt(e),function(e,t,n,r,i){return da.apply(this,arguments)}(ba,_a[e.app.options.appId],t,n,r).catch((function(e){return Bi.error(e)}))}var Ra,Oa="@firebase/analytics",Da="0.10.0";Pn(new Bt(Fi,(function(e,t){var n=t.options;return Pa(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Pn(new Bt("analytics-internal",(function(e){try{var t=e.getProvider(Fi).getImmediate();return{logEvent:function(e,n,r){return Aa(t,e,n,r)}}}catch(n){throw zi.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),qn(Oa,Da),qn(Oa,Da,"esm2017");var La=function(){function e(t,n){var r=this;Te(this,e),this._delegate=t,this.firebase=n,Sn(t,new Bt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ce(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Vn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Sn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Cn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ma=(ee(Ra={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ee(Ra,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ra),Fa=new pt("app-compat","Firebase",Ma);var ja=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Fn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(bt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:qn,setLogLevel:Hn,onLog:zn,apps:null,SDK_VERSION:Mn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Pn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Fa.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&$e(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!bt(n,e=e||xn))throw Fa.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(La);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){$e(n,e)},createSubscribe:Nt,ErrorFactory:pt,deepExtend:$e}),n}(),Ua=new Zt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Ua.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Va=self.firebase.SDK_VERSION;Va&&Va.indexOf("LITE")>=0&&Ua.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ba=ja;!function(e){qn("@firebase/app-compat","0.2.9",e)}();function qa(e){return a(e)||xe(e)||s(e)||u()}function za(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Re(e)););return e}function Ha(){return Ha="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=za(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Ha.apply(this,arguments)}Ba.registerVersion("firebase","9.21.0","app-compat");function Wa(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ka;Object.create;var Ga="facebook.com",Qa="github.com",Ya="google.com",$a="password",Xa="twitter.com",Ja="EMAIL_SIGNIN",Za="PASSWORD_RESET",eo="RECOVER_EMAIL",to="REVERT_SECOND_FACTOR_ADDITION",no="VERIFY_AND_CHANGE_EMAIL",ro="VERIFY_EMAIL";function io(){return ee({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ao=function(){var e;return ee(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ee(e,"argument-error",""),ee(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ee(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ee(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ee(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ee(e,"cordova-not-ready","Cordova framework is not ready."),ee(e,"cors-unsupported","This browser is not supported."),ee(e,"credential-already-in-use","This credential is already associated with a different user account."),ee(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ee(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ee(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ee(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ee(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ee(e,"email-already-in-use","The email address is already in use by another account."),ee(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ee(e,"expired-action-code","The action code has expired."),ee(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ee(e,"internal-error","An internal AuthError has occurred."),ee(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ee(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ee(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ee(e,"invalid-auth-event","An internal AuthError has occurred."),ee(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ee(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ee(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ee(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ee(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ee(e,"invalid-email","The email address is badly formatted."),ee(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ee(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ee(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ee(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ee(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ee(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ee(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ee(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ee(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ee(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ee(e,"wrong-password","The password is invalid or the user does not have a password."),ee(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ee(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ee(e,"invalid-provider-id","The specified provider ID is invalid."),ee(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ee(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ee(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ee(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ee(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ee(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ee(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ee(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ee(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ee(e,"missing-continue-uri","A continue URL must be provided in the request."),ee(e,"missing-iframe-start","An internal AuthError has occurred."),ee(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ee(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ee(e,"missing-password","A non-empty password must be provided"),ee(e,"missing-multi-factor-info","No second factor identifier is provided."),ee(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ee(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ee(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ee(e,"app-deleted","This instance of FirebaseApp has been deleted."),ee(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ee(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ee(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ee(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ee(e,"no-auth-event","An internal AuthError has occurred."),ee(e,"no-such-provider","User was not linked to an account with the given provider."),ee(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ee(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ee(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ee(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ee(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ee(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ee(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ee(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ee(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ee(e,"rejected-credential","The request contains malformed or mismatching credentials."),ee(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ee(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ee(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ee(e,"timeout","The operation has timed out."),ee(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ee(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ee(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ee(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ee(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ee(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ee(e,"unverified-email","The operation requires a verified email."),ee(e,"user-cancelled","The user did not grant your application the permissions it requested."),ee(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ee(e,"user-disabled","The user account has been disabled by an administrator."),ee(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ee(e,"user-signed-out",""),ee(e,"weak-password","The password must be 6 characters long or more."),ee(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ee(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),ee(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),ee(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),ee(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),ee(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),ee(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),ee(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),ee(e,"invalid-req-type","Invalid request parameters."),ee(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},oo=io,so=new pt("auth","Firebase",io()),uo=new Zt("@firebase/auth");function co(e){if(uo.logLevel<=Kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];uo.warn.apply(uo,["Auth (".concat(Mn,"): ").concat(e)].concat(n))}}function lo(e){if(uo.logLevel<=Kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];uo.error.apply(uo,["Auth (".concat(Mn,"): ").concat(e)].concat(n))}}function fo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw mo.apply(void 0,[e].concat(n))}function ho(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return mo.apply(void 0,[e].concat(n))}function po(e,t,n){var r=Object.assign(Object.assign({},oo()),ee({},t,n));return new pt("auth","Firebase",r).create(t,{appName:e.name})}function vo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&fo(e,"argument-error"),po(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function mo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Ee(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Ee(o)))}return so.create.apply(so,[e].concat(n))}function go(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw mo.apply(void 0,[t].concat(r))}}function yo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw lo(t),new Error(t)}function ko(e,t){e||yo(t)}function bo(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function wo(){return"http:"===_o()||"https:"===_o()}function _o(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var xo=function(){function e(t,n){Te(this,e),this.shortDelay=t,this.longDelay=n,ko(n>t,"Short delay should be less than long delay!"),this.isMobile=at()||ut()}return Ce(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(wo()||st()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Eo(e,t){ko(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Io=function(){function e(){Te(this,e)}return Ce(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),To=(ee(Ka={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ee(Ka,"MISSING_CUSTOM_TOKEN","internal-error"),ee(Ka,"INVALID_IDENTIFIER","invalid-email"),ee(Ka,"MISSING_CONTINUE_URI","internal-error"),ee(Ka,"INVALID_PASSWORD","wrong-password"),ee(Ka,"MISSING_PASSWORD","missing-password"),ee(Ka,"EMAIL_EXISTS","email-already-in-use"),ee(Ka,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ee(Ka,"INVALID_IDP_RESPONSE","invalid-credential"),ee(Ka,"INVALID_PENDING_TOKEN","invalid-credential"),ee(Ka,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ee(Ka,"MISSING_REQ_TYPE","internal-error"),ee(Ka,"EMAIL_NOT_FOUND","user-not-found"),ee(Ka,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ee(Ka,"EXPIRED_OOB_CODE","expired-action-code"),ee(Ka,"INVALID_OOB_CODE","invalid-action-code"),ee(Ka,"MISSING_OOB_CODE","internal-error"),ee(Ka,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ee(Ka,"INVALID_ID_TOKEN","invalid-user-token"),ee(Ka,"TOKEN_EXPIRED","user-token-expired"),ee(Ka,"USER_NOT_FOUND","user-token-expired"),ee(Ka,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ee(Ka,"INVALID_CODE","invalid-verification-code"),ee(Ka,"INVALID_SESSION_INFO","invalid-verification-id"),ee(Ka,"INVALID_TEMPORARY_PROOF","invalid-credential"),ee(Ka,"MISSING_SESSION_INFO","missing-verification-id"),ee(Ka,"SESSION_EXPIRED","code-expired"),ee(Ka,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ee(Ka,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ee(Ka,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ee(Ka,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ee(Ka,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ee(Ka,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ee(Ka,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ee(Ka,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ee(Ka,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ee(Ka,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ee(Ka,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ee(Ka,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),ee(Ka,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),ee(Ka,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),ee(Ka,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),ee(Ka,"MISSING_CLIENT_TYPE","missing-client-type"),ee(Ka,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),ee(Ka,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),ee(Ka,"INVALID_REQ_TYPE","invalid-req-type"),Ka),So=new xo(3e4,6e4);function Co(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Po(e,t,n,r){return No.apply(this,arguments)}function No(){return No=f(d().mark((function e(t,n,r,i){var a,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ao(t,a,f(d().mark((function e(){var a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Tt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Io.fetch()(Lo(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Ao(e,t,n){return Ro.apply(this,arguments)}function Ro(){return Ro=f(d().mark((function e(t,n,r){var i,a,o,s,u,l,f,h,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},To),n),e.prev=2,a=new Mo(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Fo(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),f=c(l,2),h=f[0],p=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Fo(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Fo(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Fo(t,"user-disabled",s);case 29:if(v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!p){e.next=34;break}throw po(t,v,p);case 34:fo(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof dt)){e.next=41;break}throw e.t0;case 41:fo(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ro.apply(this,arguments)}function Oo(e,t,n,r){return Do.apply(this,arguments)}function Do(){return Do=f(d().mark((function e(t,n,r,i){var a,o,s=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Po(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&fo(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Lo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Eo(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Mo=function(){function e(t){var n=this;Te(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(ho(n.auth,"network-request-failed"))}),So.get())}))}return Ce(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Fo(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=ho(e,t,r);return i.customData._tokenResponse=n,i}function jo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function Vo(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function qo(e,t){return zo.apply(this,arguments)}function zo(){return zo=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),zo.apply(this,arguments)}function Ho(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Wo(){return Wo=f(d().mark((function e(t){var n,r,i,a,o,s,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Vt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,go((a=Go(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ho(Ko(a.auth_time)),issuedAtTime:Ho(Ko(a.iat)),expirationTime:Ho(Ko(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Ko(e){return 1e3*Number(e)}function Go(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return lo("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ye(r);return a?JSON.parse(a):(lo("Failed to decode base64 JWT payload"),null)}catch(o){return lo("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function Qo(e,t){return Yo.apply(this,arguments)}function Yo(){return Yo=f(d().mark((function e(t,n){var r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof dt&&$o(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Yo.apply(this,arguments)}function $o(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Xo=function(){function e(t){Te(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ce(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(f(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Jo=function(){function e(t,n){Te(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ce(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ho(this.lastLoginAt),this.creationTime=Ho(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Zo(e){return es.apply(this,arguments)}function es(){return es=f(d().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Qo(t,qo(r,{idToken:i}));case 6:go(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?rs(o.providerUserInfo):[],u=ns(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jo(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(){return(ts=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vt(t),e.next=3,Zo(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Ee(n),Ee(t))}function rs(e){return e.map((function(e){var t=e.providerId,n=Wa(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function is(e,t){return as.apply(this,arguments)}function as(){return as=f(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao(t,{},f(d().mark((function e(){var r,i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Lo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Io.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}var os=function(){function e(){Te(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ce(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){go(e.idToken,"internal-error"),go("undefined"!==typeof e.idToken,"internal-error"),go("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Go(e);return go(t,"internal-error"),go("undefined"!==typeof t.exp,"internal-error"),go("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=f(d().mark((function e(t){var n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],go(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=f(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,is(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return yo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(go("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(go("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(go("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function ss(e,t){go("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var us=function(){function e(t){Te(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Wa(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Ee(a.providerData):[],this.metadata=new Jo(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ce(e,[{key:"getIdToken",value:function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qo(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(go(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Wo.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ts.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(go(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){go(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=f(d().mark((function e(t){var n,r,i=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Zo(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=f(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Qo(this,jo(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;go(k&&x,t,"internal-error");var E=os.fromJSON(this.name,x);go("string"===typeof k,t,"internal-error"),ss(f,t.name),ss(h,t.name),go("boolean"===typeof b,t,"internal-error"),go("boolean"===typeof w,t,"internal-error"),ss(d,t.name),ss(p,t.name),ss(v,t.name),ss(m,t.name),ss(g,t.name),ss(y,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(I.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=f(d().mark((function t(n,r){var i,a,o,s=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new os).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Zo(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),cs=new Map;function ls(e){ko(e instanceof Function,"Expected a class definition");var t=cs.get(e);return t?(ko(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cs.set(e,t),t)}var fs=function(){function e(){Te(this,e),this.type="NONE",this.storage={}}return Ce(e,[{key:"_isAvailable",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();fs.type="NONE";var hs=fs;function ds(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var ps=function(){function e(t,n,r){Te(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=ds(this.userKey,a.apiKey,o),this.fullPersistenceKey=ds("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ce(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=f(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?us._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=f(d().mark((function t(n,r){var i,a,o,s,u,c,l,h,p,v,m,g=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=g.length>2&&void 0!==g[2]?g[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(ls(hs),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||ls(hs),s=ds(i,n.config.apiKey,n.name),u=null,c=Ie(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(p=t.sent)){t.next=23;break}return v=us._fromJSON(n,p),h!==o&&(u=v),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=m[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function vs(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ks(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ms(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ws(t))return"Blackberry";if(_s(t))return"Webos";if(gs(t))return"Safari";if((t.includes("chrome/")||ys(t))&&!t.includes("edge/"))return"Chrome";if(bs(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function ms(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/firefox\//i.test(e)}function gs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/crios\//i.test(e)}function ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/iemobile/i.test(e)}function bs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/android/i.test(e)}function ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/blackberry/i.test(e)}function _s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/webos/i.test(e)}function xs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Es(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return xs(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Is(){return ct()&&10===document.documentMode}function Ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return xs(e)||bs(e)||_s(e)||ws(e)||/windows phone/i.test(e)||ks(e)}function Ss(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=vs(it());break;case"Worker":t="".concat(vs(it()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Mn,"/").concat(r)}function Cs(e){return Ps.apply(this,arguments)}function Ps(){return Ps=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Po(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Ps.apply(this,arguments)}function Ns(e,t){return As.apply(this,arguments)}function As(){return As=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(t,"GET","/v2/recaptchaConfig",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),As.apply(this,arguments)}function Rs(e){return void 0!==e&&void 0!==e.getResponse}function Os(e){return void 0!==e&&void 0!==e.enterprise}var Ds=Ce((function e(t){if(Te(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Ls(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=ho("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ms(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Fs="https://www.google.com/recaptcha/enterprise.js?render=",js="NO_RECAPTCHA",Us=function(){function e(t){Te(this,e),this.type="recaptcha-enterprise",this.auth=Hs(t)}return Ce(e,[{key:"verify",value:function(){var e=f(d().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Os(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n(js)}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=f(d().mark((function e(n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ns(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Ds(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Os(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Ls(Fs+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Vs(e,t,n){return Bs.apply(this,arguments)}function Bs(){return Bs=f(d().mark((function e(t,n,r){var i,a,o,s,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],a=new Us(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Bs.apply(this,arguments)}var qs=function(){function e(t){Te(this,e),this.auth=t,this.queue=[]}return Ce(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=f(d().mark((function e(t){var n,r,i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=Ie(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=Ie(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(FA){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zs=function(){function e(t,n,r,i){Te(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ws(this),this.idTokenSubscription=new Ws(this),this.beforeStateQueue=new qs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=so,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return Ce(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=ls(t)),this._initializationPromise=this.queue(f(d().mark((function r(){var i,a;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,ps.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=f(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=f(d().mark((function e(t){var n,r,i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return go(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zo(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Vt(t):null)&&go(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=f(d().mark((function e(t){var n,r=this,i=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&go(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(f(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(ls(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=f(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ns(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Ds(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Us(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new pt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=f(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return go(n=t&&ls(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,ps.create(this,[ls(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=f(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=f(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return go(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return go(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ss(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=f(d().mark((function e(){var t,n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ee({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=f(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&co("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Hs(e){return Vt(e)}var Ws=function(){function e(t){var n=this;Te(this,e),this.auth=t,this.observer=null,this.addObserver=Nt((function(e){return n.observer=e}))}return Ce(e,[{key:"next",get:function(){return go(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Ks(e,t){var n=Nn(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Et(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;fo(r,"already-initialized")}return n.initialize({options:t})}function Gs(e,t,n){var r=Hs(e);go(r._canInitEmulator,r,"emulator-config-failed"),go(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Qs(t),o=function(e){var t=Qs(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Ys(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Ys(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qs(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ys(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var $s=function(){function e(t,n){Te(this,e),this.providerId=t,this.signInMethod=n}return Ce(e,[{key:"toJSON",value:function(){return yo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return yo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return yo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return yo("not implemented")}}]),e}();function Xs(e,t){return Js.apply(this,arguments)}function Js(){return Js=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(t,"POST","/v1/accounts:resetPassword",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Zs(e,t){return eu.apply(this,arguments)}function eu(){return eu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(t,"POST","/v1/accounts:update",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:signInWithPassword",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),iu.apply(this,arguments)}function au(e,t){return ou.apply(this,arguments)}function ou(){return ou=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(t,"POST","/v1/accounts:sendOobCode",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),ou.apply(this,arguments)}function su(e,t){return uu.apply(this,arguments)}function uu(){return uu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",au(t,n));case 1:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}function cu(e,t){return lu.apply(this,arguments)}function lu(){return lu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",au(t,n));case 1:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}function fu(e,t){return hu.apply(this,arguments)}function hu(){return hu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",au(t,n));case 1:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}function du(e,t){return pu.apply(this,arguments)}function pu(){return pu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",au(t,n));case 1:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function vu(e,t){return mu.apply(this,arguments)}function mu(){return mu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:signInWithEmailLink",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),mu.apply(this,arguments)}function gu(e,t){return yu.apply(this,arguments)}function yu(){return yu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:signInWithEmailLink",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}var ku=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Te(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ce(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=f(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Vs(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",ru(t,i));case 11:return e.abrupt("return",ru(t,r).catch(function(){var e=f(d().mark((function e(n){var i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Vs(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",ru(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",vu(t,{email:this._email,oobCode:this._password}));case 13:fo(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Zs(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",gu(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:fo(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}($s);function bu(e,t){return wu.apply(this,arguments)}function wu(){return wu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:signInWithIdp",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),wu.apply(this,arguments)}var _u=function(e){Ae(n,e);var t=Me(n);function n(){var e;return Te(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ce(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return bu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fo("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Wa(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}($s);function xu(e,t){return Eu.apply(this,arguments)}function Eu(){return Eu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(t,"POST","/v1/accounts:sendVerificationCode",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),Eu.apply(this,arguments)}function Iu(){return Iu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:signInWithPhoneNumber",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Tu(){return Tu=f(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(t,"POST","/v1/accounts:signInWithPhoneNumber",Co(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Fo(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}var Su=ee({},"USER_NOT_FOUND","user-not-found");function Cu(){return Cu=f(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Oo(t,"POST","/v1/accounts:signInWithPhoneNumber",Co(t,r),Su));case 2:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}var Pu=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ce(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Iu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Tu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Cu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}($s);var Nu=function(){function e(t){var n,r,i,a,o,s;Te(this,e);var u=St(Ct(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);go(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Ce(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=St(Ct(e)).link,n=t?St(Ct(t)).deep_link_id:null,r=St(Ct(e)).deep_link_id;return(r?St(Ct(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(hC){return null}}}]),e}();var Au=function(){function e(){Te(this,e),this.providerId=e.PROVIDER_ID}return Ce(e,null,[{key:"credential",value:function(e,t){return ku._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Nu.parseLink(t);return go(n,"argument-error"),ku._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Au.PROVIDER_ID="password",Au.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ru=function(){function e(t){Te(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ce(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ou=function(e){Ae(n,e);var t=Me(n);function n(){var e;return Te(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ce(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Ee(this.scopes)}}]),n}(Ru),Du=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return go(e.idToken||e.accessToken,"argument-error"),_u._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return go("providerId"in t&&"signInMethod"in t,"argument-error"),_u._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(c){return null}}}]),n}(Ou),Lu=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.call(this,"facebook.com")}return Ce(n,null,[{key:"credential",value:function(e){return _u._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(hC){return null}}}]),n}(Ou);Lu.FACEBOOK_SIGN_IN_METHOD="facebook.com",Lu.PROVIDER_ID="facebook.com";var Mu=function(e){Ae(n,e);var t=Me(n);function n(){var e;return Te(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ce(n,null,[{key:"credential",value:function(e,t){return _u._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(hC){return null}}}]),n}(Ou);Mu.GOOGLE_SIGN_IN_METHOD="google.com",Mu.PROVIDER_ID="google.com";var Fu=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.call(this,"github.com")}return Ce(n,null,[{key:"credential",value:function(e){return _u._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(hC){return null}}}]),n}(Ou);Fu.GITHUB_SIGN_IN_METHOD="github.com",Fu.PROVIDER_ID="github.com";var ju=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ce(n,[{key:"_getIdTokenResponse",value:function(e){return bu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,bu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,bu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}($s),Uu=function(e){Ae(n,e);var t=Me(n);function n(e){return Te(this,n),go(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ce(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=ju.fromJSON(e);return go(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return ju._create(r,n)}catch(i){return null}}}]),n}(Ru),Vu=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.call(this,"twitter.com")}return Ce(n,null,[{key:"credential",value:function(e,t){return _u._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(hC){return null}}}]),n}(Ou);function Bu(e,t){return qu.apply(this,arguments)}function qu(){return qu=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:signUp",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}Vu.TWITTER_SIGN_IN_METHOD="twitter.com",Vu.PROVIDER_ID="twitter.com";var zu=function(){function e(t){Te(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ce(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=f(d().mark((function t(n,r,i){var a,o,s,u,c=arguments;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,us._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Hu(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=f(d().mark((function t(n,r,i){var a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Hu(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Hu(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Wu(){return Wu=f(d().mark((function e(t){var n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hs(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new zu({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Bu(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,zu._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Wu.apply(this,arguments)}var Ku=function(e){Ae(n,e);var t=Me(n);function n(e,r,i,a){var o,s;return Te(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Pe(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ce(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(dt);function Gu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ku._fromErrorAndOperation(e,n,t,r);throw n}))}function Qu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Yu(e,t){return $u.apply(this,arguments)}function $u(){return $u=f(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vt(t),e.next=3,Zu(!0,r,n);case 3:return e.t0=Vo,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Qu(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Xu(e,t){return Ju.apply(this,arguments)}function Ju(){return Ju=f(d().mark((function e(t,n){var r,i,a=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Qo,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",zu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}function Zu(e,t,n){return ec.apply(this,arguments)}function ec(){return(ec=f(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zo(n);case 2:i=Qu(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",go(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tc(e,t){return nc.apply(this,arguments)}function nc(){return nc=f(d().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Qo(t,Gu(i,a,n,t),r);case 6:return go((o=e.sent).idToken,i,"internal-error"),go(s=Go(o.idToken),i,"internal-error"),u=s.sub,go(t.uid===u,i,"user-mismatch"),e.abrupt("return",zu._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&fo(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),nc.apply(this,arguments)}function rc(e,t){return ic.apply(this,arguments)}function ic(){return ic=f(d().mark((function e(t,n){var r,i,a,o,s=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Gu(t,i,n);case 4:return a=e.sent,e.next=7,zu._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function ac(e,t){return oc.apply(this,arguments)}function oc(){return oc=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rc(Hs(t),n));case 1:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}function sc(e,t){return uc.apply(this,arguments)}function uc(){return(uc=f(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vt(t),e.next=3,Zu(!1,r,n.providerId);case 3:return e.abrupt("return",Xu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cc(e,t){return lc.apply(this,arguments)}function lc(){return(lc=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tc(Vt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fc(e,t){return hc.apply(this,arguments)}function hc(){return hc=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oo(t,"POST","/v1/accounts:signInWithCustomToken",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function dc(){return dc=f(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Hs(t),e.next=3,fc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,zu._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),dc.apply(this,arguments)}var pc=function(){function e(t,n){Te(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ce(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?vc._fromServerResponse(e,t):"totpInfo"in t?mc._fromServerResponse(e,t):fo(e,"internal-error")}}]),e}(),vc=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ce(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(pc),mc=function(e){Ae(n,e);var t=Me(n);function n(e){return Te(this,n),t.call(this,"totp",e)}return Ce(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(pc);function gc(e,t,n){var r;go((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),go("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(go(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(go(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function yc(){return yc=f(d().mark((function e(t,n,r){var i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Hs(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Vs(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&gc(a,s,r),e.next=9,cu(a,s);case 9:e.next=14;break;case 11:return r&&gc(a,o,r),e.next=14,cu(a,o).catch(function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Vs(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&gc(a,n,r),e.next=8,cu(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function kc(){return kc=f(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xs(Vt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function bc(){return bc=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tu(Vt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(e,t){return _c.apply(this,arguments)}function _c(){return _c=f(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vt(t),e.next=3,Xs(r,{oobCode:n});case 3:i=e.sent,go(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return go(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:go(i.mfaInfo,r,"internal-error");case 13:go(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=pc._fromServerResponse(Hs(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),_c.apply(this,arguments)}function xc(){return xc=f(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(Vt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function Ec(e,t,n){return Ic.apply(this,arguments)}function Ic(){return Ic=f(d().mark((function e(t,n,r){var i,a,o,s,u,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Hs(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Vs(a,o,"signUpPassword");case 5:u=e.sent,s=Bu(a,u),e.next=10;break;case 9:s=Bu(a,o).catch(function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Vs(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Bu(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,zu._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Tc(e,t,n){return ac(Vt(e),Au.credential(t,n))}function Sc(){return Sc=f(d().mark((function e(t,n,r){var i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){go(t.handleCodeInApp,a,"argument-error"),t&&gc(a,e,t)},a=Hs(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Vs(a,o,"getOobCode",!0);case 6:return u=e.sent,s(u,r),e.next=10,fu(a,u);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,fu(a,o).catch(function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Vs(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,fu(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Cc(){return Cc=f(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vt(t),go((a=Au.credentialWithLink(n,r||bo()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",ac(i,a));case 4:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Pc(e,t){return Nc.apply(this,arguments)}function Nc(){return Nc=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(t,"POST","/v1/accounts:createAuthUri",Co(t,n)));case 1:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Ac(){return Ac=f(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=wo()?bo():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Pc(Vt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Ac.apply(this,arguments)}function Rc(){return(Rc=f(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Vt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&gc(r.auth,a,n),e.next=8,su(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oc(){return(Oc=f(d().mark((function e(t,n,r){var i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&gc(i.auth,o,r),e.next=8,du(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dc(e,t){return Lc.apply(this,arguments)}function Lc(){return Lc=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Po(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Mc(){return(Mc=f(d().mark((function e(t,n){var r,i,a,o,s,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Vt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Qo(a,Dc(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fc(e,t,n){return jc.apply(this,arguments)}function jc(){return jc=f(d().mark((function e(t,n,r){var i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Qo(t,Zs(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}var Uc=Ce((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Te(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Vc=function(e){Ae(n,e);var t=Me(n);function n(e,r,i,a){var o;return Te(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ce(n)}(Uc),Bc=function(e){Ae(n,e);var t=Me(n);function n(e,r){return Te(this,n),t.call(this,e,"facebook.com",r)}return Ce(n)}(Uc),qc=function(e){Ae(n,e);var t=Me(n);function n(e,r){return Te(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ce(n)}(Vc),zc=function(e){Ae(n,e);var t=Me(n);function n(e,r){return Te(this,n),t.call(this,e,"google.com",r)}return Ce(n)}(Uc),Hc=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){return Te(this,n),t.call(this,e,"twitter.com",r,i)}return Ce(n)}(Vc);function Wc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Go(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Uc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Bc(a,i);case"github.com":return new qc(a,i);case"google.com":return new zc(a,i);case"twitter.com":return new Hc(a,i,e.screenName||null);case"custom":case"anonymous":return new Uc(a,null);default:return new Uc(a,r,i)}}(n)}function Kc(e,t,n,r){return Vt(e).onIdTokenChanged(t,n,r)}function Gc(e,t,n){return Vt(e).beforeAuthStateChanged(t,n)}var Qc=function(){function e(t,n,r){Te(this,e),this.type=t,this.credential=n,this.auth=r}return Ce(e,[{key:"toJSON",value:function(){return{multiFactorSession:ee({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Yc=function(){function e(t,n,r){Te(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ce(e,[{key:"resolveSignIn",value:function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Hs(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return pc._fromServerResponse(r,e)}));go(i.mfaPendingCredential,r,"internal-error");var o=Qc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=f(d().mark((function e(t){var a,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,zu._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return go(n.user,r,"internal-error"),e.abrupt("return",zu._forOperation(n.user,n.operationType,s));case 17:fo(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function $c(e,t){return Po(e,"POST","/v2/accounts/mfaEnrollment:start",Co(e,t))}function Xc(e,t){return Po(e,"POST","/v2/accounts/mfaEnrollment:start",Co(e,t))}function Jc(e,t){return Po(e,"POST","/v2/accounts/mfaEnrollment:finalize",Co(e,t))}function Zc(e,t){return Po(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Co(e,t))}var el=function(){function e(t){var n=this;Te(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return pc._fromServerResponse(t.auth,e)})))}))}return Ce(e,[{key:"getSession",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Qc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=f(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Qo(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=f(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,Qo(this.user,Zc(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),tl=new WeakMap;var nl="__sak",rl=function(){function e(t,n){Te(this,e),this.storageRetriever=t,this.type=n}return Ce(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(nl,"1"),this.storage.removeItem(nl),Promise.resolve(!0)):Promise.resolve(!1)}catch(hC){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var il=function(e){Ae(n,e);var t=Me(n);function n(){var e;return Te(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=it();return gs(e)||xs(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ts(),e._shouldAllowMigration=!0,e}return Ce(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Is()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=f(d().mark((function e(t,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(Re(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=f(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(Re(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(Re(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(rl);il.type="LOCAL";var al=il,ol=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ce(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(rl);ol.type="SESSION";var sl=ol;function ul(e){return Promise.all(e.map(function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var cl=function(){function e(t){Te(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ce(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=f(d().mark((function e(t){var n,r,i,a,o,s,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ul(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function ll(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}cl.receivers=[];var fl=function(){function e(t){Te(this,e),this.target=t,this.handlers=new Set}return Ce(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=f(d().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=ll("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function hl(){return window}function dl(e){hl().location.href=e}function pl(){return"undefined"!==typeof hl().WorkerGlobalScope&&"function"===typeof hl().importScripts}function vl(){return ml.apply(this,arguments)}function ml(){return(ml=f(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function gl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var yl="firebaseLocalStorageDb",kl="firebaseLocalStorage",bl="fbase_key",wl=function(){function e(t){Te(this,e),this.request=t}return Ce(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function _l(e,t){return e.transaction([kl],t?"readwrite":"readonly").objectStore(kl)}function xl(){var e=indexedDB.deleteDatabase(yl);return new wl(e).toPromise()}function El(){var e=indexedDB.open(yl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(kl,{keyPath:bl})}catch(r){n(r)}})),e.addEventListener("success",f(d().mark((function n(){var r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(kl)){n.next=12;break}return r.close(),n.next=5,xl();case 5:return n.t0=t,n.next=8,El();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Il(e,t,n){return Tl.apply(this,arguments)}function Tl(){return Tl=f(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=_l(t,!0).put((ee(i={},bl,n),ee(i,"value",r),i)),e.abrupt("return",new wl(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Sl(e,t){return Cl.apply(this,arguments)}function Cl(){return Cl=f(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=_l(t,!1).get(n),e.next=3,new wl(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Cl.apply(this,arguments)}function Pl(e,t){var n=_l(e,!0).delete(t);return new wl(n).toPromise()}var Nl=function(){function e(){Te(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ce(e,[{key:"_openDb",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,El();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=f(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pl()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=f(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=cl._getInstance(pl()?self:null),this.receiver._subscribe("keyChanged",function(){var e=f(d().mark((function e(n,r){var i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=f(d().mark((function e(){var t,n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vl();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new fl(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&gl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=f(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,El();case 5:return t=e.sent,e.next=8,Il(t,nl,"1");case 8:return e.next=10,Pl(t,nl);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=f(d().mark((function e(t,n){var r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Il(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Sl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=f(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Pl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=f(d().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=_l(e,!1).getAll();return new wl(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Ie(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(f(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Nl.type="LOCAL";var Al=Nl;function Rl(e,t){return Po(e,"POST","/v2/accounts/mfaSignIn:start",Co(e,t))}function Ol(e,t){return Po(e,"POST","/v2/accounts/mfaSignIn:finalize",Co(e,t))}var Dl=1e12,Ll=function(){function e(t){Te(this,e),this.auth=t,this.counter=Dl,this._widgets=new Map}return Ce(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Ml(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Dl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Dl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=f(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Dl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ml=function(){function e(t,n,r){var i=this;Te(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;go(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ce(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Fl=Ms("rcb"),jl=new xo(3e4,6e4),Ul="https://www.google.com/recaptcha/api.js?",Vl=function(){function e(){var t;Te(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=hl().grecaptcha)||void 0===t?void 0:t.render)}return Ce(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return go(Bl(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Rs(hl().grecaptcha)?Promise.resolve(hl().grecaptcha):new Promise((function(r,i){var a=hl().setTimeout((function(){i(ho(e,"network-request-failed"))}),jl.get());hl()[Fl]=function(){hl().clearTimeout(a),delete hl()[Fl];var o=hl().grecaptcha;if(o&&Rs(o)){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(ho(e,"internal-error"))},Ls("".concat(Ul,"?").concat(Tt({onload:Fl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(ho(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=hl().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Bl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var ql=function(){function e(){Te(this,e)}return Ce(e,[{key:"load",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Ll(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),zl="recaptcha",Hl={theme:"light",type:"image"},Wl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Hl),r=arguments.length>2?arguments[2]:void 0;Te(this,e),this.parameters=n,this.type=zl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hs(r),this.isInvisible="invisible"===this.parameters.size,go("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;go(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ql:new Vl,this.validateStartingState()}return Ce(e,[{key:"verify",value:function(){var e=f(d().mark((function e(){var t,n,r,i=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){go(!this.parameters.sitekey,this.auth,"argument-error"),go(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),go("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=hl()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){go(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=f(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=f(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return go(wo()&&!pl(),this.auth,"internal-error"),e.next=3,Kl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Cs(this.auth);case 8:go(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return go(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Kl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Gl=function(){function e(t,n){Te(this,e),this.verificationId=t,this.onConfirmation=n}return Ce(e,[{key:"confirm",value:function(e){var t=Pu._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ql(){return Ql=f(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hs(t),e.next=3,Jl(i,n,Vt(r));case 3:return a=e.sent,e.abrupt("return",new Gl(a,(function(e){return ac(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}function Yl(e,t,n){return $l.apply(this,arguments)}function $l(){return($l=f(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vt(t),e.next=3,Zu(!1,i,"phone");case 3:return e.next=5,Jl(i.auth,n,Vt(r));case 5:return a=e.sent,e.abrupt("return",new Gl(a,(function(e){return sc(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xl(){return(Xl=f(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Vt(t),e.next=3,Jl(i.auth,n,Vt(r));case 3:return a=e.sent,e.abrupt("return",new Gl(a,(function(e){return cc(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jl(e,t,n){return Zl.apply(this,arguments)}function Zl(){return Zl=f(d().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,go("string"===typeof a,t,"argument-error"),go(r.type===zl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return go("enroll"===s.type,t,"internal-error"),e.next=13,$c(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return go("signin"===s.type,t,"internal-error"),go(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Rl(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,xu(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Zl.apply(this,arguments)}function ef(){return(ef=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xu(Vt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tf=function(){function e(t){Te(this,e),this.providerId=e.PROVIDER_ID,this.auth=Hs(t)}return Ce(e,[{key:"verifyPhoneNumber",value:function(e,t){return Jl(this.auth,e,Vt(t))}}],[{key:"credential",value:function(e,t){return Pu._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Pu._fromTokenResponse(n,r):null}}]),e}();function nf(e,t){return t?ls(t):(go(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}tf.PROVIDER_ID="phone",tf.PHONE_SIGN_IN_METHOD="phone";var rf=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ce(n,[{key:"_getIdTokenResponse",value:function(e){return bu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return bu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return bu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}($s);function af(e){return rc(e.auth,new rf(e),e.bypassAuthState)}function of(e){var t=e.auth,n=e.user;return go(n,t,"internal-error"),tc(n,new rf(e),e.bypassAuthState)}function sf(e){return uf.apply(this,arguments)}function uf(){return uf=f(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,go(r=t.user,n,"internal-error"),e.abrupt("return",Xu(r,new rf(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),uf.apply(this,arguments)}var cf=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Te(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ce(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=f(d().mark((function t(n,r){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=f(d().mark((function e(t){var n,r,i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return af;case"linkViaPopup":case"linkViaRedirect":return sf;case"reauthViaPopup":case"reauthViaRedirect":return of;default:fo(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),lf=new xo(2e3,1e4);function ff(e,t,n){return hf.apply(this,arguments)}function hf(){return hf=f(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hs(t),vo(t,n,Ru),a=nf(i,r),o=new mf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),hf.apply(this,arguments)}function df(){return(df=f(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vo((i=Vt(t)).auth,n,Ru),a=nf(i.auth,r),o=new mf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pf(e,t,n){return vf.apply(this,arguments)}function vf(){return(vf=f(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vo((i=Vt(t)).auth,n,Ru),a=nf(i.auth,r),o=new mf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mf=function(e){Ae(n,e);var t=Me(n);function n(e,r,i,a,o){var s;return Te(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Pe(s),s}return Ce(n,[{key:"executeNotNull",value:function(){var e=f(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return go(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=f(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ko(1===this.filter.length,"Popup operations only handle one event"),t=ll(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(ho(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ho(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(ho(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,lf.get())}()}}]),n}(cf);mf.currentPopupAction=null;var gf=new Map,yf=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Te(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ce(n,[{key:"execute",value:function(){var e=f(d().mark((function e(){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=gf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,kf(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Ha(Re(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:gf.set(this.auth._key(),t);case 21:return this.bypassAuthState||gf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=f(d().mark((function e(t){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Ha(Re(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Ha(Re(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(cf);function kf(e,t){return bf.apply(this,arguments)}function bf(){return bf=f(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=If(n),i=Ef(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),bf.apply(this,arguments)}function wf(e,t){return _f.apply(this,arguments)}function _f(){return _f=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ef(t)._set(If(n),"true"));case 1:case"end":return e.stop()}}),e)}))),_f.apply(this,arguments)}function xf(e,t){gf.set(e._key(),t)}function Ef(e){return ls(e._redirectPersistence)}function If(e){return ds("pendingRedirect",e.config.apiKey,e.name)}function Tf(e,t,n){return function(e,t,n){return Sf.apply(this,arguments)}(e,t,n)}function Sf(){return Sf=f(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Hs(t),vo(t,n,Ru),e.next=4,i._initializationPromise;case 4:return a=nf(i,r),e.next=7,wf(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Sf.apply(this,arguments)}function Cf(e,t,n){return function(e,t,n){return Pf.apply(this,arguments)}(e,t,n)}function Pf(){return(Pf=f(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vo((i=Vt(t)).auth,n,Ru),e.next=4,i.auth._initializationPromise;case 4:return a=nf(i.auth,r),e.next=7,wf(a,i.auth);case 7:return e.next=9,Mf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nf(e,t,n){return function(e,t,n){return Af.apply(this,arguments)}(e,t,n)}function Af(){return(Af=f(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vo((i=Vt(t)).auth,n,Ru),e.next=4,i.auth._initializationPromise;case 4:return a=nf(i.auth,r),e.next=7,Zu(!1,i,n.providerId);case 7:return e.next=9,wf(a,i.auth);case 9:return e.next=11,Mf(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rf(e,t){return Of.apply(this,arguments)}function Of(){return Of=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hs(t)._initializationPromise;case 2:return e.abrupt("return",Df(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}function Df(e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=f(d().mark((function e(t,n){var r,i,a,o,s,u=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Hs(t),a=nf(i,n),o=new yf(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Lf.apply(this,arguments)}function Mf(e){return Ff.apply(this,arguments)}function Ff(){return(Ff=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ll("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jf=function(){function e(t){Te(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ce(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Vf(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ho(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Uf(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Uf(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Uf(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Vf(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Bf(e){return qf.apply(this,arguments)}function qf(){return qf=f(d().mark((function e(t){var n,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Po(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),qf.apply(this,arguments)}var zf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hf=/^https?/;function Wf(){return Wf=f(d().mark((function e(t){var n,r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Bf(t);case 4:n=e.sent,r=n.authorizedDomains,i=Ie(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Kf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:fo(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Wf.apply(this,arguments)}function Kf(e){var t=bo(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Hf.test(r))return!1;if(zf.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Gf=new xo(3e4,6e4);function Qf(){var e=hl().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Ee(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Yf=null;function $f(e){return Yf=Yf||function(e){return new Promise((function(t,n){var r,i,a;function o(){Qf(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Qf(),n(ho(e,"network-request-failed"))},timeout:Gf.get()})}if(null===(i=null===(r=hl().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=hl().gapi)||void 0===a?void 0:a.load)){var s=Ms("iframefcb");return hl()[s]=function(){gapi.load?o():n(ho(e,"network-request-failed"))},Ls("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Yf=null,e}))}(e),Yf}var Xf=new xo(5e3,15e3),Jf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eh(e){var t=e.config;go(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Eo(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Mn},i=Zf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Tt(r).slice(1))}function th(e){return nh.apply(this,arguments)}function nh(){return nh=f(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$f(t);case 2:return n=e.sent,go(r=hl().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:eh(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jf,dontclear:!0},(function(e){return new Promise(function(){var n=f(d().mark((function n(r,i){var a,o,s;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){hl().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=ho(t,"network-request-failed"),o=hl().setTimeout((function(){i(a)}),Xf.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),nh.apply(this,arguments)}var rh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ih="_blank",ah="http://localhost",oh=function(){function e(t){Te(this,e),this.window=t,this.associatedEvent=null}return Ce(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function sh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},rh),{width:r.toString(),height:i.toString(),top:a,left:o}),l=it().toLowerCase();n&&(s=ys(l)?ih:n),ms(l)&&(t=t||ah,u.scrollbars="yes");var f=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Es(l)&&"_self"!==s)return uh(t||"",s),new oh(null);var h=window.open(t||"",s,f);go(h,e,"popup-blocked");try{h.focus()}catch(d){}return new oh(h)}function uh(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ch=encodeURIComponent("fac");function lh(e,t,n,r,i,a){return fh.apply(this,arguments)}function fh(){return fh=f(d().mark((function e(t,n,r,i,a,o){var s,u,l,f,h,p,v,m,g,y,k,b,w;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(go(t.config.authDomain,t,"auth-domain-config-required"),go(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Mn,eventId:a},n instanceof Ru)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",_t(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),u=0,l=Object.entries(o||{});u<l.length;u++)f=c(l[u],2),h=f[0],p=f[1],s[h]=p;for(n instanceof Ou&&(v=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=v.join(",")),t.tenantId&&(s.tid=t.tenantId),m=s,g=0,y=Object.keys(m);g<y.length;g++)k=y[g],void 0===m[k]&&delete m[k];return e.next=10,t._getAppCheckToken();case 10:return b=e.sent,w=b?"#".concat(ch,"=").concat(encodeURIComponent(b)):"",e.abrupt("return","".concat(hh(t),"?").concat(Tt(m).slice(1)).concat(w));case 13:case"end":return e.stop()}}),e)}))),fh.apply(this,arguments)}function hh(e){var t=e.config;return t.emulator?Eo(t,"emulator/auth/handler"):"https://".concat(t.authDomain,"/").concat("__/auth/handler")}var dh="webStorageSupport",ph=function(){function e(){Te(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sl,this._completeRedirectFn=Df,this._overrideRedirectResult=xf}return Ce(e,[{key:"_openPopup",value:function(){var e=f(d().mark((function e(t,n,r,i){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ko(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,lh(t,n,r,bo(),i);case 3:return o=e.sent,e.abrupt("return",sh(t,o,ll()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=f(d().mark((function e(t,n,r,i){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,lh(t,n,r,bo(),i);case 4:return dl(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(ko(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=f(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,th(t);case 2:return n=e.sent,r=new jf(t),n.register("authEvent",(function(e){return go(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(dh,{type:dh},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),fo(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Wf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ts()||gs()||xs()}}]),e}(),vh=ph,mh=function(){function e(t){Te(this,e),this.factorId=t}return Ce(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return yo("unexpected MultiFactorSessionType")}}}]),e}(),gh=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this,"phone")).credential=e,r}return Ce(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Po(e,"POST","/v2/accounts/mfaEnrollment:finalize",Co(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Po(e,"POST","/v2/accounts/mfaSignIn:finalize",Co(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(mh),yh=function(){function e(){Te(this,e)}return Ce(e,null,[{key:"assertion",value:function(e){return gh._fromCredential(e)}}]),e}();yh.FACTOR_ID="phone";var kh=function(){function e(){Te(this,e)}return Ce(e,null,[{key:"assertionForEnrollment",value:function(e,t){return bh._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return bh._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=f(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return go("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,Xc(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",wh._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();kh.FACTOR_ID="totp";var bh=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){var a;return Te(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return Ce(n,[{key:"_finalizeEnroll",value:function(){var e=f(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return go("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",Jc(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=f(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return go(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Ol(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(mh),wh=function(){function e(t,n,r,i,a,o,s){Te(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return Ce(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(_h(e)||_h(t))&&(r=!0),r&&(_h(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),_h(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function _h(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var xh="@firebase/auth",Eh="0.23.1",Ih=function(){function e(t){Te(this,e),this.auth=t,this.internalListeners=new Map}return Ce(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){go(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Th,Sh=tt("authIdTokenMaxAge")||300,Ch=null,Ph=function(e){return function(){var t=f(d().mark((function t(n){var r,i,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>Sh)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,Ch!==a){t.next=12;break}return t.abrupt("return");case 12:return Ch=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function Nh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn(),t=Nn(e,"auth");if(t.isInitialized())return t.getImmediate();var n=Ks(e,{popupRedirectResolver:vh,persistence:[Al,al,sl]}),r=tt("authTokenSyncURL");if(r){var i=Ph(r);Gc(n,i,(function(){return i(n.currentUser)})),Kc(n,(function(e){return i(e)}))}var a=Ze("auth");return a&&Gs(n,"http://".concat(a)),n}function Ah(){return window}Th="Browser",Pn(new Bt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,s=o.apiKey,u=o.authDomain;go(s&&!s.includes(":"),"invalid-api-key",{appName:r.name}),go(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:r.name});var c={apiKey:s,authDomain:u,clientPlatform:Th,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ss(Th)},l=new zs(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ls);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Pn(new Bt("auth-internal",(function(e){return function(e){return new Ih(e)}(Hs(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),qn(xh,Eh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Th)),qn(xh,Eh,"esm2017");function Rh(e,t,n){return Oh.apply(this,arguments)}function Oh(){return Oh=f(d().mark((function e(t,n,r){var i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ah(),o=a.BuildInfo,ko(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Uh(n.sessionId);case 4:return s=e.sent,u={},xs()?u.ibi=o.packageName:bs()?u.apn=o.packageName:fo(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",lh(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),Oh.apply(this,arguments)}function Dh(){return Dh=f(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ah(),r=n.BuildInfo,i={},xs()?i.iosBundleId=r.packageName:bs()?i.androidPackageName=r.packageName:fo(t,"operation-not-supported-in-this-environment"),e.next=5,Bf(t,i);case 5:case"end":return e.stop()}}),e)}))),Dh.apply(this,arguments)}function Lh(e){var t=Ah().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Mh(e,t,n){return Fh.apply(this,arguments)}function Fh(){return Fh=f(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ah(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(ho(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),bs()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Fh.apply(this,arguments)}function jh(e){var t,n,r,i,a,o,s,u,c,l,f=Ah();go("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),go("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),go("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),go("function"===typeof(null===(u=null===(s=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),go("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Uh(e){return Vh.apply(this,arguments)}function Vh(){return(Vh=f(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bh(e){if(ko(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var qh=function(e){Ae(n,e);var t=Me(n);function n(){var e;return Te(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ce(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Ha(Re(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(jf);function zh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Qh(),postBody:null,tenantId:e.tenantId,error:ho(e,"no-auth-event")}}function Hh(e,t){return Yh()._set($h(e),t)}function Wh(e){return Kh.apply(this,arguments)}function Kh(){return Kh=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yh()._get($h(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Yh()._remove($h(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Kh.apply(this,arguments)}function Gh(e,t){var n,r,i=function(e){var t=Xh(e),n=t.link?decodeURIComponent(t.link):void 0,r=Xh(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Xh(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Xh(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?ho(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Qh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Yh(){return ls(al)}function $h(e){return ds("authEvent",e.config.apiKey,e.name)}function Xh(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=qa(e.split("?"));t[0];return St(t.slice(1).join("?"))}var Jh=function(){function e(){Te(this,e),this._redirectPersistence=sl,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Df,this._overrideRedirectResult=xf}return Ce(e,[{key:"_initialize",value:function(){var e=f(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new qh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){fo(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=f(d().mark((function e(t,n,r,i){var a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),gf.clear(),e.next=10,this._originValidation(t);case 10:return o=zh(t,r,i),e.next=13,Hh(t,o);case 13:return e.next=15,Rh(t,o,n);case 15:return s=e.sent,e.next=18,Lh(s);case 18:return u=e.sent,e.abrupt("return",Mh(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Dh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ah(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(f(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Wh(e);case 2:t.onEvent(ed());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=f(d().mark((function n(r){var i,a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Wh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Gh(i,r.url)),t.onEvent(a||ed());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");Ah().handleOpenURL=function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Zh=Jh;function ed(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ho("no-auth-event")}}function td(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function nd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return!("file:"!==td()&&"ionic:"!==td()&&"capacitor:"!==td()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function rd(){return ct()&&11===(null===document||void 0===document?void 0:document.documentMode)}function id(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return/Edge\/\d+/.test(e)}function ad(){try{var e=self.localStorage,t=ll();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it();return rd()||id(e)}()||ft()}catch(n){return od()&&ft()}return!1}function od(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function sd(){return("http:"===td()||"https:"===td()||st()||nd())&&!(ut()||ot())&&ad()&&!od()}function ud(){return nd()&&"undefined"!==typeof document}function cd(){return ld.apply(this,arguments)}function ld(){return(ld=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ud()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fd={LOCAL:"local",NONE:"none",SESSION:"session"},hd=go,dd="persistence";function pd(e,t){hd(Object.values(fd).includes(t),e,"invalid-persistence-type"),ut()?hd(t!==fd.SESSION,e,"unsupported-persistence-type"):ot()?hd(t===fd.NONE,e,"unsupported-persistence-type"):od()?hd(t===fd.NONE||t===fd.LOCAL&&ft(),e,"unsupported-persistence-type"):hd(t===fd.NONE||ad(),e,"unsupported-persistence-type")}function vd(e){return md.apply(this,arguments)}function md(){return md=f(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=gd(),r=ds(dd,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function gd(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var yd=go,kd=function(){function e(){Te(this,e),this.browserResolver=ls(vh),this.cordovaResolver=ls(Zh),this.underlyingResolver=null,this._redirectPersistence=sl,this._completeRedirectFn=Df,this._overrideRedirectResult=xf}return Ce(e,[{key:"_initialize",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=f(d().mark((function e(t,n,r,i){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=f(d().mark((function e(t,n,r,i){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return ud()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return yd(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=f(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,cd();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bd(e){return e.unwrap()}function wd(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Td(e,function(e,t){var n,r=Vt(e),i=t;return go(t.customData.operationType,r,"argument-error"),go(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Yc._fromError(r,i)}(e,t));else if(r){var i=_d(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function _d(e){var t=(e instanceof dt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof dt)&&"temporaryProof"in t&&"phoneNumber"in t)return tf.credentialFromResult(e);var n,r=t.providerId;if(!r||r===$a)return null;switch(r){case Ya:n=Mu;break;case Ga:n=Lu;break;case Qa:n=Fu;break;case Xa:n=Vu;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?ju._create(r,s):_u._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new Du(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof dt?n.credentialFromError(e):n.credentialFromResult(e)}function xd(e,t){return t.catch((function(t){throw t instanceof dt&&wd(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,_d(t)),additionalUserInfo:Wc(e),user:Sd.getOrCreate(r)}}))}function Ed(e,t){return Id.apply(this,arguments)}function Id(){return Id=f(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return xd(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Id.apply(this,arguments)}var Td=function(){function e(t,n){Te(this,e),this.resolver=n,this.auth=t.wrapped()}return Ce(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return xd(bd(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Sd=function(){function e(t){Te(this,e),this._delegate=t,this.multiFactor=function(e){var t=Vt(e);return tl.has(t)||tl.set(t,el._fromUser(t)),tl.get(t)}(t)}return Ce(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xd(this.auth,sc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ed(this.auth,Yl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xd(this.auth,pf(this._delegate,t,kd)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vd(Hs(this.auth));case 2:return e.abrupt("return",Nf(this._delegate,t,kd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xd(this.auth,cc(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Ed(this.auth,function(e,t,n){return Xl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return xd(this.auth,function(e,t,n){return df.apply(this,arguments)}(this._delegate,e,kd))}},{key:"reauthenticateWithRedirect",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vd(Hs(this.auth));case 2:return e.abrupt("return",Cf(this._delegate,t,kd));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Rc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yu(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Fc(Vt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Fc(Vt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return ef.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Mc.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Oc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Sd.USER_MAP=new WeakMap;var Cd=go,Pd=function(){function e(t,n){if(Te(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Cd(r,"invalid-api-key",{appName:t.name}),Cd(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?kd:void 0;this._delegate=n.initialize({options:{persistence:Ad(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ao),this.linkUnderlyingAuth()}return Ce(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Sd.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Gs(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return bc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return wc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return kc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xd(this._delegate,Ec(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Ac.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Nu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=f(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cd(sd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Rf(this._delegate,kd);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",xd(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Hs(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Nd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Nd(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Sc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return yc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=f(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pd(this._delegate,t),e.t0=t,e.next=e.t0===fd.SESSION?4:e.t0===fd.LOCAL?6:e.t0===fd.NONE?11:13;break;case 4:return n=sl,e.abrupt("break",14);case 6:return e.next=8,ls(Al)._isAvailable();case 8:return r=e.sent,n=r?Al:al,e.abrupt("break",14);case 11:return n=hs,e.abrupt("break",14);case 13:return e.abrupt("return",fo("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return xd(this._delegate,function(e){return Wu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return xd(this._delegate,ac(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return xd(this._delegate,function(e,t){return dc.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return xd(this._delegate,Tc(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return xd(this._delegate,function(e,t,n){return Cc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Ed(this._delegate,function(e,t,n){return Ql.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cd(sd(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",xd(this._delegate,ff(this._delegate,t,kd)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Cd(sd(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,vd(this._delegate);case 3:return e.abrupt("return",Tf(this._delegate,t,kd));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return xc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Nd(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Sd.getOrCreate(e))},error:t,complete:n}}function Ad(e,t){var n=function(e,t){var n=gd();if(!n)return[];var r=ds(dd,e,t);switch(n.getItem(r)){case fd.NONE:return[hs];case fd.LOCAL:return[Al,sl];case fd.SESSION:return[sl];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Al)||n.push(Al),"undefined"!==typeof window)for(var r=0,i=[al,sl];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(hs)||n.push(hs),n}Pd.Persistence=fd;var Rd=function(){function e(){Te(this,e),this.providerId="phone",this._delegate=new tf(bd(Ba.auth()))}return Ce(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return tf.credential(e,t)}}]),e}();Rd.PHONE_SIGN_IN_METHOD=tf.PHONE_SIGN_IN_METHOD,Rd.PROVIDER_ID=tf.PROVIDER_ID;var Od,Dd=go,Ld=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ba.app();Te(this,e),Dd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Wl(t,n,i.auth()),this.type=this._delegate.type}return Ce(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Od=Ba).INTERNAL.registerComponent(new Bt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Pd(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ja,PASSWORD_RESET:Za,RECOVER_EMAIL:eo,REVERT_SECOND_FACTOR_ADDITION:to,VERIFY_AND_CHANGE_EMAIL:no,VERIFY_EMAIL:ro}},EmailAuthProvider:Au,FacebookAuthProvider:Lu,GithubAuthProvider:Fu,GoogleAuthProvider:Mu,OAuthProvider:Du,SAMLAuthProvider:Uu,PhoneAuthProvider:Rd,PhoneMultiFactorGenerator:yh,RecaptchaVerifier:Ld,TwitterAuthProvider:Vu,Auth:Pd,AuthCredential:$s,Error:dt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Od.registerVersion("@firebase/auth-compat","0.4.1");var Md,Fd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},jd={},Ud=Ud||{},Vd=Fd||self;function Bd(){}function qd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function zd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Hd="closure_uid_"+(1e9*Math.random()>>>0),Wd=0;function Kd(e,t,n){return e.call.apply(e.bind,arguments)}function Gd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Qd(e,t,n){return(Qd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kd:Gd).apply(null,arguments)}function Yd(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function $d(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Xd(){this.s=this.s,this.o=this.o}Xd.prototype.s=!1,Xd.prototype.ra=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Hd)&&e[Hd]||(e[Hd]=++Wd))},Xd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Jd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Zd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ep(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(qd(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function tp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}tp.prototype.h=function(){this.defaultPrevented=!0};var np=function(){if(!Vd.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Vd.addEventListener("test",Bd,t),Vd.removeEventListener("test",Bd,t)}catch(n){}return e}();function rp(e){return/^[\s\xa0]*$/.test(e)}var ip=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function ap(e,t){return e<t?-1:e>t?1:0}function op(){var e=Vd.navigator;return e&&(e=e.userAgent)?e:""}function sp(e){return-1!=op().indexOf(e)}function up(e){return up[" "](e),e}function cp(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}up[" "]=Bd;var lp,fp=sp("Opera"),hp=sp("Trident")||sp("MSIE"),dp=sp("Edge"),pp=dp||hp,vp=sp("Gecko")&&!(-1!=op().toLowerCase().indexOf("webkit")&&!sp("Edge"))&&!(sp("Trident")||sp("MSIE"))&&!sp("Edge"),mp=-1!=op().toLowerCase().indexOf("webkit")&&!sp("Edge");function gp(){var e=Vd.document;return e?e.documentMode:void 0}e:{var yp="",kp=function(){var e=op();return vp?/rv:([^\);]+)(\)|;)/.exec(e):dp?/Edge\/([\d\.]+)/.exec(e):hp?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):mp?/WebKit\/(\S+)/.exec(e):fp?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(kp&&(yp=kp?kp[1]:""),hp){var bp=gp();if(null!=bp&&bp>parseFloat(yp)){lp=String(bp);break e}}lp=yp}var wp,_p={};if(Vd.document&&hp){var xp=gp();wp=xp||(parseInt(lp,10)||void 0)}else wp=void 0;var Ep=wp;function Ip(e,t){if(tp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(vp){e:{try{up(t.nodeName);var i=!0;break e}catch(PA){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Tp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ip.$.h.call(this)}}$d(Ip,tp);var Tp={2:"touch",3:"pen",4:"mouse"};Ip.prototype.h=function(){Ip.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Sp="closure_listenable_"+(1e6*Math.random()|0),Cp=0;function Pp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Cp,this.fa=this.ia=!1}function Np(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ap(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Rp(e){var t={};for(var n in e)t[n]=e[n];return t}var Op="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dp(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Op.length;a++)n=Op[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Lp(e){this.src=e,this.g={},this.h=0}function Mp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Jd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Np(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Fp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Lp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Fp(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Pp(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var jp="closure_lm_"+(1e6*Math.random()|0),Up={};function Vp(e,t,n,r,i){if(r&&r.once)return qp(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Vp(e,t[a],n,r,i);return null}return n=Yp(n),e&&e[Sp]?e.O(t,n,zd(r)?!!r.capture:!!r,i):Bp(e,t,n,!1,r,i)}function Bp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=zd(i)?!!i.capture:!!i,s=Gp(e);if(s||(e[jp]=s=new Lp(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Kp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)np||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Wp(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function qp(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)qp(e,t[a],n,r,i);return null}return n=Yp(n),e&&e[Sp]?e.P(t,n,zd(r)?!!r.capture:!!r,i):Bp(e,t,n,!0,r,i)}function zp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)zp(e,t[a],n,r,i);else r=zd(r)?!!r.capture:!!r,n=Yp(n),e&&e[Sp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Fp(a=e.g[t],n,r,i))&&(Np(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Gp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Fp(t,n,r,i)),(n=-1<e?t[e]:null)&&Hp(n))}function Hp(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Sp])Mp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wp(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Gp(t))?(Mp(n,e),0==n.h&&(n.src=null,t[jp]=null)):Np(e)}}}function Wp(e){return e in Up?Up[e]:Up[e]="on"+e}function Kp(e,t){if(e.fa)e=!0;else{t=new Ip(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Hp(e),e=n.call(r,t)}return e}function Gp(e){return(e=e[jp])instanceof Lp?e:null}var Qp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yp(e){return"function"===typeof e?e:(e[Qp]||(e[Qp]=function(t){return e.handleEvent(t)}),e[Qp])}function $p(){Xd.call(this),this.i=new Lp(this),this.S=this,this.J=null}function Xp(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new tp(t,e);else if(t instanceof tp)t.target=t.target||e;else{var i=t;Dp(t=new tp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Jp(o,r,!0,t)&&i}if(i=Jp(o=t.g=e,r,!0,t)&&i,i=Jp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Jp(o=t.g=n[a],r,!1,t)&&i}function Jp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&Mp(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}$d($p,Xd),$p.prototype[Sp]=!0,$p.prototype.removeEventListener=function(e,t,n,r){zp(this,e,t,n,r)},$p.prototype.N=function(){if($p.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Np(n[r]);delete t.g[e],t.h--}}this.J=null},$p.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$p.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Zp=Vd.JSON.stringify;function ev(){var e=uv,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var tv,nv=function(){function e(){Te(this,e),this.h=this.g=null}return Ce(e,[{key:"add",value:function(e,t){var n=rv.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),rv=new(function(){function e(t,n){Te(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ce(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new iv}),(function(e){return e.reset()})),iv=function(){function e(){Te(this,e),this.next=this.g=this.h=null}return Ce(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function av(e){Vd.setTimeout((function(){throw e}),0)}function ov(e,t){tv||function(){var e=Vd.Promise.resolve(void 0);tv=function(){e.then(cv)}}(),sv||(tv(),sv=!0),uv.add(e,t)}var sv=!1,uv=new nv;function cv(){for(var e;e=ev();){try{e.h.call(e.g)}catch(n){av(n)}var t=rv;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}sv=!1}function lv(e,t){$p.call(this),this.h=e||1,this.g=t||Vd,this.j=Qd(this.qb,this),this.l=Date.now()}function fv(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function hv(e,t,n){if("function"===typeof e)n&&(e=Qd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Qd(e.handleEvent,e)}return 2147483647<Number(t)?-1:Vd.setTimeout(e,t||0)}function dv(e){e.g=hv((function(){e.g=null,e.i&&(e.i=!1,dv(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}$d(lv,$p),(Md=lv.prototype).ga=!1,Md.T=null,Md.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Xp(this,"tick"),this.ga&&(fv(this),this.start()))}},Md.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Md.N=function(){lv.$.N.call(this),fv(this),delete this.g};var pv=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ce(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:dv(this)}},{key:"N",value:function(){Ha(Re(n.prototype),"N",this).call(this),this.g&&(Vd.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Xd);function vv(e){Xd.call(this),this.h=e,this.g={}}$d(vv,Xd);var mv=[];function gv(e,t,n,r){Array.isArray(n)||(n&&(mv[0]=n.toString()),n=mv);for(var i=0;i<n.length;i++){var a=Vp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function yv(e){Ap(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Hp(e)}),e),e.g={}}function kv(){this.g=!0}function bv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Zp(n)}catch(CA){return t}}(e,n)+(r?" "+r:"")}))}vv.prototype.N=function(){vv.$.N.call(this),yv(this)},vv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},kv.prototype.Ea=function(){this.g=!1},kv.prototype.info=function(){};var wv={},_v=null;function xv(){return _v=_v||new $p}function Ev(e){tp.call(this,wv.Ta,e)}function Iv(e){var t=xv();Xp(t,new Ev(t))}function Tv(e,t){tp.call(this,wv.STAT_EVENT,e),this.stat=t}function Sv(e){var t=xv();Xp(t,new Tv(t,e))}function Cv(e,t){tp.call(this,wv.Ua,e),this.size=t}function Pv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Vd.setTimeout((function(){e()}),t)}wv.Ta="serverreachability",$d(Ev,tp),wv.STAT_EVENT="statevent",$d(Tv,tp),wv.Ua="timingevent",$d(Cv,tp);var Nv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Av={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rv(){}function Ov(e){return e.h||(e.h=e.i())}function Dv(){}Rv.prototype.h=null;var Lv,Mv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fv(){tp.call(this,"d")}function jv(){tp.call(this,"c")}function Uv(){}function Vv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new vv(this),this.P=qv,e=pp?125:void 0,this.V=new lv(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new Bv}function Bv(){this.i=null,this.g="",this.h=!1}$d(Fv,tp),$d(jv,tp),$d(Uv,Rv),Uv.prototype.g=function(){return new XMLHttpRequest},Uv.prototype.i=function(){return{}},Lv=new Uv;var qv=45e3,zv={},Hv={};function Wv(e,t,n){e.L=1,e.v=lm(am(t)),e.s=n,e.S=!0,Kv(e,null)}function Kv(e,t){e.G=Date.now(),$v(e),e.A=am(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),xm(n.i,"t",r),e.C=0,n=e.l.I,e.h=new Bv,e.g=Eg(e.l,n?t:null,!e.s),0<e.O&&(e.M=new pv(Qd(e.Pa,e,e.g),e.O)),gv(e.U,e.g,"readystatechange",e.nb),t=e.I?Rp(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Iv(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Gv(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Qv(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Yv(e,n))==Hv){4==t&&(e.o=4,Sv(14),i=!1),bv(e.j,e.m,null,"[Incomplete Response]");break}if(r==zv){e.o=4,Sv(15),bv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}bv(e.j,e.m,r,null),tm(e,r)}Gv(e)&&r!=Hv&&r!=zv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Sv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),mg(t),t.L=!0,Sv(11))):(bv(e.j,e.m,n,"[Invalid Chunked Response]"),em(e),Zv(e))}function Yv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Hv:(n=Number(t.substring(n,r)),isNaN(n)?zv:(r+=1)+n>t.length?Hv:(t=t.substr(r,n),e.C=r+n,t))}function $v(e){e.Y=Date.now()+e.P,Xv(e,e.P)}function Xv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Pv(Qd(e.lb,e),t)}function Jv(e){e.B&&(Vd.clearTimeout(e.B),e.B=null)}function Zv(e){0==e.l.H||e.J||kg(e.l,e)}function em(e){Jv(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,fv(e.V),yv(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function tm(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Am(n.h,e)))if(!e.K&&Am(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;yg(n),ug(n)}vg(n),Sv(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=Pv(Qd(n.ib,n),6e3));if(1>=Nm(n.h)&&n.na){try{n.na()}catch(a){}n.na=void 0}}else wg(n,11)}else if((e.K||n.g==e)&&yg(n),!rp(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.J=a[1],n.oa=a[2];var o=a[3];null!=o&&(n.qa=o,n.j.info("VER="+n.qa));var s=a[4];null!=s&&(n.Ga=s,n.j.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Rm(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,cm(r.G,r.F,h))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=xg(r,r.I?r.oa:null,r.Y),d.K){Om(r.h,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Jv(p),$v(p)),r.g=d}else pg(r);0<n.i.length&&lg(n)}else"stop"!=a[0]&&"close"!=a[0]||wg(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?wg(n,7):sg(n):"noop"!=a[0]&&n.l&&n.l.Aa(a),n.A=0)}Iv()}catch(a){}}function nm(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(qd(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(qd(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(qd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Md=Vv.prototype).setTimeout=function(e){this.P=e},Md.nb=function(e){e=e.target;var t=this.M;t&&3==tg(e)?t.l():this.Pa(e)},Md.Pa=function(e){try{if(e==this.g)e:{var t=tg(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||pp||this.g&&(this.h.h||this.g.ja()||ng(this.g)))){this.J||4!=t||7==n||Iv(),Jv(this);var r=this.g.da();this.aa=r;t:if(Gv(this)){var i=ng(this.g);e="";var a=i.length,o=4==tg(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){em(this),Zv(this);var s="";break t}this.h.i=new Vd.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.ba&&!this.K){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rp(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Sv(12),em(this),Zv(this);break e}bv(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tm(this,r)}this.S?(Qv(this,t,s),pp&&this.i&&3==t&&(gv(this.U,this.V,"tick",this.mb),this.V.start())):(bv(this.j,this.m,s,null),tm(this,s)),4==t&&em(this),this.i&&!this.J&&(4==t?kg(this.l,this):(this.i=!1,$v(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Sv(12)):(this.o=0,Sv(13)),em(this),Zv(this)}}}catch(t){}},Md.mb=function(){if(this.g){var e=tg(this.g),t=this.g.ja();this.C<t.length&&(Jv(this),Qv(this,e,t),this.i&&4!=e&&$v(this))}},Md.cancel=function(){this.J=!0,em(this)},Md.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Iv(),Sv(17)),em(this),this.o=2,Zv(this)):Xv(this,this.Y-e)};var rm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function im(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof im){this.h=void 0!==t?t:e.h,om(this,e.j),this.s=e.s,this.g=e.g,sm(this,e.m),this.l=e.l,t=e.i;var n=new km;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),um(this,n),this.o=e.o}else e&&(n=String(e).match(rm))?(this.h=!!t,om(this,n[1]||"",!0),this.s=fm(n[2]||""),this.g=fm(n[3]||"",!0),sm(this,n[4]),this.l=fm(n[5]||"",!0),um(this,n[6]||"",!0),this.o=fm(n[7]||"")):(this.h=!!t,this.i=new km(null,this.h))}function am(e){return new im(e)}function om(e,t,n){e.j=n?fm(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sm(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function um(e,t,n){t instanceof km?(e.i=t,function(e,t){t&&!e.j&&(bm(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(wm(this,t),xm(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=hm(t,gm)),e.i=new km(t,e.h))}function cm(e,t,n){e.i.set(t,n)}function lm(e){return cm(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function fm(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function hm(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,dm),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function dm(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}im.prototype.toString=function(){var e=[],t=this.j;t&&e.push(hm(t,pm,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(hm(t,pm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(hm(n,"/"==n.charAt(0)?mm:vm,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",hm(n,ym)),e.join("")};var pm=/[#\/\?@]/g,vm=/[#\?:]/g,mm=/[#\?]/g,gm=/[#\?@]/g,ym=/#/g;function km(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bm(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function wm(e,t){bm(e),t=Em(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function _m(e,t){return bm(e),t=Em(e,t),e.g.has(t)}function xm(e,t,n){wm(e,t),0<n.length&&(e.i=null,e.g.set(Em(e,t),Zd(n)),e.h+=n.length)}function Em(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Md=km.prototype).add=function(e,t){bm(this),this.i=null,e=Em(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Md.forEach=function(e,t){bm(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Md.sa=function(){bm(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Md.Z=function(e){bm(this);var t=[];if("string"===typeof e)_m(this,e)&&(t=t.concat(this.g.get(Em(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Md.set=function(e,t){return bm(this),this.i=null,_m(this,e=Em(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Md.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Md.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Im=Ce((function e(t,n){Te(this,e),this.h=t,this.g=n}));function Tm(e){this.l=e||Cm,Vd.PerformanceNavigationTiming?e=0<(e=Vd.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Vd.g&&Vd.g.Ka&&Vd.g.Ka()&&Vd.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sm,Cm=10;function Pm(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Nm(e){return e.h?1:e.g?e.g.size:0}function Am(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Rm(e,t){e.g?e.g.add(t):e.h=t}function Om(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Dm(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Ie(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Zd(e.i)}function Lm(){}function Mm(){this.g=new Lm}function Fm(e,t,n){var r=n||"";try{nm(e,(function(e,n){var i=e;zd(e)&&(i=Zp(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function jm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(PA){}}function Um(e){this.l=e.fc||null,this.j=e.ob||!1}function Vm(e,t){$p.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Bm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tm.prototype.cancel=function(){if(this.i=Dm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Ie(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Lm.prototype.stringify=function(e){return Vd.JSON.stringify(e,void 0)},Lm.prototype.parse=function(e){return Vd.JSON.parse(e,void 0)},$d(Um,Rv),Um.prototype.g=function(){return new Vm(this.l,this.j)},Um.prototype.i=(Sm={},function(){return Sm}),$d(Vm,$p);var Bm=0;function qm(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function zm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Hm(e)}function Hm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Md=Vm.prototype).open=function(e,t){if(this.readyState!=Bm)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Hm(this)},Md.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Vd).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Md.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zm(this)),this.readyState=Bm},Md.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Hm(this)),this.g&&(this.readyState=3,Hm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Vd.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qm(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Md.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zm(this):Hm(this),3==this.readyState&&qm(this)}},Md.Za=function(e){this.g&&(this.response=this.responseText=e,zm(this))},Md.Ya=function(e){this.g&&(this.response=e,zm(this))},Md.ka=function(){this.g&&zm(this)},Md.setRequestHeader=function(e,t){this.v.append(e,t)},Md.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Md.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Wm=Vd.JSON.parse;function Km(e){$p.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Gm,this.L=this.M=!1}$d(Km,$p);var Gm="",Qm=/^https?$/i,Ym=["POST","PUT"];function $m(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Xm(e),Zm(e)}function Xm(e){e.F||(e.F=!0,Xp(e,"complete"),Xp(e,"error"))}function Jm(e){if(e.h&&"undefined"!=typeof Ud&&(!e.C[1]||4!=tg(e)||2!=e.da()))if(e.v&&4==tg(e))hv(e.La,0,e);else if(Xp(e,"readystatechange"),4==tg(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(rm)[1]||null;if(!a&&Vd.self&&Vd.self.location){var o=Vd.self.location.protocol;a=o.substr(0,o.length-1)}i=!Qm.test(a?a.toLowerCase():"")}t=i}if(t)Xp(e,"complete"),Xp(e,"success");else{e.m=6;try{var s=2<tg(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.da()+"]",Xm(e)}}finally{Zm(e)}}}function Zm(e,t){if(e.g){eg(e);var n=e.g,r=e.C[0]?Bd:null;e.g=null,e.C=null,t||Xp(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function eg(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Vd.clearTimeout(e.A),e.A=null)}function tg(e){return e.g?e.g.readyState:0}function ng(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Gm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(sy){return null}}function rg(e){var t="";return Ap(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ig(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rg(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):cm(e,t,n))}function ag(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function og(e){this.Ga=0,this.i=[],this.j=new kv,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ag("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ag("baseRetryDelayMs",5e3,e),this.hb=ag("retryDelaySeedMs",1e4,e),this.eb=ag("forwardChannelMaxRetries",2,e),this.xa=ag("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new Tm(e&&e.concurrentRequestLimit),this.Ja=new Mm,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function sg(e){if(cg(e),3==e.H){var t=e.W++,n=am(e.G);cm(n,"SID",e.J),cm(n,"RID",t),cm(n,"TYPE","terminate"),hg(e,n),(t=new Vv(e,e.j,t,void 0)).L=2,t.v=lm(am(n)),n=!1,Vd.navigator&&Vd.navigator.sendBeacon&&(n=Vd.navigator.sendBeacon(t.v.toString(),"")),!n&&Vd.Image&&((new Image).src=t.v,n=!0),n||(t.g=Eg(t.l,null),t.g.ha(t.v)),t.G=Date.now(),$v(t)}_g(e)}function ug(e){e.g&&(mg(e),e.g.cancel(),e.g=null)}function cg(e){ug(e),e.u&&(Vd.clearTimeout(e.u),e.u=null),yg(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Vd.clearTimeout(e.m),e.m=null)}function lg(e){Pm(e.h)||e.m||(e.m=!0,ov(e.Na,e),e.C=0)}function fg(e,t){var n;n=t?t.m:e.W++;var r=am(e.G);cm(r,"SID",e.J),cm(r,"RID",n),cm(r,"AID",e.V),hg(e,r),e.o&&e.s&&ig(r,e.o,e.s),n=new Vv(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=dg(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Rm(e.h,n),Wv(n,r,t)}function hg(e,t){e.ma&&Ap(e.ma,(function(e,n){cm(t,n,e)})),e.l&&nm({},(function(e,n){cm(t,n,e)}))}function dg(e,t,n){n=Math.min(e.i.length,n);var r=e.l?Qd(e.l.Va,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Fm(l,o,"req"+c+"_")}catch(yy){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.F=e,r}function pg(e){e.g||e.u||(e.ba=1,ov(e.Ma,e),e.A=0)}function vg(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Pv(Qd(e.Ma,e),bg(e,e.A)),e.A++,!0)}function mg(e){null!=e.B&&(Vd.clearTimeout(e.B),e.B=null)}function gg(e){e.g=new Vv(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=am(e.wa);cm(t,"RID","rpc"),cm(t,"SID",e.J),cm(t,"CI",e.M?"0":"1"),cm(t,"AID",e.V),cm(t,"TYPE","xmlhttp"),hg(e,t),e.o&&e.s&&ig(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=lm(am(t)),n.s=null,n.S=!0,Kv(n,e)}function yg(e){null!=e.v&&(Vd.clearTimeout(e.v),e.v=null)}function kg(e,t){var n=null;if(e.g==t){yg(e),mg(e),e.g=null;var r=2}else{if(!Am(e.h,t))return;n=t.F,Om(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Xp(r=xv(),new Cv(r,n)),lg(e)}else pg(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&function(e,t){return!(Nm(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Pv(Qd(e.Na,e,t),bg(e,e.C)),e.C++,!0))}(e,t)||2==r&&vg(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:wg(e,5);break;case 4:wg(e,10);break;case 3:wg(e,6);break;default:wg(e,2)}}function bg(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function wg(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=Qd(e.pb,e);n||(n=new im("//www.google.com/images/cleardot.gif"),Vd.location&&"http"==Vd.location.protocol||om(n,"https"),lm(n)),function(e,t){var n=new kv;if(Vd.Image){var r=new Image;r.onload=Yd(jm,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yd(jm,n,r,"TestLoadImage: error",!1,t),r.onabort=Yd(jm,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yd(jm,n,r,"TestLoadImage: timeout",!1,t),Vd.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Sv(2);e.H=0,e.l&&e.l.za(t),_g(e),cg(e)}function _g(e){if(e.H=0,e.pa=[],e.l){var t=Dm(e.h);0==t.length&&0==e.i.length||(ep(e.pa,t),ep(e.pa,e.i),e.h.i.length=0,Zd(e.i),e.i.length=0),e.l.ya()}}function xg(e,t,n){var r=n instanceof im?am(n):new im(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),sm(r,r.m);else{var i=Vd.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new im(null,void 0);r&&om(a,r),t&&(a.g=t),i&&sm(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&cm(r,n,t),cm(r,"VER",e.qa),hg(e,r),r}function Eg(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Km(new Um({ob:!0})):new Km(e.va)).Oa(e.I),t}function Ig(){}function Tg(){if(hp&&!(10<=Number(Ep)))throw Error("Environmental error: no available transport.")}function Sg(e,t){$p.call(this),this.g=new og(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!rp(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rp(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Ng(this)}function Cg(e){Fv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Pg(){jv.call(this),this.status=1}function Ng(e){this.g=e}function Ag(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Rg(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Og(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Md=Km.prototype).Oa=function(e){this.M=e},Md.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Lv.g(),this.C=this.u?Ov(this.u):Ov(Lv),this.g.onreadystatechange=Qd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void $m(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=Ie(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Vd.FormData&&e instanceof Vd.FormData,!(0<=Jd(Ym,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=Ie(n);try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{eg(this),0<this.B&&((this.L=function(e){return hp&&cp(_p,9,(function(){for(var e=0,t=ip(String(lp)).split("."),n=ip("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ap(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ap(0==a[2].length,0==o[2].length)||ap(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qd(this.ua,this)):this.A=hv(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){$m(this,s)}},Md.ua=function(){"undefined"!=typeof Ud&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xp(this,"timeout"),this.abort(8))},Md.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Xp(this,"complete"),Xp(this,"abort"),Zm(this))},Md.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zm(this,!0)),Km.$.N.call(this)},Md.La=function(){this.s||(this.G||this.v||this.l?Jm(this):this.kb())},Md.kb=function(){Jm(this)},Md.da=function(){try{return 2<tg(this)?this.g.status:-1}catch(Sm){return-1}},Md.ja=function(){try{return this.g?this.g.responseText:""}catch(Sm){return""}},Md.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Wm(t)}},Md.Ia=function(){return this.m},Md.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Md=og.prototype).qa=8,Md.H=1,Md.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Vv(this,this.j,e,void 0),n=this.s;if(this.U&&(n?Dp(n=Rp(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=dg(this,t,r),cm(i=am(this.G),"RID",e),cm(i,"CVER",22),this.F&&cm(i,"X-HTTP-Session-Id",this.F),hg(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(rg(n)))+"&"+r:this.o&&ig(i,this.o,n)),Rm(this.h,t),this.bb&&cm(i,"TYPE","init"),this.P?(cm(i,"$req",r),cm(i,"SID","null"),t.ba=!0,Wv(t,i,null)):Wv(t,i,r),this.H=2}}else 3==this.H&&(e?fg(this,e):0==this.i.length||Pm(this.h)||fg(this))},Md.Ma=function(){if(this.u=null,gg(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=Pv(Qd(this.jb,this),e)}},Md.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Sv(10),ug(this),gg(this))},Md.ib=function(){null!=this.v&&(this.v=null,ug(this),vg(this),Sv(19))},Md.pb=function(e){e?(this.j.info("Successfully pinged google.com"),Sv(2)):(this.j.info("Failed to ping google.com"),Sv(1))},(Md=Ig.prototype).Ba=function(){},Md.Aa=function(){},Md.za=function(){},Md.ya=function(){},Md.Va=function(){},Tg.prototype.g=function(e,t){return new Sg(e,t)},$d(Sg,$p),Sg.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;Sv(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=xg(e,null,e.Y),lg(e)},Sg.prototype.close=function(){sg(this.g)},Sg.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Zp(e),e=n);t.i.push(new Im(t.fb++,e)),3==t.H&&lg(t)},Sg.prototype.N=function(){this.g.l=null,delete this.j,sg(this.g),delete this.g,Sg.$.N.call(this)},$d(Cg,Fv),$d(Pg,jv),$d(Ng,Ig),Ng.prototype.Ba=function(){Xp(this.g,"a")},Ng.prototype.Aa=function(e){Xp(this.g,new Cg(e))},Ng.prototype.za=function(e){Xp(this.g,new Pg)},Ng.prototype.ya=function(){Xp(this.g,"b")},$d(Ag,(function(){this.blockSize=-1})),Ag.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ag.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Rg(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Rg(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Rg(this,r),i=0;break}}this.h=i,this.i+=t},Ag.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Dg={};function Lg(e){return-128<=e&&128>e?cp(Dg,e,(function(e){return new Og([0|e],0>e?-1:0)})):new Og([0|e],0>e?-1:0)}function Mg(e){if(isNaN(e)||!isFinite(e))return jg;if(0>e)return zg(Mg(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Fg;return new Og(t,0)}var Fg=4294967296,jg=Lg(0),Ug=Lg(1),Vg=Lg(16777216);function Bg(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function qg(e){return-1==e.h}function zg(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Og(n,~e.h).add(Ug)}function Hg(e,t){return e.add(zg(t))}function Wg(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Kg(e,t){this.g=e,this.h=t}function Gg(e,t){if(Bg(t))throw Error("division by zero");if(Bg(e))return new Kg(jg,jg);if(qg(e))return t=Gg(zg(e),t),new Kg(zg(t.g),zg(t.h));if(qg(t))return t=Gg(e,zg(t)),new Kg(zg(t.g),t.h);if(30<e.g.length){if(qg(e)||qg(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ug,r=t;0>=r.X(e);)n=Qg(n),r=Qg(r);var i=Yg(n,1),a=Yg(r,1);for(r=Yg(r,2),n=Yg(n,2);!Bg(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Yg(r,1),n=Yg(n,1)}return t=Hg(e,i.R(t)),new Kg(i,t)}for(i=jg;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Mg(n)).R(t);qg(o)||0<o.X(e);)o=(a=Mg(n-=r)).R(t);Bg(a)&&(a=Ug),i=i.add(a),e=Hg(e,o)}return new Kg(i,e)}function Qg(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Og(n,e.h)}function Yg(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Og(i,e.h)}(Md=Og.prototype).ea=function(){if(qg(this))return-zg(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Fg+r)*t,t*=Fg}return e},Md.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Bg(this))return"0";if(qg(this))return"-"+zg(this).toString(e);for(var t=Mg(Math.pow(e,6)),n=this,r="";;){var i=Gg(n,t).g,a=((0<(n=Hg(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Bg(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Md.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Md.X=function(e){return qg(e=Hg(this,e))?-1:Bg(e)?0:1},Md.abs=function(){return qg(this)?zg(this):this},Md.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Og(n,-2147483648&n[n.length-1]?-1:0)},Md.R=function(e){if(Bg(this)||Bg(e))return jg;if(qg(this))return qg(e)?zg(this).R(zg(e)):zg(zg(this).R(e));if(qg(e))return zg(this.R(zg(e)));if(0>this.X(Vg)&&0>e.X(Vg))return Mg(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Wg(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Wg(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Wg(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Wg(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Og(n,0)},Md.gb=function(e){return Gg(this,e).h},Md.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Og(n,this.h&e.h)},Md.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Og(n,this.h|e.h)},Md.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Og(n,this.h^e.h)},Tg.prototype.createWebChannel=Tg.prototype.g,Sg.prototype.send=Sg.prototype.u,Sg.prototype.open=Sg.prototype.m,Sg.prototype.close=Sg.prototype.close,Nv.NO_ERROR=0,Nv.TIMEOUT=8,Nv.HTTP_ERROR=6,Av.COMPLETE="complete",Dv.EventType=Mv,Mv.OPEN="a",Mv.CLOSE="b",Mv.ERROR="c",Mv.MESSAGE="d",$p.prototype.listen=$p.prototype.O,Km.prototype.listenOnce=Km.prototype.P,Km.prototype.getLastError=Km.prototype.Sa,Km.prototype.getLastErrorCode=Km.prototype.Ia,Km.prototype.getStatus=Km.prototype.da,Km.prototype.getResponseJson=Km.prototype.Wa,Km.prototype.getResponseText=Km.prototype.ja,Km.prototype.send=Km.prototype.ha,Km.prototype.setWithCredentials=Km.prototype.Oa,Ag.prototype.digest=Ag.prototype.l,Ag.prototype.reset=Ag.prototype.reset,Ag.prototype.update=Ag.prototype.j,Og.prototype.add=Og.prototype.add,Og.prototype.multiply=Og.prototype.R,Og.prototype.modulo=Og.prototype.gb,Og.prototype.compare=Og.prototype.X,Og.prototype.toNumber=Og.prototype.ea,Og.prototype.toString=Og.prototype.toString,Og.prototype.getBits=Og.prototype.D,Og.fromNumber=Mg,Og.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return zg(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Mg(Math.pow(n,8)),i=jg,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=Mg(Math.pow(n,o)),i=i.R(o).add(Mg(s))):i=(i=i.R(r)).add(Mg(s))}return i};var $g=jd.createWebChannelTransport=function(){return new Tg},Xg=jd.getStatEventTarget=function(){return xv()},Jg=jd.ErrorCode=Nv,Zg=jd.EventType=Av,ey=jd.Event=wv,ty=jd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ny=jd.FetchXmlHttpFactory=Um,ry=jd.WebChannel=Dv,iy=jd.XhrIo=Km,ay=jd.Md5=Ag,oy=jd.Integer=Og,sy="@firebase/firestore",uy=function(){function e(t){Te(this,e),this.uid=t}return Ce(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();uy.UNAUTHENTICATED=new uy(null),uy.GOOGLE_CREDENTIALS=new uy("google-credentials-uid"),uy.FIRST_PARTY=new uy("first-party-uid"),uy.MOCK_USER=new uy("mock-user");var cy="9.21.0",ly=new Zt("@firebase/firestore");function fy(){return ly.logLevel}function hy(e){if(ly.logLevel<=Kt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vy);ly.debug.apply(ly,["Firestore (".concat(cy,"): ").concat(e)].concat(Ee(i)))}}function dy(e){if(ly.logLevel<=Kt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vy);ly.error.apply(ly,["Firestore (".concat(cy,"): ").concat(e)].concat(Ee(i)))}}function py(e){if(ly.logLevel<=Kt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(vy);ly.warn.apply(ly,["Firestore (".concat(cy,"): ").concat(e)].concat(Ee(i)))}}function vy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function my(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(cy,") INTERNAL ASSERTION FAILED: ")+e;throw dy(t),new Error(t)}function gy(e,t){e||my()}function yy(e,t){return e}var ky={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},by=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ce(n)}(dt),wy=Ce((function e(){var t=this;Te(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),_y=Ce((function e(t,n){Te(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),xy=function(){function e(){Te(this,e)}return Ce(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(uy.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ey=function(){function e(t){Te(this,e),this.token=t,this.changeListener=null}return Ce(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Iy=function(){function e(t){Te(this,e),this.t=t,this.currentUser=uy.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ce(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new wy;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new wy,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){hy("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(hy("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wy)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(hy("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(gy("string"==typeof n.accessToken),new _y(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return gy(null===e||"string"==typeof e),new uy(e)}}]),e}(),Ty=function(){function e(t,n,r){Te(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=uy.FIRST_PARTY,this.g=new Map}return Ce(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Sy=function(){function e(t,n,r){Te(this,e),this.h=t,this.l=n,this.m=r}return Ce(e,[{key:"getToken",value:function(){return Promise.resolve(new Ty(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(uy.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Cy=Ce((function e(t){Te(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Py=function(){function e(t){Te(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return Ce(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&hy("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,hy("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){hy("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):hy("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(gy("string"==typeof t.token),e.T=t.token,new Cy(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ny(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Ay=function(){function e(){Te(this,e)}return Ce(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ny(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Ry(e,t){return e<t?-1:e>t?1:0}function Oy(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Dy(e){return e+"\0"}var Ly=function(){function e(t,n){if(Te(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new by(ky.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new by(ky.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new by(ky.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new by(ky.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ce(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Ry(this.nanoseconds,e.nanoseconds):Ry(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),My=function(){function e(t){Te(this,e),this.timestamp=t}return Ce(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ly(0,0))}},{key:"max",value:function(){return new e(new Ly(253402300799,999999999))}}]),e}(),Fy=function(){function e(t,n,r){Te(this,e),void 0===n?n=0:n>t.length&&my(),void 0===r?r=t.length-n:r>t.length-n&&my(),this.segments=t,this.offset=n,this.len=r}return Ce(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),jy=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new by(ky.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Ee(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Fy),Uy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vy=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Uy.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new by(ky.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new by(ky.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new by(ky.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new by(ky.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Fy),By=function(){function e(t){Te(this,e),this.path=t}return Ce(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===jy.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(jy.fromString(t))}},{key:"fromName",value:function(t){return new e(jy.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(jy.emptyPath())}},{key:"comparator",value:function(e,t){return jy.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new jy(t.slice()))}}]),e}(),qy=Ce((function e(t,n,r,i){Te(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function zy(e){return e.fields.find((function(e){return 2===e.kind}))}function Hy(e){return e.fields.filter((function(e){return 2!==e.kind}))}qy.UNKNOWN_ID=-1;var Wy=Ce((function e(t,n){Te(this,e),this.fieldPath=t,this.kind=n}));var Ky=function(){function e(t,n){Te(this,e),this.sequenceNumber=t,this.offset=n}return Ce(e,null,[{key:"empty",value:function(){return new e(0,Yy.min())}}]),e}();function Gy(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=My.fromTimestamp(1e9===r?new Ly(n+1,0):new Ly(n,r));return new Yy(i,By.empty(),t)}function Qy(e){return new Yy(e.readTime,e.key,-1)}var Yy=function(){function e(t,n,r){Te(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ce(e,null,[{key:"min",value:function(){return new e(My.min(),By.empty(),-1)}},{key:"max",value:function(){return new e(My.max(),By.empty(),-1)}}]),e}();function $y(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=By.comparator(e.documentKey,t.documentKey))?n:Ry(e.largestBatchId,t.largestBatchId)}var Xy="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jy=function(){function e(){Te(this,e),this.onCommittedListeners=[]}return Ce(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Zy(e){return ek.apply(this,arguments)}function ek(){return(ek=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ky.FAILED_PRECONDITION&&t.message===Xy){e.next=2;break}throw t;case 2:hy("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tk=function(){function e(t){var n=this;Te(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ce(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&my(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Ie(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),nk=function(){function e(t,n){var r=this;Te(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.R=new wy,this.transaction.oncomplete=function(){r.R.resolve()},this.transaction.onabort=function(){n.error?r.R.reject(new ak(t,n.error)):r.R.resolve()},this.transaction.onerror=function(e){var n=lk(e.target.error);r.R.reject(new ak(t,n))}}return Ce(e,[{key:"v",get:function(){return this.R.promise}},{key:"abort",value:function(e){e&&this.R.reject(e),this.aborted||(hy("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new sk(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new ak(n,t)}}}]),e}(),rk=function(){function e(t,n,r){Te(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(it())&&dy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ce(e,[{key:"O",value:function(){var e=f(d().mark((function e(t){var n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return hy("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new ak(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new by(ky.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new by(ky.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new ak(t,n))},i.onupgradeneeded=function(e){hy("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.$(t,i.transaction,e.oldVersion,n.version).next((function(){hy("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=f(d().mark((function e(t,n,r,i){var a,o,s,u,c,l=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(d().mark((function e(){var n,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.O(t);case 2:return l.db=e.sent,n=nk.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),tk.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.v;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(s=e.t0)){e.next=8;break}return e.abrupt("return",s.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),u=e.t1,c="FirebaseError"!==u.name&&o<3,hy("SimpleDb","Transaction failed with error:",u.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(u));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return hy("SimpleDb","Removing database:",e),uk(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!ft())return!1;if(e.C())return!0;var t=it(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAjZL5xO-3zIfSVfgKQeYPzFE54radQraA",REACT_APP_FIREBASE_APP_ID:"1:411595774832:web:fa617c4a3fa63db0534db5",REACT_APP_FIREBASE_AUTH_DOMAIN:"code-editor-9b25e.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-GTBQDQYY14",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"411595774832",REACT_APP_FIREBASE_PROJECT_ID:"code-editor-9b25e",REACT_APP_FIREBASE_STORAGE_BUCKET:"code-editor-9b25e.appspot.com",REACT_APP_RAPID_API_HOST:"judge0-ce.p.rapidapi.com",REACT_APP_RAPID_API_KEY:"1ea3733832msh8457fd96877b0d5p142de3jsncfed73d317ad",REACT_APP_RAPID_API_URL:"https://judge0-ce.p.rapidapi.com/submissions"})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),ik=function(){function e(t){Te(this,e),this.L=t,this.q=!1,this.U=null}return Ce(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return uk(this.L.delete())}}]),e}(),ak=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this,ky.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ce(n)}(by);function ok(e){return"IndexedDbTransactionError"===e.name}var sk=function(){function e(t){Te(this,e),this.store=t}return Ce(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(hy("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(hy("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),uk(n)}},{key:"add",value:function(e){return hy("SimpleDb","ADD",this.store.name,e,e),uk(this.store.add(e))}},{key:"get",value:function(e){var t=this;return uk(this.store.get(e)).next((function(n){return void 0===n&&(n=null),hy("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return hy("SimpleDb","DELETE",this.store.name,e),uk(this.store.delete(e))}},{key:"count",value:function(){return hy("SimpleDb","COUNT",this.store.name),uk(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new tk((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new tk((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){hy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new tk((function(n,r){t.onerror=function(e){var t=lk(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new tk((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new ik(i),o=t(i.primaryKey,i.value,a);if(o instanceof tk){var s=o.catch((function(e){return a.done(),tk.reject(e)}));n.push(s)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return tk.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function uk(e){return new tk((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=lk(e.target.error);n(t)}}))}var ck=!1;function lk(e){var t=rk.S(it());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new by("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return ck||(ck=!0,setTimeout((function(){throw r}),0)),r}}return e}var fk=function(){function e(t,n){Te(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return Ce(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;hy("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=hy,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!ok(e.t4)){e.next=17;break}hy("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Zy(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),hk=function(){function e(t,n){Te(this,e),this.localStore=t,this.persistence=n}return Ce(e,[{key:"nt",value:function(){var e=f(d().mark((function e(){var t,n=this,r=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return tk.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return hy("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return hy("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Qy(t);$y(r,n)>0&&(n=r)})),new Yy(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),dk=function(){function e(t,n){var r=this;Te(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return Ce(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function pk(e){return null==e}function vk(e){return 0===e&&1/e==-1/0}function mk(e){return"number"==typeof e&&Number.isInteger(e)&&!vk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function gk(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=kk(t)),t=yk(e.get(n),t);return kk(t)}function yk(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function kk(e){return e+"\x01\x01"}function bk(e){var t=e.length;if(gy(t>=2),2===t)return gy("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),jy.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&my(),e.charAt(o+1)){case"\x01":var s=e.substring(a,o),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:my()}a=o+2}return new jy(r)}dk.ct=-1;var wk=["userId","batchId"];function _k(e,t){return[e,gk(t)]}function xk(e,t,n){return[e,gk(t),n]}var Ek={},Ik=["prefixPath","collectionGroup","readTime","documentId"],Tk=["prefixPath","collectionGroup","documentId"],Sk=["collectionGroup","readTime","prefixPath","documentId"],Ck=["canonicalId","targetId"],Pk=["targetId","path"],Nk=["path","targetId"],Ak=["collectionId","parent"],Rk=["indexId","uid"],Ok=["uid","sequenceNumber"],Dk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lk=["indexId","uid","orderedDocumentKey"],Mk=["userId","collectionPath","documentId"],Fk=["userId","collectionPath","largestBatchId"],jk=["userId","collectionGroup","largestBatchId"],Uk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Vk=[].concat(Ee(Uk),["documentOverlays"]),Bk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qk=Bk,zk=[].concat(qk,["indexConfiguration","indexState","indexEntries"]),Hk=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this)).at=e,i.currentSequenceNumber=r,i}return Ce(n)}(Jy);function Wk(e,t){var n=yy(e);return rk.M(n.at,t)}function Kk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Qk(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Yk=function(){function e(t,n){Te(this,e),this.comparator=t,this.root=n||Xk.EMPTY}return Ce(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xk.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xk.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new $k(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new $k(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new $k(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new $k(this.root,e,this.comparator,!0)}}]),e}(),$k=function(){function e(t,n,r,i){Te(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ce(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Xk=function(){function e(t,n,r,i,a){Te(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ce(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw my();if(this.right.isRed())throw my();var e=this.left.check();if(e!==this.right.check())throw my();return e+(this.isRed()?0:1)}}]),e}();Xk.EMPTY=null,Xk.RED=!0,Xk.BLACK=!1,Xk.EMPTY=new(function(){function e(){Te(this,e),this.size=0}return Ce(e,[{key:"key",get:function(){throw my()}},{key:"value",get:function(){throw my()}},{key:"color",get:function(){throw my()}},{key:"left",get:function(){throw my()}},{key:"right",get:function(){throw my()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Xk(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Jk=function(){function e(t){Te(this,e),this.comparator=t,this.data=new Yk(this.comparator)}return Ce(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Zk(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Zk(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Zk=function(){function e(t){Te(this,e),this.iter=t}return Ce(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function eb(e){return e.hasNext()?e.getNext():void 0}var tb=function(){function e(t){Te(this,e),this.fields=t,t.sort(Vy.comparator)}return Ce(e,[{key:"unionWith",value:function(t){var n,r=new Jk(Vy.comparator),i=Ie(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=Ie(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Ie(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Oy(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),nb=function(e){Ae(n,e);var t=Me(n);function n(){var e;return Te(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return Ce(n)}(je(Error));var rb=function(e){function t(e){Te(this,t),this.binaryString=e}return Ce(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Ry(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new nb("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();rb.EMPTY_BYTE_STRING=new rb("");var ib=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ab(e){if(gy(!!e),"string"==typeof e){var t=0,n=ib.exec(e);if(gy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ob(e.seconds),nanos:ob(e.nanos)}}function ob(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function sb(e){return"string"==typeof e?rb.fromBase64String(e):rb.fromUint8Array(e)}function ub(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cb(e){var t=e.mapValue.fields.__previous_value__;return ub(t)?cb(t):t}function lb(e){var t=ab(e.mapValue.fields.__local_write_time__.timestampValue);return new Ly(t.seconds,t.nanos)}var fb=Ce((function e(t,n,r,i,a,o,s,u){Te(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),hb=function(){function e(t,n){Te(this,e),this.projectId=t,this.database=n||"(default)"}return Ce(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),db={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pb={nullValue:"NULL_VALUE"};function vb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ub(e)?4:Pb(e)?9007199254740991:10:my()}function mb(e,t){if(e===t)return!0;var n=vb(e);if(n!==vb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return lb(e).isEqual(lb(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ab(e.timestampValue),r=ab(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return sb(e.bytesValue).isEqual(sb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ob(e.geoPointValue.latitude)===ob(t.geoPointValue.latitude)&&ob(e.geoPointValue.longitude)===ob(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ob(e.integerValue)===ob(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ob(e.doubleValue),r=ob(t.doubleValue);return n===r?vk(n)===vk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Oy(e.arrayValue.values||[],t.arrayValue.values||[],mb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Kk(n)!==Kk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!mb(n[i],r[i])))return!1;return!0}(e,t);default:return my()}}function gb(e,t){return void 0!==(e.values||[]).find((function(e){return mb(e,t)}))}function yb(e,t){if(e===t)return 0;var n=vb(e),r=vb(t);if(n!==r)return Ry(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ry(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ob(e.integerValue||e.doubleValue),r=ob(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return kb(e.timestampValue,t.timestampValue);case 4:return kb(lb(e),lb(t));case 5:return Ry(e.stringValue,t.stringValue);case 6:return function(e,t){var n=sb(e),r=sb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Ry(n[i],r[i]);if(0!==a)return a}return Ry(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Ry(ob(e.latitude),ob(t.latitude));return 0!==n?n:Ry(ob(e.longitude),ob(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=yb(n[i],r[i]);if(a)return a}return Ry(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===db.mapValue&&t===db.mapValue)return 0;if(e===db.mapValue)return 1;if(t===db.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=Ry(r[o],a[o]);if(0!==s)return s;var u=yb(n[r[o]],i[a[o]]);if(0!==u)return u}return Ry(r.length,a.length)}(e.mapValue,t.mapValue);default:throw my()}}function kb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ry(e,t);var n=ab(e),r=ab(t),i=Ry(n.seconds,r.seconds);return 0!==i?i:Ry(n.nanos,r.nanos)}function bb(e){return wb(e)}function wb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ab(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?sb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,By.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Ie(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=wb(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Ie(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(wb(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):my();var t,n}function _b(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function xb(e){return!!e&&"integerValue"in e}function Eb(e){return!!e&&"arrayValue"in e}function Ib(e){return!!e&&"nullValue"in e}function Tb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Sb(e){return!!e&&"mapValue"in e}function Cb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Gk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Cb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Cb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Pb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Nb(e){return"nullValue"in e?pb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?_b(hb.empty(),By.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:my()}function Ab(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?_b(hb.empty(),By.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?db:my()}function Rb(e,t){var n=yb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ob(e,t){var n=yb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Db=function(){function e(t){Te(this,e),this.value=t}return Ce(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Sb(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cb(t)}},{key:"setAll",value:function(e){var t=this,n=Vy.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Cb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Sb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return mb(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Sb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Gk(t,(function(t,n){return e[t]=n}));var r,i=Ie(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Cb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Lb(e){var t=[];return Gk(e.fields,(function(e,n){var r=new Vy([e]);if(Sb(n)){var i=Lb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Ie(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new tb(t)}var Mb=function(){function e(t,n,r,i,a,o,s){Te(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return Ce(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(My.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Db.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Db.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=My.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,My.min(),My.min(),My.min(),Db.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,My.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,My.min(),My.min(),Db.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,My.min(),My.min(),Db.empty(),2)}}]),e}(),Fb=Ce((function e(t,n){Te(this,e),this.position=t,this.inclusive=n}));function jb(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?By.comparator(By.fromName(o.referenceValue),n.key):yb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ub(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!mb(e.position[n],t.position[n]))return!1;return!0}var Vb=Ce((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Te(this,e),this.field=t,this.dir=n}));function Bb(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var qb=Ce((function e(){Te(this,e)})),zb=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){var a;return Te(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ce(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(yb(t,this.value)):null!==t&&vb(this.value)===vb(t)&&this.matchesComparison(yb(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return my()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Zb(e,t,r):"array-contains"===t?new rw(e,r):"in"===t?new iw(e,r):"not-in"===t?new aw(e,r):"array-contains-any"===t?new ow(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new ew(e,n):new tw(e,n)}}]),n}(qb),Hb=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return Ce(n,[{key:"matches",value:function(e){return Wb(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=Ie(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(qb);function Wb(e){return"and"===e.op}function Kb(e){return"or"===e.op}function Gb(e){return Qb(e)&&Wb(e)}function Qb(e){var t,n=Ie(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Hb)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Yb(e){if(e instanceof zb)return e.field.canonicalString()+e.op.toString()+bb(e.value);if(Gb(e))return e.filters.map((function(e){return Yb(e)})).join(",");var t=e.filters.map((function(e){return Yb(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function $b(e,t){return e instanceof zb?function(e,t){return t instanceof zb&&e.op===t.op&&e.field.isEqual(t.field)&&mb(e.value,t.value)}(e,t):e instanceof Hb?function(e,t){return t instanceof Hb&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&$b(n,t.filters[r])}),!0)}(e,t):void my()}function Xb(e,t){var n=e.filters.concat(t);return Hb.create(n,e.op)}function Jb(e){return e instanceof zb?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(bb(e.value))}(e):e instanceof Hb?function(e){return e.op.toString()+" {"+e.getFilters().map(Jb).join(" ,")+"}"}(e):"Filter"}var Zb=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){var a;return Te(this,n),(a=t.call(this,e,r,i)).key=By.fromName(i.referenceValue),a}return Ce(n,[{key:"matches",value:function(e){var t=By.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(zb),ew=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this,e,"in",r)).keys=nw("in",r),i}return Ce(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zb),tw=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this,e,"not-in",r)).keys=nw("not-in",r),i}return Ce(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zb);function nw(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return By.fromName(e.referenceValue)}))}var rw=function(e){Ae(n,e);var t=Me(n);function n(e,r){return Te(this,n),t.call(this,e,"array-contains",r)}return Ce(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Eb(t)&&gb(t.arrayValue,this.value)}}]),n}(zb),iw=function(e){Ae(n,e);var t=Me(n);function n(e,r){return Te(this,n),t.call(this,e,"in",r)}return Ce(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&gb(this.value.arrayValue,t)}}]),n}(zb),aw=function(e){Ae(n,e);var t=Me(n);function n(e,r){return Te(this,n),t.call(this,e,"not-in",r)}return Ce(n,[{key:"matches",value:function(e){if(gb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!gb(this.value.arrayValue,t)}}]),n}(zb),ow=function(e){Ae(n,e);var t=Me(n);function n(e,r){return Te(this,n),t.call(this,e,"array-contains-any",r)}return Ce(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Eb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return gb(t.value.arrayValue,e)}))}}]),n}(zb),sw=Ce((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Te(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function uw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new sw(e,t,n,r,i,a,o)}function cw(e){var t=yy(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Yb(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),pk(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return bb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return bb(e)})).join(",")),t.ft=n}return t.ft}function lw(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Bb(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!$b(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ub(e.startAt,t.startAt)&&Ub(e.endAt,t.endAt)}function fw(e){return By.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function hw(e,t){return e.filters.filter((function(e){return e instanceof zb&&e.field.isEqual(t)}))}function dw(e,t,n){var r,i=pb,a=!0,o=Ie(hw(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=pb,c=!0;switch(s.op){case"<":case"<=":u=Nb(s.value);break;case"==":case"in":case">=":u=s.value;break;case">":u=s.value,c=!1;break;case"!=":case"not-in":u=pb}Rb({value:i,inclusive:a},{value:u,inclusive:c})<0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Rb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function pw(e,t,n){var r,i=db,a=!0,o=Ie(hw(e,t));try{for(o.s();!(r=o.n()).done;){var s=r.value,u=db,c=!0;switch(s.op){case">=":case">":u=Ab(s.value),c=!1;break;case"==":case"in":case"<=":u=s.value;break;case"<":u=s.value,c=!1;break;case"!=":case"not-in":u=db}Ob({value:i,inclusive:a},{value:u,inclusive:c})>0&&(i=u,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ob({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var vw=Ce((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Te(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this._t=null,this.startAt,this.endAt}));function mw(e,t,n,r,i,a,o,s){return new vw(e,t,n,r,i,a,o,s)}function gw(e){return new vw(e)}function yw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function kw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function bw(e){var t,n=Ie(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function ww(e){return null!==e.collectionGroup}function _w(e){var t=yy(e);if(null===t.dt){t.dt=[];var n=bw(t),r=kw(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Vb(n)),t.dt.push(new Vb(Vy.keyField(),"asc"));else{var i,a=!1,o=Ie(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Vb(Vy.keyField(),u))}}}return t.dt}function xw(e){var t=yy(e);if(!t._t)if("F"===t.limitType)t._t=uw(t.path,t.collectionGroup,_w(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Ie(_w(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Vb(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Fb(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Fb(t.startAt.position,t.startAt.inclusive):null;t._t=uw(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t._t}function Ew(e,t){t.getFirstInequalityField(),bw(e);var n=e.filters.concat([t]);return new vw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Iw(e,t,n){return new vw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Tw(e,t){return lw(xw(e),xw(t))&&e.limitType===t.limitType}function Sw(e){return"".concat(cw(xw(e)),"|lt:").concat(e.limitType)}function Cw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Jb(e)})).join(", "),"]")),pk(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return bb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return bb(e)})).join(",")),"Target(".concat(t,")")}(xw(e)),"; limitType=").concat(e.limitType,")")}function Pw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):By.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Ie(_w(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Ie(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=jb(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,_w(e),t))&&!(e.endAt&&!function(e,t,n){var r=jb(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,_w(e),t))}(e,t)}function Nw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Aw(e){return function(t,n){var r,i=!1,a=Ie(_w(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Rw(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Rw(e,t,n){var r=e.field.isKeyField()?By.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?yb(r,i):my()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return my()}}var Ow=function(){function e(t,n){Te(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ce(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Ie(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Gk(this.inner,(function(t,n){var r,i=Ie(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Qk(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Dw=new Yk(By.comparator);function Lw(){return Dw}var Mw=new Yk(By.comparator);function Fw(){for(var e=Mw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function jw(e){var t=Mw;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Uw(){return Bw()}function Vw(){return Bw()}function Bw(){return new Ow((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var qw=new Yk(By.comparator),zw=new Jk(By.comparator);function Hw(){for(var e=zw,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Ww=new Jk(Ry);function Kw(){return Ww}function Gw(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vk(t)?"-0":t}}function Qw(e){return{integerValue:""+e}}function Yw(e,t){return mk(t)?Qw(t):Gw(e,t)}var $w=Ce((function e(){Te(this,e),this._=void 0}));function Xw(e,t,n){return e instanceof e_?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ub(t)&&(t=cb(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof t_?n_(e,t):e instanceof r_?i_(e,t):function(e,t){var n=Zw(e,t),r=o_(n)+o_(e.wt);return xb(n)&&xb(e.wt)?Qw(r):Gw(e.serializer,r)}(e,t)}function Jw(e,t,n){return e instanceof t_?n_(e,t):e instanceof r_?i_(e,t):n}function Zw(e,t){return e instanceof a_?xb(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var e_=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n)}($w),t_=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this)).elements=e,r}return Ce(n)}($w);function n_(e,t){var n,r=s_(t),i=Ie(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return mb(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var r_=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this)).elements=e,r}return Ce(n)}($w);function i_(e,t){var n,r=s_(t),i=Ie(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!mb(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var a_=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this)).serializer=e,i.wt=r,i}return Ce(n)}($w);function o_(e){return ob(e.integerValue||e.doubleValue)}function s_(e){return Eb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var u_=Ce((function e(t,n){Te(this,e),this.field=t,this.transform=n}));var c_=Ce((function e(t,n){Te(this,e),this.version=t,this.transformResults=n})),l_=function(){function e(t,n){Te(this,e),this.updateTime=t,this.exists=n}return Ce(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function f_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var h_=Ce((function e(){Te(this,e)}));function d_(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new I_(e.key,l_.none()):new y_(e.key,e.data,l_.none());var n,r=e.data,i=Db.empty(),a=new Jk(Vy.comparator),o=Ie(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new k_(e.key,i,new tb(a.toArray()),l_.none())}function p_(e,t,n){e instanceof y_?function(e,t,n){var r=e.value.clone(),i=w_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof k_?function(e,t,n){if(f_(e.precondition,t)){var r=w_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(b_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function v_(e,t,n,r){return e instanceof y_?function(e,t,n,r){if(!f_(e.precondition,t))return n;var i=e.value.clone(),a=__(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof k_?function(e,t,n,r){if(!f_(e.precondition,t))return n;var i=__(e.fieldTransforms,r,t),a=t.data;return a.setAll(b_(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return f_(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function m_(e,t){var n,r=null,i=Ie(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Zw(a.transform,o||null);null!=s&&(null===r&&(r=Db.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function g_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Oy(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof t_&&t instanceof t_||e instanceof r_&&t instanceof r_?Oy(e.elements,t.elements,mb):e instanceof a_&&t instanceof a_?mb(e.wt,t.wt):e instanceof e_&&t instanceof e_}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var y_=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Te(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ce(n,[{key:"getFieldMask",value:function(){return null}}]),n}(h_),k_=function(e){Ae(n,e);var t=Me(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Te(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Ce(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(h_);function b_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function w_(e,t,n){var r=new Map;gy(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Jw(o,s,n[i]))}return r}function __(e,t,n){var r,i=new Map,a=Ie(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Xw(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var x_,E_,I_=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ce(n,[{key:"getFieldMask",value:function(){return null}}]),n}(h_),T_=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ce(n,[{key:"getFieldMask",value:function(){return null}}]),n}(h_),S_=function(){function e(t,n,r,i){Te(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ce(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&p_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Ie(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=v_(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=Ie(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=v_(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Vw();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=d_(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(My.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Hw())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Oy(this.mutations,e.mutations,(function(e,t){return g_(e,t)}))&&Oy(this.baseMutations,e.baseMutations,(function(e,t){return g_(e,t)}))}}]),e}(),C_=function(){function e(t,n,r,i){Te(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ce(e,null,[{key:"from",value:function(t,n,r){gy(t.mutations.length===r.length);for(var i=qw,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),P_=function(){function e(t,n){Te(this,e),this.largestBatchId=t,this.mutation=n}return Ce(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),N_=Ce((function e(t,n){Te(this,e),this.count=t,this.unchangedNames=n}));function A_(e){switch(e){default:return my();case ky.CANCELLED:case ky.UNKNOWN:case ky.DEADLINE_EXCEEDED:case ky.RESOURCE_EXHAUSTED:case ky.INTERNAL:case ky.UNAVAILABLE:case ky.UNAUTHENTICATED:return!1;case ky.INVALID_ARGUMENT:case ky.NOT_FOUND:case ky.ALREADY_EXISTS:case ky.PERMISSION_DENIED:case ky.FAILED_PRECONDITION:case ky.ABORTED:case ky.OUT_OF_RANGE:case ky.UNIMPLEMENTED:case ky.DATA_LOSS:return!0}}function R_(e){if(void 0===e)return dy("GRPC error has no .code"),ky.UNKNOWN;switch(e){case x_.OK:return ky.OK;case x_.CANCELLED:return ky.CANCELLED;case x_.UNKNOWN:return ky.UNKNOWN;case x_.DEADLINE_EXCEEDED:return ky.DEADLINE_EXCEEDED;case x_.RESOURCE_EXHAUSTED:return ky.RESOURCE_EXHAUSTED;case x_.INTERNAL:return ky.INTERNAL;case x_.UNAVAILABLE:return ky.UNAVAILABLE;case x_.UNAUTHENTICATED:return ky.UNAUTHENTICATED;case x_.INVALID_ARGUMENT:return ky.INVALID_ARGUMENT;case x_.NOT_FOUND:return ky.NOT_FOUND;case x_.ALREADY_EXISTS:return ky.ALREADY_EXISTS;case x_.PERMISSION_DENIED:return ky.PERMISSION_DENIED;case x_.FAILED_PRECONDITION:return ky.FAILED_PRECONDITION;case x_.ABORTED:return ky.ABORTED;case x_.OUT_OF_RANGE:return ky.OUT_OF_RANGE;case x_.UNIMPLEMENTED:return ky.UNIMPLEMENTED;case x_.DATA_LOSS:return ky.DATA_LOSS;default:return my()}}(E_=x_||(x_={}))[E_.OK=0]="OK",E_[E_.CANCELLED=1]="CANCELLED",E_[E_.UNKNOWN=2]="UNKNOWN",E_[E_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",E_[E_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",E_[E_.NOT_FOUND=5]="NOT_FOUND",E_[E_.ALREADY_EXISTS=6]="ALREADY_EXISTS",E_[E_.PERMISSION_DENIED=7]="PERMISSION_DENIED",E_[E_.UNAUTHENTICATED=16]="UNAUTHENTICATED",E_[E_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",E_[E_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",E_[E_.ABORTED=10]="ABORTED",E_[E_.OUT_OF_RANGE=11]="OUT_OF_RANGE",E_[E_.UNIMPLEMENTED=12]="UNIMPLEMENTED",E_[E_.INTERNAL=13]="INTERNAL",E_[E_.UNAVAILABLE=14]="UNAVAILABLE",E_[E_.DATA_LOSS=15]="DATA_LOSS";var O_=function(){function e(){Te(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return Ce(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return D_}},{key:"getOrCreateInstance",value:function(){return null===D_&&(D_=new e),D_}}]),e}(),D_=null;function L_(){return new TextEncoder}var M_=new oy([4294967295,4294967295],0);function F_(e){var t=L_().encode(e),n=new ay;return n.update(t),new Uint8Array(n.digest())}function j_(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new oy([n,r],0),new oy([i,a],0)]}var U_=function(){function e(t,n,r){if(Te(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new V_("Invalid padding: ".concat(n));if(r<0)throw new V_("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new V_("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new V_("Invalid padding when bitmap length is 0: ".concat(n));this.yt=8*t.length-n,this.It=oy.fromNumber(this.yt)}return Ce(e,[{key:"Tt",value:function(e,t,n){var r=e.add(t.multiply(oy.fromNumber(n)));return 1===r.compare(M_)&&(r=new oy([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}},{key:"Et",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"At",value:function(e){if(0===this.yt)return!1;for(var t=c(j_(F_(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);if(!this.Et(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.yt)for(var t=c(j_(F_(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Tt(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),V_=function(e){Ae(n,e);var t=Me(n);function n(){var e;return Te(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return Ce(n)}(je(Error)),B_=function(){function e(t,n,r,i,a){Te(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ce(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,q_.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(My.min(),i,new Yk(Ry),Lw(),Hw())}}]),e}(),q_=function(){function e(t,n,r,i,a){Te(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ce(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Hw(),Hw(),Hw())}}]),e}(),z_=Ce((function e(t,n,r,i){Te(this,e),this.vt=t,this.removedTargetIds=n,this.key=r,this.Pt=i})),H_=Ce((function e(t,n){Te(this,e),this.targetId=t,this.bt=n})),W_=Ce((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Te(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),K_=function(){function e(){Te(this,e),this.Vt=0,this.St=Y_(),this.Dt=rb.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}return Ce(e,[{key:"current",get:function(){return this.Ct}},{key:"resumeToken",get:function(){return this.Dt}},{key:"Nt",get:function(){return 0!==this.Vt}},{key:"kt",get:function(){return this.xt}},{key:"Mt",value:function(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}},{key:"Ot",value:function(){var e=Hw(),t=Hw(),n=Hw();return this.St.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:my()}})),new q_(this.Dt,this.Ct,e,t,n)}},{key:"$t",value:function(){this.xt=!1,this.St=Y_()}},{key:"Ft",value:function(e,t){this.xt=!0,this.St=this.St.insert(e,t)}},{key:"Bt",value:function(e){this.xt=!0,this.St=this.St.remove(e)}},{key:"Lt",value:function(){this.Vt+=1}},{key:"qt",value:function(){this.Vt-=1}},{key:"Ut",value:function(){this.xt=!0,this.Ct=!0}}]),e}(),G_=function(){function e(t){Te(this,e),this.Kt=t,this.Gt=new Map,this.Qt=Lw(),this.jt=Q_(),this.zt=new Yk(Ry)}return Ce(e,[{key:"Wt",value:function(e){var t,n=Ie(e.vt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Pt&&e.Pt.isFoundDocument()?this.Ht(r,e.Pt):this.Jt(r,e.key,e.Pt)}}catch(s){n.e(s)}finally{n.f()}var i,a=Ie(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Jt(o,e.key,e.Pt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Yt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Xt(n);switch(e.state){case 0:t.Zt(n)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||t.removeTarget(n);break;case 3:t.Zt(n)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:t.Zt(n)&&(t.te(n),r.Mt(e.resumeToken));break;default:my()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((function(e,r){n.Zt(r)&&t(r)}))}},{key:"ee",value:function(e){var t,n=e.targetId,r=e.bt.count,i=this.ne(n);if(i){var a=i.target;if(fw(a))if(0===r){var o=new By(a.path);this.Jt(n,o,Mb.newNoDocument(o,My.min()))}else gy(1===r);else{var s=this.se(n);if(s!==r){var u=this.ie(e,s);if(0!==u){this.te(n);var c=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(n,c)}null===(t=O_.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,s,u,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(u=null===(s=null==l?void 0:l.bits)||void 0===s?void 0:s.padding)&&void 0!==u?u:0}),c}(u,s,e.bt))}}}}},{key:"ie",value:function(e,t){var n=e.bt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,s=r.bits,u=s.bitmap,c=void 0===u?"":u,l=s.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=sb(c).toUint8Array()}catch(e){if(e instanceof nb)return py("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new U_(a,f,d)}catch(e){return py(e instanceof V_?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.yt?1:i!==t-this.re(e.targetId,o)?2:0}},{key:"re",value:function(e,t){var n=this,r=this.Kt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Kt.oe(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.At(o)||(n.Jt(e,r,null),i++)})),i}},{key:"ue",value:function(e){var t=this,n=new Map;this.Gt.forEach((function(r,i){var a=t.ne(i);if(a){if(r.current&&fw(a.target)){var o=new By(a.target.path);null!==t.Qt.get(o)||t.ce(i,o)||t.Jt(i,o,Mb.newNoDocument(o,e))}r.kt&&(n.set(i,r.Ot()),r.$t())}}));var r=Hw();this.jt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ne(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Qt.forEach((function(t,n){return n.setReadTime(e)}));var i=new B_(e,n,this.zt,this.Qt,r);return this.Qt=Lw(),this.jt=Q_(),this.zt=new Yk(Ry),i}},{key:"Ht",value:function(e,t){if(this.Zt(e)){var n=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,n),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}}},{key:"Jt",value:function(e,t,n){if(this.Zt(e)){var r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),n&&(this.Qt=this.Qt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Gt.delete(e)}},{key:"se",value:function(e){var t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Lt",value:function(e){this.Xt(e).Lt()}},{key:"Xt",value:function(e){var t=this.Gt.get(e);return t||(t=new K_,this.Gt.set(e,t)),t}},{key:"ae",value:function(e){var t=this.jt.get(e);return t||(t=new Jk(Ry),this.jt=this.jt.insert(e,t)),t}},{key:"Zt",value:function(e){var t=null!==this.ne(e);return t||hy("WatchChangeAggregator","Detected inactive target",e),t}},{key:"ne",value:function(e){var t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}},{key:"te",value:function(e){var t=this;this.Gt.set(e,new K_),this.Kt.getRemoteKeysForTarget(e).forEach((function(n){t.Jt(e,n,null)}))}},{key:"ce",value:function(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Q_(){return new Yk(By.comparator)}function Y_(){return new Yk(By.comparator)}var $_={asc:"ASCENDING",desc:"DESCENDING"},X_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J_={and:"AND",or:"OR"},Z_=Ce((function e(t,n){Te(this,e),this.databaseId=t,this.useProto3Json=n}));function ex(e,t){return e.useProto3Json||pk(t)?t:{value:t}}function tx(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function nx(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function rx(e,t){return tx(e,t.toTimestamp())}function ix(e){return gy(!!e),My.fromTimestamp(function(e){var t=ab(e);return new Ly(t.seconds,t.nanos)}(e))}function ax(e,t){return function(e){return new jy(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ox(e){var t=jy.fromString(e);return gy(Px(t)),t}function sx(e,t){return ax(e.databaseId,t.path)}function ux(e,t){var n=ox(t);if(n.get(1)!==e.databaseId.projectId)throw new by(ky.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new by(ky.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new By(hx(n))}function cx(e,t){return ax(e.databaseId,t)}function lx(e){var t=ox(e);return 4===t.length?jy.emptyPath():hx(t)}function fx(e){return new jy(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hx(e){return gy(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function dx(e,t,n){return{name:sx(e,t),fields:n.value.mapValue.fields}}function px(e,t,n){var r=ux(e,t.name),i=ix(t.updateTime),a=t.createTime?ix(t.createTime):My.min(),o=new Db({mapValue:{fields:t.fields}}),s=Mb.newFoundDocument(r,i,a,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function vx(e,t){return"found"in t?function(e,t){gy(!!t.found),t.found.name,t.found.updateTime;var n=ux(e,t.found.name),r=ix(t.found.updateTime),i=t.found.createTime?ix(t.found.createTime):My.min(),a=new Db({mapValue:{fields:t.found.fields}});return Mb.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){gy(!!t.missing),gy(!!t.readTime);var n=ux(e,t.missing),r=ix(t.readTime);return Mb.newNoDocument(n,r)}(e,t):my()}function mx(e,t){var n;if(t instanceof y_)n={update:dx(e,t.key,t.value)};else if(t instanceof I_)n={delete:sx(e,t.key)};else if(t instanceof k_)n={update:dx(e,t.key,t.data),updateMask:Cx(t.fieldMask)};else{if(!(t instanceof T_))return my();n={verify:sx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof e_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof t_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof r_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof a_)return{fieldPath:t.field.canonicalString(),increment:n.wt};throw my()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:rx(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:my()}(e,t.precondition)),n}function gx(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?l_.updateTime(ix(e.updateTime)):void 0!==e.exists?l_.exists(e.exists):l_.none()}(t.currentDocument):l_.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)gy("REQUEST_TIME"===t.setToServerValue),n=new e_;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new t_(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new r_(i)}else"increment"in t?n=new a_(e,t.increment):my();var a=Vy.fromServerFormat(t.fieldPath);return new u_(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=ux(e,t.update.name),a=new Db({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new tb(t.map((function(e){return Vy.fromServerFormat(e)})))}(t.updateMask);return new k_(i,a,o,n,r)}return new y_(i,a,n,r)}if(t.delete){var s=ux(e,t.delete);return new I_(s,n)}if(t.verify){var u=ux(e,t.verify);return new T_(u,n)}return my()}function yx(e,t){return{documents:[cx(e,t.path)]}}function kx(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=cx(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=cx(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Sx(Hb.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ix(e.field),direction:_x(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=ex(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function bx(e){var t=lx(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){gy(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=wx(e);return t instanceof Hb&&Gb(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Vb(Tx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return pk(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Fb(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Fb(n,t)}(n.endAt)),mw(t,i,s,o,u,"F",c,l)}function wx(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Tx(e.unaryFilter.field);return zb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Tx(e.unaryFilter.field);return zb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Tx(e.unaryFilter.field);return zb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Tx(e.unaryFilter.field);return zb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return my()}}(e):void 0!==e.fieldFilter?function(e){return zb.create(Tx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return my()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Hb.create(e.compositeFilter.filters.map((function(e){return wx(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return my()}}(e.compositeFilter.op))}(e):my()}function _x(e){return $_[e]}function xx(e){return X_[e]}function Ex(e){return J_[e]}function Ix(e){return{fieldPath:e.canonicalString()}}function Tx(e){return Vy.fromServerFormat(e.fieldPath)}function Sx(e){return e instanceof zb?function(e){if("=="===e.op){if(Tb(e.value))return{unaryFilter:{field:Ix(e.field),op:"IS_NAN"}};if(Ib(e.value))return{unaryFilter:{field:Ix(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Tb(e.value))return{unaryFilter:{field:Ix(e.field),op:"IS_NOT_NAN"}};if(Ib(e.value))return{unaryFilter:{field:Ix(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ix(e.field),op:xx(e.op),value:e.value}}}(e):e instanceof Hb?function(e){var t=e.getFilters().map((function(e){return Sx(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Ex(e.op),filters:t}}}(e):my()}function Cx(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Px(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Nx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:My.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:My.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:rb.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Te(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return Ce(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Ax=Ce((function e(t){Te(this,e),this.le=t}));function Rx(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ox(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:sx(e,t.key),fields:t.data.value.mapValue.fields,updateTime:tx(e,t.version.toTimestamp()),createTime:tx(e,t.createTime.toTimestamp())}}(e.le,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Dx(t.version)};else{if(!t.isUnknownDocument())return my();r.unknownDocument={path:n.path.toArray(),version:Dx(t.version)}}return r}function Ox(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Dx(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Lx(e){var t=new Ly(e.seconds,e.nanoseconds);return My.fromTimestamp(t)}function Mx(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gx(e.le,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return gx(e.le,t)})),s=Ly.fromMillis(t.localWriteTimeMs);return new S_(t.batchId,s,n,o)}function Fx(e){var t,n,r=Lx(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Lx(e.lastLimboFreeSnapshotVersion):My.min();return void 0!==e.query.documents?(gy(1===(n=e.query).documents.length),t=xw(gw(lx(n.documents[0])))):t=function(e){return xw(bx(e))}(e.query),new Nx(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,rb.fromBase64String(e.resumeToken))}function jx(e,t){var n,r=Dx(t.snapshotVersion),i=Dx(t.lastLimboFreeSnapshotVersion);n=fw(t.target)?yx(e.le,t.target):kx(e.le,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:cw(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ux(e){var t=bx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Iw(t,t.limit,"L"):t}function Vx(e,t){return new P_(t.largestBatchId,gx(e.le,t.overlayMutation))}function Bx(e,t){var n=t.path.lastSegment();return[e,gk(t.path.popLast()),n]}function qx(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Dx(r.readTime),documentKey:gk(r.documentKey.path),largestBatchId:r.largestBatchId}}var zx=function(){function e(){Te(this,e)}return Ce(e,[{key:"getBundleMetadata",value:function(e,t){return Hx(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Lx(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Hx(e).put({bundleId:(n=t).id,createTime:Dx(ix(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Wx(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ux(t.bundledQuery),readTime:Lx(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Wx(e).put(function(e){return{name:e.name,readTime:Dx(ix(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Hx(e){return Wk(e,"bundles")}function Wx(e){return Wk(e,"namedQueries")}var Kx=function(){function e(t,n){Te(this,e),this.serializer=t,this.userId=n}return Ce(e,[{key:"getOverlay",value:function(e,t){var n=this;return Gx(e).get(Bx(this.userId,t)).next((function(e){return e?Vx(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Uw();return tk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new P_(t,a);i.push(r.de(e,o))})),tk.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(gk(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Gx(e).J("collectionPathOverlayIndex",i))})),tk.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Uw(),a=gk(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Gx(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=Ie(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Vx(r.serializer,a);i.set(o.getKey(),o)}}catch(s){n.e(s)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Uw(),s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Gx(e).X({index:"collectionGroupOverlayIndex",range:s},(function(e,t,n){var s=Vx(a.serializer,t);o.size()<r||s.largestBatchId===i?(o.set(s.getKey(),s),i=s.largestBatchId):n.done()})).next((function(){return o}))}},{key:"de",value:function(e,t){return Gx(e).put(function(e,t,n){var r=c(Bx(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:mx(e.le,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"fe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Gx(e){return Wk(e,"documentOverlays")}var Qx=function(){function e(){Te(this,e)}return Ce(e,[{key:"_e",value:function(e,t){this.we(e,t),t.me()}},{key:"we",value:function(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(ob(e.integerValue));else if("doubleValue"in e){var n=ob(e.doubleValue);isNaN(n)?this.ge(t,13):(this.ge(t,15),vk(n)?t.ye(0):t.ye(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe("".concat(r.seconds||"")),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(sb(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ge(t,45),t.ye(i.latitude||0),t.ye(i.longitude||0)}else"mapValue"in e?Pb(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):my()}},{key:"Ie",value:function(e,t){this.ge(t,25),this.Pe(e,t)}},{key:"Pe",value:function(e,t){t.pe(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ge(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Ie(a,t),this.we(n[a],t)}}},{key:"ve",value:function(e,t){var n=e.values||[];this.ge(t,50);var r,i=Ie(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.we(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"Ae",value:function(e,t){var n=this;this.ge(t,37),By.fromName(e).path.forEach((function(e){n.ge(t,60),n.Pe(e,t)}))}},{key:"ge",value:function(e,t){e.ye(t)}},{key:"Te",value:function(e){e.ye(2)}}]),e}();function Yx(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function $x(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Yx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Qx.be=new Qx;var Xx=function(){function e(){Te(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Ce(e,[{key:"Ve",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Se(n.value),n=t.next();this.De()}},{key:"Ce",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.xe(n.value),n=t.next();this.Ne()}},{key:"ke",value:function(e){var t,n=Ie(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{var a=r.codePointAt(0);this.Se(240|a>>>18),this.Se(128|63&a>>>12),this.Se(128|63&a>>>6),this.Se(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.De()}},{key:"Me",value:function(e){var t,n=Ie(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{var a=r.codePointAt(0);this.xe(240|a>>>18),this.xe(128|63&a>>>12),this.xe(128|63&a>>>6),this.xe(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ne()}},{key:"Oe",value:function(e){var t=this.$e(e),n=$x(t);this.Fe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Be",value:function(e){var t=this.$e(e),n=$x(t);this.Fe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Le",value:function(){this.qe(255),this.qe(255)}},{key:"Ue",value:function(){this.Ke(255),this.Ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ge",value:function(){return this.buffer.slice(0,this.position)}},{key:"$e",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Se",value:function(e){var t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}},{key:"xe",value:function(e){var t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}},{key:"De",value:function(){this.qe(0),this.qe(1)}},{key:"Ne",value:function(){this.Ke(0),this.Ke(1)}},{key:"qe",value:function(e){this.Fe(1),this.buffer[this.position++]=e}},{key:"Ke",value:function(e){this.Fe(1),this.buffer[this.position++]=~e}},{key:"Fe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Jx=function(){function e(t){Te(this,e),this.Qe=t}return Ce(e,[{key:"Ee",value:function(e){this.Qe.Ve(e)}},{key:"pe",value:function(e){this.Qe.ke(e)}},{key:"ye",value:function(e){this.Qe.Oe(e)}},{key:"me",value:function(){this.Qe.Le()}}]),e}(),Zx=function(){function e(t){Te(this,e),this.Qe=t}return Ce(e,[{key:"Ee",value:function(e){this.Qe.Ce(e)}},{key:"pe",value:function(e){this.Qe.Me(e)}},{key:"ye",value:function(e){this.Qe.Be(e)}},{key:"me",value:function(){this.Qe.Ue()}}]),e}(),eE=function(){function e(){Te(this,e),this.Qe=new Xx,this.je=new Jx(this.Qe),this.ze=new Zx(this.Qe)}return Ce(e,[{key:"seed",value:function(e){this.Qe.seed(e)}},{key:"We",value:function(e){return 0===e?this.je:this.ze}},{key:"Ge",value:function(){return this.Qe.Ge()}},{key:"reset",value:function(){this.Qe.reset()}}]),e}(),tE=function(){function e(t,n,r,i){Te(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Ce(e,[{key:"He",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function nE(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=rE(e.arrayValue,t.arrayValue))?n:0!==(n=rE(e.directionalValue,t.directionalValue))?n:By.comparator(e.documentKey,t.documentKey)}function rE(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var iE=function(){function e(t){Te(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Je=t.orderBy,this.Ye=[];var n,r=Ie(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Xe=i:this.Ye.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Ce(e,[{key:"Ze",value:function(e){gy(e.collectionGroup===this.collectionId);var t=zy(e);if(void 0!==t&&!this.tn(t))return!1;for(var n=Hy(e),r=0,i=0;r<n.length&&this.tn(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Xe){var a=n[r];if(!this.en(this.Xe,a)||!this.nn(this.Je[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Je.length||!this.nn(this.Je[i++],o))return!1}return!0}},{key:"tn",value:function(e){var t,n=Ie(this.Ye);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.en(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"en",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"nn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function aE(e){var t,n;if(gy(e instanceof zb||e instanceof Hb),e instanceof zb){if(e instanceof iw){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return zb.create(e.field,"==",t)})))||[];return Hb.create(r,"or")}return e}var i=e.filters.map((function(e){return aE(e)}));return Hb.create(i,e.op)}function oE(e){if(0===e.getFilters().length)return[];var t=lE(aE(e));return gy(cE(t)),sE(t)||uE(t)?[t]:t.getFilters()}function sE(e){return e instanceof zb}function uE(e){return e instanceof Hb&&Gb(e)}function cE(e){return sE(e)||uE(e)||function(e){if(e instanceof Hb&&Kb(e)){var t,n=Ie(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!sE(r)&&!uE(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function lE(e){if(gy(e instanceof zb||e instanceof Hb),e instanceof zb)return e;if(1===e.filters.length)return lE(e.filters[0]);var t=e.filters.map((function(e){return lE(e)})),n=Hb.create(t,e.op);return cE(n=dE(n))?n:(gy(n instanceof Hb),gy(Wb(n)),gy(n.filters.length>1),n.filters.reduce((function(e,t){return fE(e,t)})))}function fE(e,t){var n;return gy(e instanceof zb||e instanceof Hb),gy(t instanceof zb||t instanceof Hb),n=e instanceof zb?t instanceof zb?function(e,t){return Hb.create([e,t],"and")}(e,t):hE(e,t):t instanceof zb?hE(t,e):function(e,t){if(gy(e.filters.length>0&&t.filters.length>0),Wb(e)&&Wb(t))return Xb(e,t.getFilters());var n=Kb(e)?e:t,r=Kb(e)?t:e,i=n.filters.map((function(e){return fE(e,r)}));return Hb.create(i,"or")}(e,t),dE(n)}function hE(e,t){if(Wb(t))return Xb(t,e.getFilters());var n=t.filters.map((function(t){return fE(e,t)}));return Hb.create(n,"or")}function dE(e){if(gy(e instanceof zb||e instanceof Hb),e instanceof zb)return e;var t=e.getFilters();if(1===t.length)return dE(t[0]);if(Qb(e))return e;var n=t.map((function(e){return dE(e)})),r=[];return n.forEach((function(t){t instanceof zb?r.push(t):t instanceof Hb&&(t.op===e.op?r.push.apply(r,Ee(t.filters)):r.push(t))})),1===r.length?r[0]:Hb.create(r,e.op)}var pE=function(){function e(){Te(this,e),this.sn=new vE}return Ce(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.sn.add(t),tk.resolve()}},{key:"getCollectionParents",value:function(e,t){return tk.resolve(this.sn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return tk.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return tk.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return tk.resolve(null)}},{key:"getIndexType",value:function(e,t){return tk.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return tk.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return tk.resolve(null)}},{key:"getMinOffset",value:function(e,t){return tk.resolve(Yy.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return tk.resolve(Yy.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return tk.resolve()}},{key:"updateIndexEntries",value:function(e,t){return tk.resolve()}}]),e}(),vE=function(){function e(){Te(this,e),this.index={}}return Ce(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Jk(jy.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Jk(jy.comparator)).toArray()}}]),e}(),mE=new Uint8Array(0),gE=function(){function e(t,n){Te(this,e),this.user=t,this.databaseId=n,this.rn=new vE,this.on=new Ow((function(e){return cw(e)}),(function(e,t){return lw(e,t)})),this.uid=t.uid||""}return Ce(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.rn.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.rn.add(t)}));var a={collectionId:r,parent:gk(i)};return yE(e).put(a)}return tk.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Dy(t),""],!1,!0);return yE(e).j(r).next((function(e){var r,i=Ie(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(bk(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=bE(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=wE(e);return a.next((function(e){o.put(qx(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=bE(e),r=wE(e),i=kE(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=kE(e),i=!0,a=new Map;return tk.forEach(this.un(t),(function(t){return n.cn(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Hw(),o=[];return tk.forEach(a,(function(i,a){var s;hy("IndexedDbIndexManager","Using index ".concat((s=i,"id=".concat(s.indexId,"|cg=").concat(s.collectionGroup,"|f=").concat(s.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(cw(t)));var u=function(e,t){var n=zy(t);if(void 0===n)return null;var r,i=Ie(hw(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Ie(Hy(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,s=Ie(hw(e,o.fieldPath));try{for(s.s();!(a=s.n()).done;){var u=a.value;switch(u.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),u.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),u.value),Array.from(r.values())}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Ie(Hy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?dw(e,o.fieldPath,e.startAt):pw(e,o.fieldPath,e.startAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Fb(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Ie(Hy(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,s=0===o.kind?pw(e,o.fieldPath,e.endAt):dw(e,o.fieldPath,e.endAt);r.push(s.value),i&&(i=s.inclusive)}}catch(u){a.e(u)}finally{a.f()}return new Fb(r,i)}(a,i),h=n.an(i,a,l),d=n.an(i,a,f),p=n.hn(i,a,c),v=n.ln(i.indexId,u,h,l.inclusive,d,f.inclusive,p);return tk.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=By.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return tk.resolve(null)}))}},{key:"un",value:function(e){var t=this.on.get(e);return t||(t=0===e.filters.length?[e]:oE(Hb.create(e.filters,"and")).map((function(t){return uw(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.on.set(e,t),t)}},{key:"ln",value:function(e,t,n,r,i,a,o){for(var s=this,u=(null!=t?t.length:1)*Math.max(n.length,i.length),c=u/(null!=t?t.length:1),l=[],f=function(u){var f=t?s.fn(t[u/c]):mE,h=s.dn(e,f,n[u%c],r),d=s._n(e,f,i[u%c],a),p=o.map((function(t){return s.dn(e,f,t,!0)}));l.push.apply(l,Ee(s.createRange(h,d,p)))},h=0;h<u;++h)f(h);return l}},{key:"dn",value:function(e,t,n,r){var i=new tE(e,By.empty(),t,n);return r?i:i.He()}},{key:"_n",value:function(e,t,n,r){var i=new tE(e,By.empty(),t,n);return r?i.He():i}},{key:"cn",value:function(e,t){var n=new iE(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Ie(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ze(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.un(t);return tk.forEach(i,(function(t){return n.cn(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Jk(Vy.comparator),r=!1,i=Ie(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=Ie(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||("array-contains"===s.op||"array-contains-any"===s.op?r=!0:n=n.add(s.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var u,c=Ie(e.orderBy);try{for(c.s();!(u=c.n()).done;){var l=u.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"wn",value:function(e,t){var n,r=new eE,i=Ie(Hy(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var s=r.We(a.kind);Qx.be._e(o,s)}}catch(u){i.e(u)}finally{i.f()}return r.Ge()}},{key:"fn",value:function(e){var t=new eE;return Qx.be._e(e,t.We(0)),t.Ge()}},{key:"mn",value:function(e,t){var n=new eE;return Qx.be._e(_b(this.databaseId,t),n.We(function(e){var t=Hy(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ge()}},{key:"hn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new eE);var i,a=0,o=Ie(Hy(e));try{for(o.s();!(i=o.n()).done;){var s,u=i.value,c=n[a++],l=Ie(r);try{for(l.s();!(s=l.n()).done;){var f=s.value;if(this.gn(t,u.fieldPath)&&Eb(c))r=this.yn(r,u,c);else{var h=f.We(u.kind);Qx.be._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.pn(r)}},{key:"an",value:function(e,t,n){return this.hn(e,t,n.position)}},{key:"pn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Ge();return t}},{key:"yn",value:function(e,t,n){var r,i=Ee(e),a=[],o=Ie(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var s,u=r.value,c=Ie(i);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=new eE;f.seed(l.Ge()),Qx.be._e(u,f.We(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"gn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof zb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=bE(e),i=wE(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return tk.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Ky(t.sequenceNumber,new Yy(Lx(t.readTime),new By(bk(t.documentKey)),t.largestBatchId)):Ky.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Wy(Vy.fromServerFormat(n),r)}));return new qy(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ry(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=bE(e),a=wE(e);return this.In(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return tk.forEach(t,(function(t){return a.put(qx(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return tk.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?tk.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),tk.forEach(a,(function(r){return n.Tn(e,t,r).next((function(t){var a=n.En(i,r);return t.isEqual(a)?tk.resolve():n.An(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return kE(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"vn",value:function(e,t,n,r){return kE(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}},{key:"Tn",value:function(e,t,n){var r=kE(e),i=new Jk(nE);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},(function(e,r){i=i.add(new tE(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"En",value:function(e,t){var n=new Jk(nE),r=this.wn(t,e);if(null==r)return n;var i=zy(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Eb(a)){var o,s=Ie(a.arrayValue.values||[]);try{for(s.s();!(o=s.n()).done;){var u=o.value;n=n.add(new tE(t.indexId,e.key,this.fn(u),r))}}catch(c){s.e(c)}finally{s.f()}}}else n=n.add(new tE(t.indexId,e.key,mE,r));return n}},{key:"An",value:function(e,t,n,r,i){var a=this;hy("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),s=eb(a),u=eb(o);s||u;){var c=!1,l=!1;if(s&&u){var f=n(s,u);f<0?l=!0:f>0&&(c=!0)}else null!=s?l=!0:c=!0;c?(r(u),u=eb(o)):l?(i(s),s=eb(a)):(s=eb(a),u=eb(o))}}(r,i,nE,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.vn(e,t,n,r))})),tk.waitFor(o)}},{key:"In",value:function(e){var t=1;return wE(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return nE(e,t)})).filter((function(e,t,n){return!t||0!==nE(e,n[t-1])}));var r=[];r.push(e);var i,a=Ie(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,s=nE(o,e),u=nE(o,t);if(0===s)r[0]=e.He();else if(s>0&&u<0)r.push(o),r.push(o.He());else if(u>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.Pn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,mE,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,mE,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"Pn",value:function(e,t){return nE(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(_E)}},{key:"getMinOffset",value:function(e,t){var n=this;return tk.mapArray(this.un(t),(function(t){return n.cn(e,t).next((function(e){return e||my()}))})).next(_E)}}]),e}();function yE(e){return Wk(e,"collectionParents")}function kE(e){return Wk(e,"indexEntries")}function bE(e){return Wk(e,"indexConfiguration")}function wE(e){return Wk(e,"indexState")}function _E(e){gy(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;$y(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Yy(t.readTime,t.documentKey,n)}var xE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EE=function(){function e(t,n,r){Te(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ce(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function IE(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),s=0,u=r.X({range:o},(function(e,t,n){return s++,n.delete()}));a.push(u.next((function(){gy(1===s)})));var c,l=[],f=Ie(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=xk(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return tk.waitFor(a).next((function(){return l}))}function TE(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw my();t=e.noDocument}return JSON.stringify(t).length}EE.DEFAULT_COLLECTION_PERCENTILE=10,EE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,EE.DEFAULT=new EE(41943040,EE.DEFAULT_COLLECTION_PERCENTILE,EE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),EE.DISABLED=new EE(-1,0,0);var SE=function(){function e(t,n,r,i){Te(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.bn={}}return Ce(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return PE(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=NE(e),o=PE(e);return o.add({}).next((function(s){gy("number"==typeof s);var u,c=new S_(s,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return mx(e.le,t)})),i=n.mutations.map((function(t){return mx(e.le,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Jk((function(e,t){return Ry(e.canonicalString(),t.canonicalString())})),d=Ie(r);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=xk(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Ek))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.bn[s]=c.keys()})),tk.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return PE(e).get(t).next((function(e){return e?(gy(e.userId===n.userId),Mx(n.serializer,e)):null}))}},{key:"Vn",value:function(e,t){var n=this;return this.bn[t]?tk.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.bn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return PE(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(gy(t.batchId>=r),a=Mx(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return PE(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return PE(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return Mx(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=_k(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return NE(e).X({range:i},(function(r,i,o){var s=c(r,3),u=s[0],l=s[1],f=s[2],h=bk(l);if(u===n.userId&&t.path.isEqual(h))return PE(e).get(f).next((function(e){if(!e)throw my();gy(e.userId===n.userId),a.push(Mx(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Jk(Ry),i=[];return t.forEach((function(t){var a=_k(n.userId,t.path),o=IDBKeyRange.lowerBound(a),s=NE(e).X({range:o},(function(e,i,a){var o=c(e,3),s=o[0],u=o[1],l=o[2],f=bk(u);s===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(s)})),tk.waitFor(i).next((function(){return n.Sn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=_k(this.userId,r),o=IDBKeyRange.lowerBound(a),s=new Jk(Ry);return NE(e).X({range:o},(function(e,t,a){var o=c(e,3),u=o[0],l=o[1],f=o[2],h=bk(l);u===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):a.done()})).next((function(){return n.Sn(e,s)}))}},{key:"Sn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(PE(e).get(t).next((function(e){if(null===e)throw my();gy(e.userId===n.userId),r.push(Mx(n.serializer,e))})))})),tk.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return IE(e.at,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Dn(t.batchId)})),tk.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Dn",value:function(e){delete this.bn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return tk.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return NE(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=bk(e[1]);i.push(a)}else r.done()})).next((function(){gy(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return CE(e,this.userId,t)}},{key:"Cn",value:function(e){var t=this;return AE(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"fe",value:function(t,n,r,i){return gy(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function CE(e,t,n){var r=_k(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return NE(e).X({range:a,Y:!0},(function(e,n,r){var a=c(e,3),s=a[0],u=a[1];a[2];s===t&&u===i&&(o=!0),r.done()})).next((function(){return o}))}function PE(e){return Wk(e,"mutations")}function NE(e){return Wk(e,"documentMutations")}function AE(e){return Wk(e,"mutationQueues")}var RE=function(){function e(t){Te(this,e),this.xn=t}return Ce(e,[{key:"next",value:function(){return this.xn+=2,this.xn}}],[{key:"Nn",value:function(){return new e(0)}},{key:"kn",value:function(){return new e(-1)}}]),e}(),OE=function(){function e(t,n){Te(this,e),this.referenceDelegate=t,this.serializer=n}return Ce(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Mn(e).next((function(n){var r=new RE(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Mn(e).next((function(e){return My.fromTimestamp(new Ly(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Mn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Mn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.$n(e,t).next((function(){return n.Mn(e).next((function(r){return r.targetCount+=1,n.Fn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.$n(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return DE(e).delete(t.targetId)})).next((function(){return n.Mn(e)})).next((function(t){return gy(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return DE(e).X((function(o,s){var u=Fx(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,a.push(r.removeTargetData(e,u)))})).next((function(){return tk.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return DE(e).X((function(e,n){var r=Fx(n);t(r)}))}},{key:"Mn",value:function(e){return LE(e).get("targetGlobalKey").next((function(e){return gy(null!==e),e}))}},{key:"On",value:function(e,t){return LE(e).put("targetGlobalKey",t)}},{key:"$n",value:function(e,t){return DE(e).put(jx(this.serializer,t))}},{key:"Fn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Mn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=cw(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return DE(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Fx(n);lw(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=ME(e);return t.forEach((function(t){var o=gk(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),tk.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=ME(e);return tk.forEach(t,(function(t){var a=gk(t.path);return tk.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ME(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ME(e),i=Hw();return r.X({range:n,Y:!0},(function(e,t,n){var r=bk(e[1]),a=new By(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=gk(t.path),r=IDBKeyRange.bound([n],[Dy(n)],!1,!0),i=0;return ME(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"he",value:function(e,t){return DE(e).get(t).next((function(e){return e?Fx(e):null}))}}]),e}();function DE(e){return Wk(e,"targets")}function LE(e){return Wk(e,"targetGlobal")}function ME(e){return Wk(e,"targetDocuments")}function FE(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],s=a[1],u=Ry(r,o);return 0===u?Ry(i,s):u}var jE=function(){function e(t){Te(this,e),this.Bn=t,this.buffer=new Jk(FE),this.Ln=0}return Ce(e,[{key:"qn",value:function(){return++this.Ln}},{key:"Un",value:function(e){var t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();FE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),UE=function(){function e(t,n,r){Te(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Kn=null}return Ce(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}},{key:"stop",value:function(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}},{key:"started",get:function(){return null!==this.Kn}},{key:"Gn",value:function(e){var t=this;hy("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Kn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!ok(e.t0)){e.next=12;break}hy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Zy(e.t0);case 14:return e.next=16,t.Gn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),VE=function(){function e(t,n){Te(this,e),this.Qn=t,this.params=n}return Ce(e,[{key:"calculateTargetCount",value:function(e,t){return this.Qn.jn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return tk.resolve(dk.ct);var r=new jE(t);return this.Qn.forEachTarget(e,(function(e){return r.Un(e.sequenceNumber)})).next((function(){return n.Qn.zn(e,(function(e){return r.Un(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Qn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Qn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(hy("LruGarbageCollector","Garbage collection skipped; disabled"),tk.resolve(xE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(hy("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),xE):n.Wn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Qn.getCacheSize(e)}},{key:"Wn",value:function(e,t){var n,r,i,a,o,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(hy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),fy()<=Kt.DEBUG&&hy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(s-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(u-s)+"ms\n"+"Total Duration: ".concat(u-l,"ms")),tk.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function BE(e,t){return new VE(e,t)}var qE=function(){function e(t,n){Te(this,e),this.db=t,this.garbageCollector=BE(this,n)}return Ce(e,[{key:"jn",value:function(e){var t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Hn",value:function(e){var t=0;return this.zn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"zn",value:function(e,t){return this.Jn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return zE(e,n)}},{key:"removeReference",value:function(e,t,n){return zE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return zE(e,t)}},{key:"Yn",value:function(e,t){return function(e,t){var n=!1;return AE(e).Z((function(r){return CE(e,r,t).next((function(e){return e&&(n=!0),tk.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Jn(e,(function(o,s){if(s<=t){var u=n.Yn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,My.min()),ME(e).delete([0,gk(o.path)])}))}));i.push(u)}})).next((function(){return tk.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return zE(e,t)}},{key:"Jn",value:function(e,t){var n,r=ME(e),i=dk.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],s=(a[1],r.path),u=r.sequenceNumber;0===o?(i!==dk.ct&&t(new By(bk(n)),i),i=u,n=s):i=dk.ct})).next((function(){i!==dk.ct&&t(new By(bk(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function zE(e,t){return ME(e).put(function(e,t){return{targetId:0,path:gk(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var HE=function(){function e(){Te(this,e),this.changes=new Ow((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ce(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Mb.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?tk.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),WE=function(){function e(t){Te(this,e),this.serializer=t}return Ce(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return YE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return YE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ox(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Xn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Mb.newInvalidDocument(t);return YE(e).X({index:"documentKeyIndex",range:IDBKeyRange.only($E(t))},(function(e,i){r=n.Zn(t,i)})).next((function(){return r}))}},{key:"ts",value:function(e,t){var n=this,r={size:0,document:Mb.newInvalidDocument(t)};return YE(e).X({index:"documentKeyIndex",range:IDBKeyRange.only($E(t))},(function(e,i){r={document:n.Zn(t,i),size:TE(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Lw();return this.es(e,t,(function(e,t){var i=n.Zn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ns",value:function(e,t){var n=this,r=Lw(),i=new Yk(By.comparator);return this.es(e,t,(function(e,t){var a=n.Zn(e,t);r=r.insert(e,a),i=i.insert(e,TE(t))})).next((function(){return{documents:r,ss:i}}))}},{key:"es",value:function(e,t,n){if(t.isEmpty())return tk.resolve();var r=new Jk(JE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound($E(r.first()),$E(r.last())),a=r.getIterator(),o=a.getNext();return YE(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=By.fromSegments([].concat(Ee(t.prefixPath),[t.collectionGroup,t.documentId]));o&&JE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G($E(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Ox(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],s=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return YE(e).j(IDBKeyRange.bound(o,s,!0)).next((function(e){var n,a=Lw(),o=Ie(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,u=i.Zn(By.fromSegments(s.prefixPath.concat(s.collectionGroup,s.documentId)),s);u.isFoundDocument()&&(Pw(t,u)||r.has(u.key))&&(a=a.insert(u.key,u))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Lw(),o=XE(t,n),s=XE(t,Yy.max());return YE(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(function(e,t,n){var o=i.Zn(By.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new GE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return QE(e).get("remoteDocumentGlobalKey").next((function(e){return gy(!!e),e}))}},{key:"Xn",value:function(e,t){return QE(e).put("remoteDocumentGlobalKey",t)}},{key:"Zn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=px(e.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=By.fromSegments(t.noDocument.path),i=Lx(t.noDocument.readTime);n=Mb.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return my();var a=By.fromSegments(t.unknownDocument.path),o=Lx(t.unknownDocument.version);n=Mb.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Ly(e[0],e[1]);return My.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(My.min()))return n}return Mb.newInvalidDocument(e)}}]),e}();function KE(e){return new WE(e)}var GE=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this)).rs=e,i.trackRemovals=r,i.os=new Ow((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ce(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Jk((function(e,t){return Ry(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var s=t.os.get(a);if(n.push(t.rs.removeEntry(e,a,s.readTime)),o.isValidDocument()){var u=Rx(t.rs.serializer,o);i=i.add(a.path.popLast());var c=TE(u);r+=c-s.size,n.push(t.rs.addEntry(e,a,u))}else if(r-=s.size,t.trackRemovals){var l=Rx(t.rs.serializer,o.convertToNoDocument(My.min()));n.push(t.rs.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.rs.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.rs.updateMetadata(e,r)),tk.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.rs.ts(e,t).next((function(e){return n.os.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.rs.ns(e,t).next((function(e){var t=e.documents;return e.ss.forEach((function(e,r){n.os.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(HE);function QE(e){return Wk(e,"remoteDocumentGlobal")}function YE(e){return Wk(e,"remoteDocumentsV14")}function $E(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function XE(e,t){var n=t.documentKey.path.toArray();return[e,Ox(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function JE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Ry(n[a],r[a]))return i;return(i=Ry(n.length,r.length))||((i=Ry(n[n.length-2],r[r.length-2]))||Ry(n[n.length-1],r[r.length-1]))}var ZE=Ce((function e(t,n){Te(this,e),this.overlayedDocument=t,this.mutatedFields=n})),eI=function(){function e(t,n,r,i){Te(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return Ce(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&v_(r.mutation,e,tb.empty(),Ly.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Hw()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hw(),i=Uw();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Fw();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Uw();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Hw())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Lw(),a=Bw(),o=Bw();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof k_)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),v_(o.mutation,t,o.mutation.getFieldMask(),Ly.now())):a.set(t.key,tb.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new ZE(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Bw(),i=new Yk((function(e,t){return e-t})),a=Hw();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=Ie(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||tb.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Hw()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Vw();c.forEach((function(e){if(!a.has(e)){var n=d_(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return tk.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return By.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ww(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):tk.resolve(Uw()),s=-1,u=a;return o.next((function(t){return tk.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?tk.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Hw())})).next((function(e){return{batchId:s,changes:jw(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new By(t)).next((function(e){var t=Fw();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Fw();return this.indexManager.getCollectionParents(e,i).next((function(o){return tk.forEach(o,(function(o){var s=function(e,t){return new vw(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Mb.newInvalidDocument(r)))}));var n=Fw();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&v_(a.mutation,i,tb.empty(),Ly.now()),Pw(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),tI=function(){function e(t){Te(this,e),this.serializer=t,this.us=new Map,this.cs=new Map}return Ce(e,[{key:"getBundleMetadata",value:function(e,t){return tk.resolve(this.us.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.us.set(t.id,{id:(n=t).id,version:n.version,createTime:ix(n.createTime)}),tk.resolve()}},{key:"getNamedQuery",value:function(e,t){return tk.resolve(this.cs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.cs.set(t.name,function(e){return{name:e.name,query:Ux(e.bundledQuery),readTime:ix(e.readTime)}}(t)),tk.resolve()}}]),e}(),nI=function(){function e(){Te(this,e),this.overlays=new Yk(By.comparator),this.hs=new Map}return Ce(e,[{key:"getOverlay",value:function(e,t){return tk.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Uw();return tk.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.de(e,t,i)})),tk.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hs.delete(n)),tk.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Uw(),i=t.length+1,a=new By(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return tk.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Yk((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=Uw(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=Uw(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return tk.resolve(u)}},{key:"de",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hs.get(r.largestBatchId).delete(n.key);this.hs.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new P_(t,n));var a=this.hs.get(t);void 0===a&&(a=Hw(),this.hs.set(t,a)),this.hs.set(t,a.add(n.key))}}]),e}(),rI=function(){function e(){Te(this,e),this.ls=new Jk(iI.fs),this.ds=new Jk(iI._s)}return Ce(e,[{key:"isEmpty",value:function(){return this.ls.isEmpty()}},{key:"addReference",value:function(e,t){var n=new iI(e,t);this.ls=this.ls.add(n),this.ds=this.ds.add(n)}},{key:"ws",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.gs(new iI(e,t))}},{key:"ys",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ps",value:function(e){var t=this,n=new By(new jy([])),r=new iI(n,e),i=new iI(n,e+1),a=[];return this.ds.forEachInRange([r,i],(function(e){t.gs(e),a.push(e.key)})),a}},{key:"Is",value:function(){var e=this;this.ls.forEach((function(t){return e.gs(t)}))}},{key:"gs",value:function(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}},{key:"Ts",value:function(e){var t=new By(new jy([])),n=new iI(t,e),r=new iI(t,e+1),i=Hw();return this.ds.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new iI(e,0),n=this.ls.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),iI=function(){function e(t,n){Te(this,e),this.key=t,this.Es=n}return Ce(e,null,[{key:"fs",value:function(e,t){return By.comparator(e.key,t.key)||Ry(e.Es,t.Es)}},{key:"_s",value:function(e,t){return Ry(e.Es,t.Es)||By.comparator(e.key,t.key)}}]),e}(),aI=function(){function e(t,n){Te(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.As=1,this.Rs=new Jk(iI.fs)}return Ce(e,[{key:"checkEmpty",value:function(e){return tk.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new S_(i,t,n,r);this.mutationQueue.push(a);var o,s=Ie(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Rs=this.Rs.add(new iI(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return tk.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return tk.resolve(this.vs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Ps(n),i=r<0?0:r;return tk.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return tk.resolve(0===this.mutationQueue.length?-1:this.As-1)}},{key:"getAllMutationBatches",value:function(e){return tk.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new iI(t,0),i=new iI(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.vs(e.Es);a.push(t)})),tk.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Jk(Ry);return t.forEach((function(e){var t=new iI(e,0),i=new iI(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.Es)}))})),tk.resolve(this.bs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;By.isDocumentKey(i)||(i=i.child(""));var a=new iI(new By(i),0),o=new Jk(Ry);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Es)),!0)}),a),tk.resolve(this.bs(o))}},{key:"bs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.vs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;gy(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return tk.forEach(t.mutations,(function(i){var a=new iI(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Dn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new iI(t,0),r=this.Rs.firstAfterOrEqual(n);return tk.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,tk.resolve()}},{key:"Vs",value:function(e,t){return this.Ps(e)}},{key:"Ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"vs",value:function(e){var t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),oI=function(){function e(t){Te(this,e),this.Ss=t,this.docs=new Yk(By.comparator),this.size=0}return Ce(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ss(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return tk.resolve(n?n.document.mutableCopy():Mb.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Lw();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Mb.newInvalidDocument(e))})),tk.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Lw(),a=t.path,o=new By(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||$y(Qy(l),n)<=0||(r.has(l.key)||Pw(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return tk.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){my()}},{key:"Ds",value:function(e,t){return tk.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new sI(this)}},{key:"getSize",value:function(e){return tk.resolve(this.size)}}]),e}(),sI=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this)).rs=e,r}return Ce(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.rs.addEntry(e,i)):t.rs.removeEntry(r)})),tk.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.rs.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.rs.getEntries(e,t)}}]),n}(HE),uI=function(){function e(t){Te(this,e),this.persistence=t,this.Cs=new Ow((function(e){return cw(e)}),lw),this.lastRemoteSnapshotVersion=My.min(),this.highestTargetId=0,this.xs=0,this.Ns=new rI,this.targetCount=0,this.ks=RE.Nn()}return Ce(e,[{key:"forEachTarget",value:function(e,t){return this.Cs.forEach((function(e,n){return t(n)})),tk.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return tk.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return tk.resolve(this.xs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.ks.next(),tk.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.xs&&(this.xs=t),tk.resolve()}},{key:"$n",value:function(e){this.Cs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ks=new RE(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.$n(t),this.targetCount+=1,tk.resolve()}},{key:"updateTargetData",value:function(e,t){return this.$n(t),tk.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,tk.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Cs.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Cs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),tk.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return tk.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Cs.get(t)||null;return tk.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ns.ws(t,n),tk.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ns.ys(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),tk.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ns.ps(t),tk.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ns.Ts(t);return tk.resolve(n)}},{key:"containsKey",value:function(e,t){return tk.resolve(this.Ns.containsKey(t))}}]),e}(),cI=function(){function e(t,n){var r=this;Te(this,e),this.Ms={},this.overlays={},this.Os=new dk(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new uI(this),this.indexManager=new pE,this.remoteDocumentCache=new oI((function(e){return r.referenceDelegate.Bs(e)})),this.serializer=new Ax(n),this.Ls=new tI(this.serializer)}return Ce(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.$s=!1,Promise.resolve()}},{key:"started",get:function(){return this.$s}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new nI,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ms[e.toKey()];return n||(n=new aI(t,this.referenceDelegate),this.Ms[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;hy("MemoryPersistence","Starting transaction:",e);var i=new lI(this.Os.next());return this.referenceDelegate.qs(),n(i).next((function(e){return r.referenceDelegate.Us(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ks",value:function(e,t){return tk.or(Object.values(this.Ms).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),lI=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ce(n)}(Jy),fI=function(){function e(t){Te(this,e),this.persistence=t,this.Gs=new rI,this.Qs=null}return Ce(e,[{key:"zs",get:function(){if(this.Qs)return this.Qs;throw my()}},{key:"addReference",value:function(e,t,n){return this.Gs.addReference(n,t),this.zs.delete(n.toString()),tk.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Gs.removeReference(n,t),this.zs.add(n.toString()),tk.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.zs.add(t.toString()),tk.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Gs.ps(t.targetId).forEach((function(e){return n.zs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.zs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"qs",value:function(){this.Qs=new Set}},{key:"Us",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tk.forEach(this.zs,(function(r){var i=By.fromPath(r);return t.Ws(e,i).next((function(e){e||n.removeEntry(i,My.min())}))})).next((function(){return t.Qs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ws(e,t).next((function(e){e?n.zs.delete(t.toString()):n.zs.add(t.toString())}))}},{key:"Bs",value:function(e){return 0}},{key:"Ws",value:function(e,t){var n=this;return tk.or([function(){return tk.resolve(n.Gs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ks(e,t)}])}}],[{key:"js",value:function(t){return new e(t)}}]),e}(),hI=function(){function e(t){Te(this,e),this.serializer=t}return Ce(e,[{key:"$",value:function(e,t,n,r){var i=this,a=new nk("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wk,{unique:!0}),e.createObjectStore("documentMutations")}(e),dI(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=tk.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),dI(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:My.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wk,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return tk.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Js(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ys(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Xs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.Zs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ti(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Mk});t.createIndex("collectionPathOverlayIndex",Fk,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",jk,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ik});t.createIndex("documentKeyIndex",Tk),t.createIndex("collectionGroupIndex",Sk)}(e)})).next((function(){return i.ei(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.ni(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Rk}).createIndex("sequenceNumberIndex",Ok,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Dk}).createIndex("documentKeyIndex",Lk,{unique:!1})}(e)}))),o}},{key:"Ys",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=TE(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Js",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return tk.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return tk.forEach(r,(function(r){gy(r.userId===n.userId);var i=Mx(t.serializer,r);return IE(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Xs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new jy(n),o=function(e){return[0,gk(e)]}(a);r.push(t.get(o).next((function(n){return n?tk.resolve():function(n){return t.put({targetId:0,path:gk(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return tk.waitFor(r)}))}))}},{key:"Zs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Ak});var n=t.store("collectionParents"),r=new vE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:gk(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new jy(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],bk(r));return i(a.popLast())}))}))}},{key:"ti",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Fx(r),a=jx(t.serializer,i);return n.put(a)}))}},{key:"ei",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new By(jy.fromString(i.document.name).popFirst(5)):i.noDocument?By.fromSegments(i.noDocument.path):i.unknownDocument?By.fromSegments(i.unknownDocument.path):my()).path.toArray(),s={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(s))})).next((function(){return tk.waitFor(r)}))}},{key:"ni",value:function(e,t){var n=this,r=t.store("mutations"),i=KE(this.serializer),a=new cI(fI.js,this.serializer.le);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Hw();Mx(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),tk.forEach(r,(function(e,r){var o=new uy(r),s=Kx.fe(n.serializer,o),u=a.getIndexManager(o),c=SE.fe(o,n.serializer,u,a.referenceDelegate);return new eI(i,c,s,u).recalculateAndSaveOverlaysForDocumentKeys(new Hk(t,dk.ct),e).next()}))}))}}]),e}();function dI(e){e.createObjectStore("targetDocuments",{keyPath:Pk}).createIndex("documentTargetsIndex",Nk,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Ck,{unique:!0}),e.createObjectStore("targetGlobal")}var pI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vI=function(){function e(t,n,r,i,a,o,s,u,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(Te(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.si=a,this.window=o,this.document=s,this.ii=c,this.ri=l,this.oi=f,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=function(e){return Promise.resolve()},!e.D())throw new by(ky.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qE(this,i),this.fi=n+"main",this.serializer=new Ax(u),this.di=new rk(this.fi,this.oi,new hI(this.serializer)),this.Fs=new OE(this.referenceDelegate,this.serializer),this.remoteDocumentCache=KE(this.serializer),this.Ls=new zx,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&dy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ce(e,[{key:"start",value:function(){var e=this;return this.wi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new by(ky.FAILED_PRECONDITION,pI);return e.mi(),e.gi(),e.yi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Fs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new dk(t,e.ii)})).then((function(){e.$s=!0})).catch((function(t){return e.di&&e.di.close(),Promise.reject(t)}))}},{key:"pi",value:function(e){var t=this;return this.li=function(){var n=f(d().mark((function n(r){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.di.B(function(){var t=f(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget(f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.wi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"wi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return gI(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ii(t).next((function(t){t||(e.isPrimary=!1,e.si.enqueueRetryable((function(){return e.li(!1)})))}))})).next((function(){return e.Ti(t)})).next((function(n){return e.isPrimary&&!n?e.Ei(t).next((function(){return!1})):!!n&&e.Ai(t).next((function(){return!0}))}))})).catch((function(t){if(ok(t))return hy("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return hy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.si.enqueueRetryable((function(){return e.li(t)})),e.isPrimary=t}))}},{key:"Ii",value:function(e){var t=this;return mI(e).get("owner").next((function(e){return tk.resolve(t.Ri(e))}))}},{key:"vi",value:function(e){return gI(e).delete(this.clientId)}},{key:"Pi",value:function(){var e=f(d().mark((function e(){var t,n,r,i,a=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.bi(this.hi,18e5)){e.next=6;break}return this.hi=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Wk(e,"clientMetadata");return t.j().next((function(e){var n=a.Vi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return tk.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=Ie(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Si(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yi",value:function(){var e=this;this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.wi().then((function(){return e.Pi()})).then((function(){return e.yi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ti",value:function(e){var t=this;return this.ri?tk.resolve(!0):mI(e).get("owner").next((function(n){if(null!==n&&t.bi(n.leaseTimestampMs,5e3)&&!t.Di(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new by(ky.FAILED_PRECONDITION,pI);return!1}}return!(!t.networkEnabled||!t.inForeground)||gI(e).j().next((function(e){return void 0===t.Vi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&hy("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=f(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$s=!1,this.Ci(),this.ai&&(this.ai.cancel(),this.ai=null),this.xi(),this.Ni(),e.next=7,this.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Hk(e,dk.ct);return t.Ei(n).next((function(){return t.vi(n)}))}));case 7:this.di.close(),this.ki();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vi",value:function(e,t){var n=this;return e.filter((function(e){return n.bi(e.updateTimeMs,t)&&!n.Di(e.clientId)}))}},{key:"Mi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return gI(t).j().next((function(t){return e.Vi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.$s}},{key:"getMutationQueue",value:function(e,t){return SE.fe(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Fs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new gE(e,this.serializer.le.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Kx.fe(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.Ls}},{key:"runTransaction",value:function(e,t,n){var r=this;hy("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",s=15===(i=this.oi)?zk:14===i?qk:13===i?Bk:12===i?Vk:11===i?Uk:void my();return this.di.runTransaction(e,o,s,(function(i){return a=new Hk(i,r.Os?r.Os.next():dk.ct),"readwrite-primary"===t?r.Ii(a).next((function(e){return!!e||r.Ti(a)})).next((function(t){if(!t)throw dy("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.si.enqueueRetryable((function(){return r.li(!1)})),new by(ky.FAILED_PRECONDITION,Xy);return n(a)})).next((function(e){return r.Ai(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return mI(e).get("owner").next((function(e){if(null!==e&&t.bi(e.leaseTimestampMs,5e3)&&!t.Di(e.ownerId)&&!t.Ri(e)&&!(t.ri||t.allowTabSynchronization&&e.allowTabSynchronization))throw new by(ky.FAILED_PRECONDITION,pI)}))}},{key:"Ai",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mI(e).put("owner",t)}},{key:"Ei",value:function(e){var t=this,n=mI(e);return n.get("owner").next((function(e){return t.Ri(e)?(hy("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):tk.resolve()}))}},{key:"bi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(dy("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"mi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=function(){e.si.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.wi()}))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}},{key:"xi",value:function(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}},{key:"gi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=function(){t.Ci();var e=/(?:Version|Mobile)\/1[456]/;!ot()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.si.enterRestrictedMode(!0),t.si.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ui))}},{key:"Ni",value:function(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}},{key:"Di",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return hy("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return dy("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ci",value:function(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){dy("Failed to set zombie client id.",e)}}},{key:"ki",value:function(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch(e){}}},{key:"Si",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return rk.D()}}]),e}();function mI(e){return Wk(e,"owner")}function gI(e){return Wk(e,"clientMetadata")}function yI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var kI=function(){function e(t,n,r,i){Te(this,e),this.targetId=t,this.fromCache=n,this.$i=r,this.Fi=i}return Ce(e,null,[{key:"Bi",value:function(t,n){var r,i=Hw(),a=Hw(),o=Ie(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),bI=function(){function e(){Te(this,e),this.Li=!1}return Ce(e,[{key:"initialize",value:function(e,t){this.qi=e,this.indexManager=t,this.Li=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ui(e,t).next((function(a){return a||i.Ki(e,t,r,n)})).next((function(n){return n||i.Gi(e,t)}))}},{key:"Ui",value:function(e,t){var n=this;if(yw(t))return tk.resolve(null);var r=xw(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Iw(t,null,"F"),r=xw(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Hw.apply(void 0,Ee(i));return n.qi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Qi(t,i);return n.ji(t,o,a,r.readTime)?n.Ui(e,Iw(t,null,"F")):n.zi(e,o,t,r)}))}))})))}))}},{key:"Ki",value:function(e,t,n,r){var i=this;return yw(t)||r.isEqual(My.min())?this.Gi(e,t):this.qi.getDocuments(e,n).next((function(a){var o=i.Qi(t,a);return i.ji(t,o,n,r)?i.Gi(e,t):(fy()<=Kt.DEBUG&&hy("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cw(t)),i.zi(e,o,t,Gy(r,-1)))}))}},{key:"Qi",value:function(e,t){var n=new Jk(Aw(e));return t.forEach((function(t,r){Pw(e,r)&&(n=n.add(r))})),n}},{key:"ji",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Gi",value:function(e,t){return fy()<=Kt.DEBUG&&hy("QueryEngine","Using full collection scan to execute query:",Cw(t)),this.qi.getDocumentsMatchingQuery(e,t,Yy.min())}},{key:"zi",value:function(e,t,n,r){return this.qi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),wI=function(){function e(t,n,r,i){Te(this,e),this.persistence=t,this.Wi=n,this.serializer=i,this.Hi=new Yk(Ry),this.Ji=new Ow((function(e){return cw(e)}),lw),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(r)}return Ce(e,[{key:"Zi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eI(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Hi)}))}}]),e}();function _I(e,t,n,r){return new wI(e,t,n,r)}function xI(e,t){return EI.apply(this,arguments)}function EI(){return EI=f(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yy(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Zi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Hw(),u=Ie(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Ie(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=Ie(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=Ie(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{tr:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function II(e,t){var n=yy(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=tk.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);gy(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Hw(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function TI(e){var t=yy(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Fs.getLastRemoteSnapshotVersion(e)}))}function SI(e,t){var n=yy(e),r=t.snapshotVersion,i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Fs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Fs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(rb.EMPTY_BYTE_STRING,My.min()).withLastLimboFreeSnapshotVersion(My.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Fs.updateTargetData(e,c))}}));var s=Lw(),u=Hw();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(CI(e,a,t.documentUpdates).next((function(e){s=e.er,u=e.nr}))),!r.isEqual(My.min())){var c=n.Fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return tk.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Hi=i,e}))}function CI(e,t,n){var r=Hw(),i=Hw();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Lw();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(My.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):hy("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{er:r,nr:i}}))}function PI(e,t){var n=yy(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function NI(e,t){var n=yy(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Fs.getTargetData(e,t).next((function(i){return i?(r=i,tk.resolve(r)):n.Fs.allocateTargetId(e).next((function(i){return r=new Nx(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Hi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(e.targetId,e),n.Ji.set(t,e.targetId)),e}))}function AI(e,t,n){return RI.apply(this,arguments)}function RI(){return RI=f(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yy(t),a=i.Hi.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ok(e.t1)){e.next=12;break}throw e.t1;case 12:hy("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Hi=i.Hi.remove(n),i.Ji.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),RI.apply(this,arguments)}function OI(e,t,n){var r=yy(e),i=My.min(),a=Hw();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=yy(e),i=r.Ji.get(n);return void 0!==i?tk.resolve(r.Hi.get(i)):r.Fs.getTargetData(t,n)}(r,e,xw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Wi.getDocumentsMatchingQuery(e,t,n?i:My.min(),n?a:Hw())})).next((function(e){return MI(r,Nw(t),e),{documents:e,sr:a}}))}))}function DI(e,t){var n=yy(e),r=yy(n.Fs),i=n.Hi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.he(e,t).next((function(e){return e?e.target:null}))}))}function LI(e,t){var n=yy(e),r=n.Yi.get(t)||My.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Xi.getAllFromCollectionGroup(e,t,Gy(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return MI(n,t,e),e}))}function MI(e,t,n){var r=e.Yi.get(t)||My.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Yi.set(t,r)}function FI(e,t,n,r){return jI.apply(this,arguments)}function jI(){return jI=f(d().mark((function e(t,n,r,i){var a,o,s,u,c,l,f,h,p,v;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=yy(t),o=Hw(),s=Lw(),u=Ie(r);try{for(u.s();!(c=u.n()).done;)l=c.value,f=n.ir(l.metadata.name),l.document&&(o=o.add(f)),(h=n.rr(l)).setReadTime(n.ur(l.metadata.readTime)),s=s.insert(f,h)}catch(d){u.e(d)}finally{u.f()}return p=a.Xi.newChangeBuffer({trackRemovals:!0}),e.next=7,NI(a,function(e){return xw(gw(jy.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return CI(e,p,s).next((function(t){return p.apply(e),t})).next((function(t){return a.Fs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Fs.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.er,t.nr)})).next((function(){return t.er}))}))})));case 9:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function UI(e,t){return VI.apply(this,arguments)}function VI(){return VI=f(d().mark((function e(t,n){var r,i,a,o=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Hw(),e.next=3,NI(t,xw(Ux(n.bundledQuery)));case 3:return i=e.sent,a=yy(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ix(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ls.saveNamedQuery(e,n);var o=i.withResumeToken(rb.EMPTY_BYTE_STRING,t);return a.Hi=a.Hi.insert(o.targetId,o),a.Fs.updateTargetData(e,o).next((function(){return a.Fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ls.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),VI.apply(this,arguments)}function BI(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function qI(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function zI(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var HI=function(){function e(t,n,r,i){Te(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ce(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new by(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(dy("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),WI=function(){function e(t,n,r){Te(this,e),this.targetId=t,this.state=n,this.error=r}return Ce(e,[{key:"ar",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"cr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new by(i.error.code,i.error.message))),a?new e(t,i.state,r):(dy("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),KI=function(){function e(t,n){Te(this,e),this.clientId=t,this.activeTargetIds=n}return Ce(e,null,[{key:"cr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Kw(),o=0;i&&o<r.activeTargetIds.length;++o)i=mk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(dy("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),GI=function(){function e(t,n){Te(this,e),this.clientId=t,this.onlineState=n}return Ce(e,null,[{key:"cr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(dy("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),QI=function(){function e(){Te(this,e),this.activeTargetIds=Kw()}return Ce(e,[{key:"hr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ar",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),YI=function(){function e(t,n,r,i,a){Te(this,e),this.window=t,this.si=n,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Yk(Ry),this.started=!1,this.gr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=BI(this.persistenceKey,this.dr),this.pr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.mr=this.mr.insert(this.dr,new QI),this.Ir=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Tr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Er=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ar=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return Ce(e,[{key:"start",value:function(){var e=f(d().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f,h=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Mi();case 2:t=e.sent,n=Ie(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.dr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(BI(this.persistenceKey,i)))&&(o=KI.cr(i,a))&&(this.mr=this.mr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.vr(),(s=this.storage.getItem(this.Ar))&&(u=this.Pr(s))&&this.br(u),c=Ie(this.gr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.wr(f)}catch(d){c.e(d)}finally{c.f()}this.gr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.pr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Vr(this.mr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.mr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Sr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Sr(e,t,n),this.Dr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(zI(this.persistenceKey,e));if(n){var r=WI.cr(e,n);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Cr.lr(e),this.vr()}},{key:"isLocalQueryTarget",value:function(e){return this.Cr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(zI(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Nr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Dr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.kr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Mr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return hy("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){hy("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){hy("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"wr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(hy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.yr)return void dy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable(f(d().mark((function e(){var r,i,a,o,s,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Ir.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.$r(r,null));case 6:if(!(i=t.Fr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.$r(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Tr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Br(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Lr(a));case 16:e.next=41;break;case 18:if(!t.Er.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.qr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Ur(o));case 23:e.next=41;break;case 25:if(n.key!==t.Ar){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.Pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.br(s));case 30:e.next=41;break;case 32:if(n.key!==t.pr){e.next=37;break}u=function(e){var t=dk.ct;if(null!=e)try{var n=JSON.parse(e);gy("number"==typeof n),t=n}catch(e){dy("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),u!==dk.ct&&t.sequenceNumberHandler(u),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Kr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Gr(e)})));case 41:e.next=44;break;case 43:t.gr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Cr",get:function(){return this.mr.get(this.dr)}},{key:"vr",value:function(){this.setItem(this.yr,this.Cr.ar())}},{key:"Sr",value:function(e,t,n){var r=new HI(this.currentUser,e,t,n),i=qI(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ar())}},{key:"Dr",value:function(e){var t=qI(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"kr",value:function(e){var t={clientId:this.dr,onlineState:e};this.storage.setItem(this.Ar,JSON.stringify(t))}},{key:"Nr",value:function(e,t,n){var r=zI(this.persistenceKey,e),i=new WI(e,t,n);this.setItem(r,i.ar())}},{key:"Mr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Ir.exec(e);return t?t[1]:null}},{key:"Fr",value:function(e,t){var n=this.Or(e);return KI.cr(n,t)}},{key:"Br",value:function(e,t){var n=this.Tr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return HI.cr(new uy(i),r,t)}},{key:"qr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]);return WI.cr(r,t)}},{key:"Pr",value:function(e){return GI.cr(e)}},{key:"Kr",value:function(e){return JSON.parse(e)}},{key:"Lr",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Qr(t.batchId,t.state,t.error));case 2:hy("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ur",value:function(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}},{key:"$r",value:function(e,t){var n=this,r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),a=this.Vr(r),o=[],s=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||s.push(e)})),this.syncEngine.zr(o,s).then((function(){n.mr=r}))}},{key:"br",value:function(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Vr",value:function(e){var t=Kw();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),$I=function(){function e(){Te(this,e),this.Wr=new QI,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ce(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Hr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Wr.lr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Hr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Wr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Wr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Wr=new QI,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),XI=function(){function e(){Te(this,e)}return Ce(e,[{key:"Jr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),JI=function(){function e(){var t=this;Te(this,e),this.Yr=function(){return t.Xr()},this.Zr=function(){return t.eo()},this.no=[],this.so()}return Ce(e,[{key:"Jr",value:function(e){this.no.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}},{key:"so",value:function(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}},{key:"Xr",value:function(){hy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Ie(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"eo",value:function(){hy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Ie(this.no);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),ZI=null;function eT(){return null===ZI?ZI=268435456+Math.round(2147483648*Math.random()):ZI++,"0x"+ZI.toString(16)}var tT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},nT=function(){function e(t){Te(this,e),this.io=t.io,this.ro=t.ro}return Ce(e,[{key:"oo",value:function(e){this.uo=e}},{key:"co",value:function(e){this.ao=e}},{key:"onMessage",value:function(e){this.ho=e}},{key:"close",value:function(){this.ro()}},{key:"send",value:function(e){this.io(e)}},{key:"lo",value:function(){this.uo()}},{key:"fo",value:function(e){this.ao(e)}},{key:"_o",value:function(e){this.ho(e)}}]),e}(),rT="WebChannelConnection",iT=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ce(n,[{key:"Eo",value:function(e,t,n,r){var i=eT();return new Promise((function(a,o){var s=new iy;s.setWithCredentials(!0),s.listenOnce(Zg.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Jg.NO_ERROR:var t=s.getResponseJson();hy(rT,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Jg.TIMEOUT:hy(rT,"RPC '".concat(e,"' ").concat(i," timed out")),o(new by(ky.DEADLINE_EXCEEDED,"Request time out"));break;case Jg.HTTP_ERROR:var n=s.getStatus();if(hy(rT,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ky).indexOf(t)>=0?t:ky.UNKNOWN}(u.status);o(new by(c,u.message))}else o(new by(ky.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new by(ky.UNAVAILABLE,"Connection failed."));break;default:my()}}finally{hy(rT,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);hy(rT,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=eT(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$g(),o=Xg(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new ny({})),this.To(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");hy(rT,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var c=a.createWebChannel(u,s),l=!1,f=!1,h=new nT({io:function(t){f?hy(rT,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(hy(rT,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),hy(rT,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ro:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,ry.EventType.OPEN,(function(){f||hy(rT,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,ry.EventType.CLOSE,(function(){f||(f=!0,hy(rT,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.fo())})),d(c,ry.EventType.ERROR,(function(t){f||(f=!0,py(rT,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.fo(new by(ky.UNAVAILABLE,"The operation could not be completed")))})),d(c,ry.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];gy(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){hy(rT,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=x_[e];if(void 0!==t)return R_(t)}(s),l=o.message;void 0===u&&(u=ky.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),f=!0,h.fo(new by(u,l)),c.close()}else hy(rT,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h._o(i)}})),d(o,ey.STAT_EVENT,(function(t){t.stat===ty.PROXY?hy(rT,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ty.NOPROXY&&hy(rT,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.lo()}),0),h}}]),n}(function(){function e(t){Te(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.wo=n+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ce(e,[{key:"yo",get:function(){return!1}},{key:"po",value:function(e,t,n,r,i){var a=eT(),o=this.Io(e,t);hy("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.To(s,r,i),this.Eo(e,o,s,n).then((function(t){return hy("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw py("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"Ao",value:function(e,t,n,r,i,a){return this.po(e,t,n,r,i)}},{key:"To",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+cy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Io",value:function(e,t){var n=tT[e];return"".concat(this.wo,"/v1/").concat(t,":").concat(n)}}]),e}());function aT(){return"undefined"!=typeof window?window:null}function oT(){return"undefined"!=typeof document?document:null}function sT(e){return new Z_(e,!0)}var uT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Te(this,e),this.si=t,this.timerId=n,this.vo=r,this.Po=i,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}return Ce(e,[{key:"reset",value:function(){this.Vo=0}},{key:"Co",value:function(){this.Vo=this.bo}},{key:"xo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,n-r);i>0&&hy("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Vo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.So=this.si.enqueueAfterDelay(this.timerId,i,(function(){return t.Do=Date.now(),e()})),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}},{key:"ko",value:function(){null!==this.So&&(this.So.skipDelay(),this.So=null)}},{key:"cancel",value:function(){null!==this.So&&(this.So.cancel(),this.So=null)}},{key:"No",value:function(){return(Math.random()-.5)*this.Vo}}]),e}(),cT=function(){function e(t,n,r,i,a,o,s,u){Te(this,e),this.si=t,this.Mo=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new uT(t,n)}return Ce(e,[{key:"qo",value:function(){return 1===this.state||5===this.state||this.Uo()}},{key:"Uo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Ko()}},{key:"stop",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.qo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Go",value:function(){this.state=0,this.Lo.reset()}},{key:"Qo",value:function(){var e=this;this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,(function(){return e.jo()})))}},{key:"zo",value:function(e){this.Wo(),this.stream.send(e)}},{key:"jo",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Uo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Wo",value:function(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"close",value:function(){var e=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,4!==t?this.Lo.reset():n&&n.code===ky.RESOURCE_EXHAUSTED?(dy(n.toString()),dy("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):n&&n.code===ky.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Jo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.co(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Jo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Yo(this.$o),n=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.$o===n&&e.Xo(i,a)}),(function(n){t((function(){var t=new by(ky.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Zo(t)}))}))}},{key:"Xo",value:function(e,t){var n=this,r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo((function(){r((function(){return n.state=2,n.Bo=n.si.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Uo()&&(n.state=3),Promise.resolve()})),n.listener.oo()}))})),this.stream.co((function(e){r((function(){return n.Zo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Ko",value:function(){var e=this;this.state=5,this.Lo.xo(f(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Zo",value:function(e){return hy("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Yo",value:function(e){var t=this;return function(n){t.si.enqueueAndForget((function(){return t.$o===e?n():(hy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),lT=function(e){Ae(n,e);var t=Me(n);function n(e,r,i,a,o,s){var u;return Te(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return Ce(n,[{key:"tu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.Lo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:my()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(gy(void 0===t||"string"==typeof t),rb.fromBase64String(t||"")):(gy(void 0===t||t instanceof Uint8Array),rb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?ky.UNKNOWN:R_(e.code);return new by(t,e.message||"")}(o);n=new W_(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=ux(e,u.document.name),l=ix(u.document.updateTime),f=u.document.createTime?ix(u.document.createTime):My.min(),h=new Db({mapValue:{fields:u.document.fields}}),d=Mb.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new z_(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=ux(e,m.document),y=m.readTime?ix(m.readTime):My.min(),k=Mb.newNoDocument(g,y),b=m.removedTargetIds||[];n=new z_([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=ux(e,w.document),x=w.removedTargetIds||[];n=new z_([],x,_,null)}else{if(!("filter"in t))return my();t.filter;var E=t.filter;E.targetId;var I=E.count,T=void 0===I?0:I,S=E.unchangedNames,C=new N_(T,S),P=E.targetId;n=new H_(P,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return My.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?My.min():t.readTime?ix(t.readTime):My.min()}(e);return this.listener.eu(t,n)}},{key:"nu",value:function(e){var t={};t.database=fx(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=fw(r)?{documents:yx(e,r)}:{query:kx(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=nx(e,t.resumeToken);var i=ex(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(My.min())>0){n.readTime=tx(e,t.snapshotVersion.toTimestamp());var a=ex(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return my()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.zo(t)}},{key:"su",value:function(e){var t={};t.database=fx(this.serializer),t.removeTarget=e,this.zo(t)}}]),n}(cT),fT=function(e){Ae(n,e);var t=Me(n);function n(e,r,i,a,o,s){var u;return Te(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.iu=!1,u}return Ce(n,[{key:"ru",get:function(){return this.iu}},{key:"start",value:function(){this.iu=!1,this.lastStreamToken=void 0,Ha(Re(n.prototype),"start",this).call(this)}},{key:"Jo",value:function(){this.iu&&this.ou([])}},{key:"tu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(gy(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();var t=function(e,t){return e&&e.length>0?(gy(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ix(e.updateTime):ix(t);return n.isEqual(My.min())&&(n=ix(t)),new c_(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ix(e.commitTime);return this.listener.uu(n,t)}return gy(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}},{key:"au",value:function(){var e={};e.database=fx(this.serializer),this.zo(e)}},{key:"ou",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return mx(t.serializer,e)}))};this.zo(n)}}]),n}(cT),hT=function(e){Ae(n,e);var t=Me(n);function n(e,r,i,a){var o;return Te(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.hu=!1,o}return Ce(n,[{key:"lu",value:function(){if(this.hu)throw new by(ky.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"po",value:function(e,t,n){var r=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.connection.po(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ky.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new by(ky.UNKNOWN,e.toString())}))}},{key:"Ao",value:function(e,t,n,r){var i=this;return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),s=o[0],u=o[1];return i.connection.Ao(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ky.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new by(ky.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.hu=!0}}]),n}(function(){return Ce((function e(){Te(this,e)}))}());var dT=function(){function e(t,n){Te(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}return Ce(e,[{key:"mu",value:function(){var e=this;0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.yu("Backend didn't respond within 10 seconds."),e.gu("Offline"),Promise.resolve()})))}},{key:"pu",value:function(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.gu("Offline")))}},{key:"set",value:function(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}},{key:"gu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"yu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.wu?(dy(t),this.wu=!1):hy("OnlineStateTracker",t)}},{key:"Iu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),pT=Ce((function e(t,n,r,i,a){var o=this;Te(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr((function(e){r.enqueueAndForget(f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=IT(o),!e.t0){e.next=5;break}return hy("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yy(t)).Au.add(4),e.next=4,gT(n);case 4:return n.Pu.set("Unknown"),n.Au.delete(4),e.next=8,vT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Pu=new dT(r,i)}));function vT(e){return mT.apply(this,arguments)}function mT(){return(mT=f(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!IT(t)){e.next=18;break}n=Ie(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function gT(e){return yT.apply(this,arguments)}function yT(){return(yT=f(d().mark((function e(t){var n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ie(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function kT(e,t){var n=yy(e);n.Eu.has(t.targetId)||(n.Eu.set(t.targetId,t),ET(n)?xT(n):eS(n).Uo()&&wT(n,t))}function bT(e,t){var n=yy(e),r=eS(n);n.Eu.delete(t),r.Uo()&&_T(n,t),0===n.Eu.size&&(r.Uo()?r.Qo():IT(n)&&n.Pu.set("Unknown"))}function wT(e,t){if(e.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(My.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}eS(e).nu(t)}function _T(e,t){e.bu.Lt(t),eS(e).su(t)}function xT(e){e.bu=new G_({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},he:function(t){return e.Eu.get(t)||null},oe:function(){return e.datastore.serializer.databaseId}}),eS(e).start(),e.Pu.mu()}function ET(e){return IT(e)&&!eS(e).qo()&&e.Eu.size>0}function IT(e){return 0===yy(e).Au.size}function TT(e){e.bu=void 0}function ST(e){return CT.apply(this,arguments)}function CT(){return(CT=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Eu.forEach((function(e,n){wT(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PT(e,t){return NT.apply(this,arguments)}function NT(){return(NT=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:TT(t),ET(t)?(t.Pu.pu(n),xT(t)):t.Pu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AT(e,t,n){return RT.apply(this,arguments)}function RT(){return RT=f(d().mark((function e(t,n,r){var i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Pu.set("Online"),!(n instanceof W_&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=f(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Ie(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Eu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Eu.delete(o),t.bu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),hy("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,OT(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof z_?t.bu.Wt(n):n instanceof H_?t.bu.ee(n):t.bu.Yt(n),r.isEqual(My.min())){e.next=29;break}return e.prev=14,e.next=17,TI(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.bu.ue(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Eu.get(r);i&&e.Eu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Eu.get(t);if(r){e.Eu.set(t,r.withResumeToken(rb.EMPTY_BYTE_STRING,r.snapshotVersion)),_T(e,t);var i=new Nx(r.target,t,n,r.sequenceNumber);wT(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),hy("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,OT(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),RT.apply(this,arguments)}function OT(e,t,n){return DT.apply(this,arguments)}function DT(){return(DT=f(d().mark((function e(t,n,r){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ok(n)){e.next=2;break}throw n;case 2:return t.Au.add(1),e.next=5,gT(t);case 5:t.Pu.set("Offline"),r||(r=function(){return TI(t.localStore)}),t.asyncQueue.enqueueRetryable(f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hy("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Au.delete(1),e.next=6,vT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function LT(e,t){return t().catch((function(n){return OT(e,n,t)}))}function MT(e){return FT.apply(this,arguments)}function FT(){return(FT=f(d().mark((function e(t){var n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yy(t),r=tS(n),i=n.Tu.length>0?n.Tu[n.Tu.length-1].batchId:-1;case 2:if(!jT(n)){e.next=19;break}return e.prev=3,e.next=6,PI(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Tu.length&&r.Qo(),e.abrupt("break",19);case 10:i=a.batchId,UT(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,OT(n,e.t0);case 17:e.next=2;break;case 19:VT(n)&&BT(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function jT(e){return IT(e)&&e.Tu.length<10}function UT(e,t){e.Tu.push(t);var n=tS(e);n.Uo()&&n.ru&&n.ou(t.mutations)}function VT(e){return IT(e)&&!tS(e).qo()&&e.Tu.length>0}function BT(e){tS(e).start()}function qT(e){return zT.apply(this,arguments)}function zT(){return(zT=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tS(t).au();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HT(e){return WT.apply(this,arguments)}function WT(){return(WT=f(d().mark((function e(t){var n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=tS(t),r=Ie(t.Tu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.ou(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function KT(e,t,n){return GT.apply(this,arguments)}function GT(){return GT=f(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Tu.shift(),a=C_.from(i,n,r),e.next=3,LT(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,MT(t);case 5:case"end":return e.stop()}}),e)}))),GT.apply(this,arguments)}function QT(e,t){return YT.apply(this,arguments)}function YT(){return YT=f(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&tS(t).ru,!e.t0){e.next=4;break}return e.next=4,function(){var e=f(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A_(i=n.code)||i===ky.ABORTED){e.next=7;break}return r=t.Tu.shift(),tS(t).Go(),e.next=5,LT(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,MT(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:VT(t)&&BT(t);case 5:case"end":return e.stop()}}),e)}))),YT.apply(this,arguments)}function $T(e,t){return XT.apply(this,arguments)}function XT(){return(XT=f(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=yy(t)).asyncQueue.verifyOperationInProgress(),hy("RemoteStore","RemoteStore received new credentials"),i=IT(r),r.Au.add(3),e.next=6,gT(r);case 6:return i&&r.Pu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Au.delete(3),e.next=12,vT(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function JT(e,t){return ZT.apply(this,arguments)}function ZT(){return(ZT=f(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yy(t),!n){e.next=7;break}return r.Au.delete(2),e.next=5,vT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Au.add(2),e.next=12,gT(r);case 12:r.Pu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eS(e){return e.Vu||(e.Vu=function(e,t,n){var r=yy(e);return r.lu(),new lT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:ST.bind(null,e),co:PT.bind(null,e),eu:AT.bind(null,e)}),e.Ru.push(function(){var t=f(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Vu.Go(),ET(e)?xT(e):e.Pu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Vu.stop();case 6:TT(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Vu}function tS(e){return e.Su||(e.Su=function(e,t,n){var r=yy(e);return r.lu(),new fT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:qT.bind(null,e),co:QT.bind(null,e),cu:HT.bind(null,e),uu:KT.bind(null,e)}),e.Ru.push(function(){var t=f(d().mark((function t(n){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Su.Go(),t.next=4,MT(e);case 4:t.next=9;break;case 6:return t.next=8,e.Su.stop();case 8:e.Tu.length>0&&(hy("RemoteStore","Stopping write stream with ".concat(e.Tu.length," pending writes")),e.Tu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}var nS=function(){function e(t,n,r,i,a){Te(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new wy,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ce(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new by(ky.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function rS(e,t){if(dy("AsyncQueue","".concat(t,": ").concat(e)),ok(e))return new by(ky.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var iS=function(){function e(t){Te(this,e),this.comparator=t?function(e,n){return t(e,n)||By.comparator(e.key,n.key)}:function(e,t){return By.comparator(e.key,t.key)},this.keyedMap=Fw(),this.sortedSet=new Yk(this.comparator)}return Ce(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),aS=function(){function e(){Te(this,e),this.Du=new Yk(By.comparator)}return Ce(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Du.get(t);n?0!==e.type&&3===n.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==n.type?this.Du=this.Du.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Du=this.Du.remove(t):1===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):my():this.Du=this.Du.insert(t,e)}},{key:"Cu",value:function(){var e=[];return this.Du.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),oS=function(){function e(t,n,r,i,a,o,s,u,c){Te(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return Ce(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,iS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),sS=Ce((function e(){Te(this,e),this.xu=void 0,this.listeners=[]})),uS=Ce((function e(){Te(this,e),this.queries=new Ow((function(e){return Sw(e)}),Tw),this.onlineState="Unknown",this.Nu=new Set}));function cS(e,t){return lS.apply(this,arguments)}function lS(){return lS=f(d().mark((function e(t,n){var r,i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yy(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new sS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.xu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=rS(e.t0,"Initialization of query '".concat(Cw(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ku(r.onlineState),o.xu&&n.Mu(o.xu)&&vS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),lS.apply(this,arguments)}function fS(e,t){return hS.apply(this,arguments)}function hS(){return hS=f(d().mark((function e(t,n){var r,i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yy(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),hS.apply(this,arguments)}function dS(e,t){var n,r=yy(e),i=!1,a=Ie(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Ie(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Mu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.xu=o}}}catch(f){a.e(f)}finally{a.f()}i&&vS(r)}function pS(e,t,n){var r=yy(e),i=r.queries.get(t);if(i){var a,o=Ie(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function vS(e){e.Nu.forEach((function(e){e.next()}))}var mS=function(){function e(t,n,r){Te(this,e),this.query=t,this.Ou=n,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}return Ce(e,[{key:"Mu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Ie(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new oS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),a=!0):this.Lu(e,this.onlineState)&&(this.qu(e),a=!0),this.Fu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"ku",value:function(e){this.onlineState=e;var t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}},{key:"Lu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Uu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Bu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"qu",value:function(e){e=oS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}]),e}(),gS=function(){function e(t,n){Te(this,e),this.Ku=t,this.byteLength=n}return Ce(e,[{key:"Gu",value:function(){return"metadata"in this.Ku}}]),e}(),yS=function(){function e(t){Te(this,e),this.serializer=t}return Ce(e,[{key:"ir",value:function(e){return ux(this.serializer,e)}},{key:"rr",value:function(e){return e.metadata.exists?px(this.serializer,e.document,!1):Mb.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}},{key:"ur",value:function(e){return ix(e)}}]),e}(),kS=function(){function e(t,n,r){Te(this,e),this.Qu=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bS(t)}return Ce(e,[{key:"ju",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;var n=jy.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"zu",value:function(e){var t,n=new Map,r=new yS(this.serializer),i=Ie(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,s=r.ir(a.metadata.name),u=Ie(a.metadata.queries);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=(n.get(c)||Hw()).add(s);n.set(c,l)}}catch(f){u.e(f)}finally{u.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=f(d().mark((function e(){var t,n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,FI(this.localStore,new yS(this.serializer),this.documents,this.Qu.id);case 2:t=e.sent,n=this.zu(this.documents),r=Ie(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,UI(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Wu:this.collectionGroups,Hu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function bS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var wS=Ce((function e(t){Te(this,e),this.key=t})),_S=Ce((function e(t){Te(this,e),this.key=t})),xS=function(){function e(t,n){Te(this,e),this.query=t,this.Ju=n,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=Hw(),this.mutatedKeys=Hw(),this.Zu=Aw(t),this.tc=new iS(this.Zu)}return Ce(e,[{key:"ec",get:function(){return this.Ju}},{key:"nc",value:function(e,t){var n=this,r=t?t.sc:new aS,i=t?t.tc:this.tc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Pw(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ic(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Zu(f,u)>0||c&&n.Zu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{tc:o,sc:r,ji:s,mutatedKeys:a}}},{key:"ic",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;var a=e.sc.Cu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return my()}};return n(e)-n(t)}(e.type,t.type)||r.Zu(e.doc,t.doc)})),this.rc(n);var o=t?this.oc():[],s=0===this.Xu.size&&this.current?1:0,u=s!==this.Yu;return this.Yu=s,0!==a.length||u?{snapshot:new oS(this.query,e.tc,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),uc:o}:{uc:o}}},{key:"ku",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new aS,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}},{key:"cc",value:function(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}},{key:"rc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Ju=t.Ju.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Ju=t.Ju.delete(e)})),this.current=e.current)}},{key:"oc",value:function(){var e=this;if(!this.current)return[];var t=this.Xu;this.Xu=Hw(),this.tc.forEach((function(t){e.cc(t.key)&&(e.Xu=e.Xu.add(t.key))}));var n=[];return t.forEach((function(t){e.Xu.has(t)||n.push(new _S(t))})),this.Xu.forEach((function(e){t.has(e)||n.push(new wS(e))})),n}},{key:"ac",value:function(e){this.Ju=e.sr,this.Xu=Hw();var t=this.nc(e.documents);return this.applyChanges(t,!0)}},{key:"hc",value:function(){return oS.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}]),e}(),ES=Ce((function e(t,n,r){Te(this,e),this.query=t,this.targetId=n,this.view=r})),IS=Ce((function e(t){Te(this,e),this.key=t,this.lc=!1})),TS=function(){function e(t,n,r,i,a,o){Te(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.fc={},this.dc=new Ow((function(e){return Sw(e)}),Tw),this._c=new Map,this.wc=new Set,this.mc=new Yk(By.comparator),this.gc=new Map,this.yc=new rI,this.Ic={},this.Tc=new Map,this.Ec=RE.kn(),this.onlineState="Unknown",this.Ac=void 0}return Ce(e,[{key:"isPrimaryClient",get:function(){return!0===this.Ac}}]),e}();function SS(e,t){return CS.apply(this,arguments)}function CS(){return CS=f(d().mark((function e(t,n){var r,i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bC(t),!(o=r.dc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.hc(),e.next=15;break;case 6:return e.next=8,NI(r.localStore,xw(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,PS(r,n,i,"current"===u,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&kT(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function PS(e,t,n,r,i){return NS.apply(this,arguments)}function NS(){return NS=f(d().mark((function e(t,n,r,i,a){var o,s,u,c,l,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=f(d().mark((function e(t,n,r,i){var a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.nc(r),e.t0=a.ji,!e.t0){e.next=6;break}return e.next=5,OI(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.nc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",($S(t,n.targetId,s.uc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,OI(t.localStore,n,!0);case 3:return o=e.sent,s=new xS(n,o.sr),u=s.nc(o.documents),c=q_.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),$S(t,r,l.uc),h=new ES(n,r,s),e.abrupt("return",(t.dc.set(n,h),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),NS.apply(this,arguments)}function AS(e,t){return RS.apply(this,arguments)}function RS(){return RS=f(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yy(t),i=r.dc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!Tw(e,n)}))),void r.dc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,AI(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),bT(r.remoteStore,i.targetId),QS(r,i.targetId)})).catch(Zy);case 9:e.next=14;break;case 11:return QS(r,i.targetId),e.next=14,AI(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function OS(e,t,n){return DS.apply(this,arguments)}function DS(){return DS=f(d().mark((function e(t,n,r){var i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wC(t),e.prev=1,e.next=4,function(e,t){var n,r,i=yy(e),a=Ly.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Hw());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Lw(),u=Hw();return i.Xi.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=Ie(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=m_(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new k_(c.key,l,Lb(l.value.mapValue),l_.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:jw(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Ic[e.currentUser.toKey()];r||(r=new Yk(Ry)),r=r.insert(t,n),e.Ic[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,ZS(i,a.changes);case 9:return e.next=11,MT(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=rS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),DS.apply(this,arguments)}function LS(e,t){return MS.apply(this,arguments)}function MS(){return(MS=f(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yy(t),e.prev=1,e.next=4,SI(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.gc.get(t);n&&(gy(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.lc=!0:e.modifiedDocuments.size>0?gy(n.lc):e.removedDocuments.size>0&&(gy(n.lc),n.lc=!1))})),e.next=8,ZS(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Zy(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function FS(e,t,n){var r=yy(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.dc.forEach((function(e,n){var r=n.view.ku(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=yy(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Ie(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ku(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&vS(n)}(r.eventManager,t),i.length&&r.fc.eu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function jS(e,t,n){return US.apply(this,arguments)}function US(){return US=f(d().mark((function e(t,n,r){var i,a,o,s,u,c;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=yy(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.gc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Yk(By.comparator)).insert(o,Mb.newNoDocument(o,My.min())),u=Hw().add(o),c=new B_(My.min(),new Map,new Yk(Ry),s,u),e.next=9,LS(i,c);case 9:i.mc=i.mc.remove(o),i.gc.delete(n),JS(i),e.next=16;break;case 14:return e.next=16,AI(i.localStore,n,!1).then((function(){return QS(i,n,r)})).catch(Zy);case 16:case"end":return e.stop()}}),e)}))),US.apply(this,arguments)}function VS(e,t){return BS.apply(this,arguments)}function BS(){return(BS=f(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yy(t),i=n.batch.batchId,e.prev=1,e.next=4,II(r.localStore,n);case 4:return a=e.sent,GS(r,i,null),KS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,ZS(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function qS(e,t,n){return zS.apply(this,arguments)}function zS(){return(zS=f(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yy(t),e.prev=1,e.next=4,function(e,t){var n=yy(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return gy(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,GS(i,n,r),KS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,ZS(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Zy(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function HS(e,t){return WS.apply(this,arguments)}function WS(){return(WS=f(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return IT((r=yy(t)).remoteStore)||hy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=yy(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Tc.get(i)||[]).push(n),r.Tc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=rS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function KS(e,t){(e.Tc.get(t)||[]).forEach((function(e){e.resolve()})),e.Tc.delete(t)}function GS(e,t,n){var r=yy(e),i=r.Ic[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Ic[r.currentUser.toKey()]=i}}function QS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Ie(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.dc.delete(a),n&&e.fc.vc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.yc.ps(t).forEach((function(t){e.yc.containsKey(t)||YS(e,t)}))}function YS(e,t){e.wc.delete(t.path.canonicalString());var n=e.mc.get(t);null!==n&&(bT(e.remoteStore,n),e.mc=e.mc.remove(t),e.gc.delete(n),JS(e))}function $S(e,t,n){var r,i=Ie(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof wS?(e.yc.addReference(a.key,t),XS(e,a)):a instanceof _S?(hy("SyncEngine","Document no longer in limbo: "+a.key),e.yc.removeReference(a.key,t),e.yc.containsKey(a.key)||YS(e,a.key)):my()}}catch(o){i.e(o)}finally{i.f()}}function XS(e,t){var n=t.key,r=n.path.canonicalString();e.mc.get(n)||e.wc.has(r)||(hy("SyncEngine","New document in limbo: "+n),e.wc.add(r),JS(e))}function JS(e){for(;e.wc.size>0&&e.mc.size<e.maxConcurrentLimboResolutions;){var t=e.wc.values().next().value;e.wc.delete(t);var n=new By(jy.fromString(t)),r=e.Ec.next();e.gc.set(r,new IS(n)),e.mc=e.mc.insert(n,r),kT(e.remoteStore,new Nx(xw(gw(n.path)),r,"TargetPurposeLimboResolution",dk.ct))}}function ZS(e,t,n){return eC.apply(this,arguments)}function eC(){return eC=f(d().mark((function e(t,n,r){var i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yy(t),a=[],o=[],s=[],e.t0=i.dc.isEmpty(),e.t0){e.next=9;break}return i.dc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=kI.Bi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.fc.eu(a),e.next=9,function(){var e=f(d().mark((function e(t,n){var r,i,a,o,s,u,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yy(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return tk.forEach(n,(function(t){return tk.forEach(t.$i,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return tk.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ok(e.t0)){e.next=10;break}throw e.t0;case 10:hy("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Ie(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Hi.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Hi=r.Hi.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),eC.apply(this,arguments)}function tC(e,t){return nC.apply(this,arguments)}function nC(){return(nC=f(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=yy(t)).currentUser.isEqual(n)){e.next=11;break}return hy("SyncEngine","User change. New user:",n.toKey()),e.next=5,xI(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Tc.forEach((function(e){e.forEach((function(e){e.reject(new by(ky.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Tc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,ZS(r,i.tr);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rC(e,t){var n=yy(e),r=n.gc.get(t);if(r&&r.lc)return Hw().add(r.key);var i=Hw(),a=n._c.get(t);if(!a)return i;var o,s=Ie(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.dc.get(u);i=i.unionWith(c.view.ec)}}catch(l){s.e(l)}finally{s.f()}return i}function iC(e,t){return aC.apply(this,arguments)}function aC(){return aC=f(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yy(t),e.next=3,OI(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ac(i),e.abrupt("return",(r.isPrimaryClient&&$S(r,n.targetId,a.uc),a));case 6:case"end":return e.stop()}}),e)}))),aC.apply(this,arguments)}function oC(e,t){return sC.apply(this,arguments)}function sC(){return(sC=f(d().mark((function e(t,n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yy(t),e.abrupt("return",LI(r.localStore,n).then((function(e){return ZS(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uC(e,t,n,r){return cC.apply(this,arguments)}function cC(){return cC=f(d().mark((function e(t,n,r,i){var a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yy(t),e.next=3,function(e,t){var n=yy(e),r=yy(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Vn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):tk.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,MT(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(GS(a,n,i||null),KS(a,n),function(e,t){yy(yy(e).mutationQueue).Dn(t)}(a.localStore,n)):my();case 11:return e.next=13,ZS(a,o);case 13:e.next=16;break;case 15:hy("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),cC.apply(this,arguments)}function lC(e,t){return fC.apply(this,arguments)}function fC(){return fC=f(d().mark((function e(t,n){var r,i,a,o,s,u,c,l;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bC(r=yy(t)),wC(r),!0!==n||!0===r.Ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,hC(r,i.toArray());case 5:return a=e.sent,r.Ac=!0,e.next=9,JT(r.remoteStore,!0);case 9:o=Ie(a);try{for(o.s();!(s=o.n()).done;)u=s.value,kT(r.remoteStore,u)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Ac){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return QS(r,t),AI(r.localStore,t,!0)})),bT(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,hC(r,c);case 21:return function(e){var t=yy(e);t.gc.forEach((function(e,n){bT(t.remoteStore,n)})),t.yc.Is(),t.gc=new Map,t.mc=new Yk(By.comparator)}(r),r.Ac=!1,e.next=25,JT(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),fC.apply(this,arguments)}function hC(e,t,n){return dC.apply(this,arguments)}function dC(){return dC=f(d().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,p,v,m,g,y;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=yy(t),a=[],o=[],s=Ie(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=45;break}if(c=u.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,NI(i.localStore,xw(f[0]));case 11:l=e.sent,h=Ie(f),e.prev=13,h.s();case 15:if((p=h.n()).done){e.next=24;break}return v=p.value,m=i.dc.get(v),e.next=20,iC(i,m);case 20:(g=e.sent).snapshot&&o.push(g.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,DI(i.localStore,c);case 36:return y=e.sent,e.next=39,NI(i.localStore,y);case 39:return l=e.sent,e.next=42,PS(i,pC(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.fc.eu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),dC.apply(this,arguments)}function pC(e){return mw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function vC(e){var t=yy(e);return yy(yy(t.localStore).persistence).Mi()}function mC(e,t,n,r){return gC.apply(this,arguments)}function gC(){return gC=f(d().mark((function e(t,n,r,i){var a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=yy(t)).Ac){e.next=3;break}return e.abrupt("return",void hy("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,LI(a.localStore,Nw(o[0]));case 10:return s=e.sent,u=B_.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,rb.EMPTY_BYTE_STRING),e.next=14,ZS(a,s,u);case 14:return e.abrupt("break",20);case 15:return e.next=17,AI(a.localStore,n,!0);case 17:return QS(a,n,i),e.abrupt("break",20);case 19:my();case 20:case"end":return e.stop()}}),e)}))),gC.apply(this,arguments)}function yC(e,t,n){return kC.apply(this,arguments)}function kC(){return(kC=f(d().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=bC(t)).Ac){e.next=45;break}a=Ie(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return hy("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,DI(i.localStore,s);case 12:return u=e.sent,e.next=15,NI(i.localStore,u);case 15:return c=e.sent,e.next=18,PS(i,pC(u),c.targetId,!1,c.resumeToken);case 18:kT(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Ie(r),e.prev=30,h=d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,AI(i.localStore,t,!1).then((function(){bT(i.remoteStore,t),QS(i,t)})).catch(Zy);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function bC(e){var t=yy(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=LS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jS.bind(null,t),t.fc.eu=dS.bind(null,t.eventManager),t.fc.vc=pS.bind(null,t.eventManager),t}function wC(e){var t=yy(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=VS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qS.bind(null,t),t}function _C(e,t,n){var r=yy(e);(function(){var e=f(d().mark((function e(t,n,r){var i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=yy(e),r=ix(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ls.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(bS(i)),a=new kS(i,t.localStore,n.serializer),e.next=15,n.Pc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ju(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.Pc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return u=e.sent,e.next=31,ZS(t,u.Hu,void 0);case 31:return e.next=33,function(e,t){var n=yy(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ls.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(u.progress),e.abrupt("return",Promise.resolve(u.Wu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(py("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var xC=function(){function e(){Te(this,e),this.synchronizeTabs=!1}return Ce(e,[{key:"initialize",value:function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=sT(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return _I(this.persistence,new bI,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new cI(fI.js,this.serializer)}},{key:"createSharedClientState",value:function(e){return new $I}},{key:"terminate",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),EC=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){var a;return Te(this,n),(a=t.call(this)).bc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ce(n,[{key:"initialize",value:function(){var e=f(d().mark((function e(t){var r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(Re(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.bc.initialize(this,t);case 4:return e.next=6,wC(this.bc.syncEngine);case 6:return e.next=8,MT(this.bc.remoteStore);case 8:return e.next=10,this.persistence.pi((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return _I(this.persistence,new bI,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new UE(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new hk(t,this.persistence);return new fk(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=yI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?EE.withCacheSize(this.cacheSizeBytes):EE.DEFAULT;return new vI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,aT(),oT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new $I}}]),n}(xC),IC=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this,e,r,!1)).bc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ce(n,[{key:"initialize",value:function(){var e=f(d().mark((function e(t){var r,i=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ha(Re(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.bc.syncEngine,e.t0=this.sharedClientState instanceof YI,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Qr:uC.bind(null,r),jr:mC.bind(null,r),zr:yC.bind(null,r),Mi:vC.bind(null,r),Gr:oC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.pi(function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lC(i.bc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=aT();if(!YI.D(t))throw new by(ky.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new YI(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(EC),TC=function(){function e(){Te(this,e)}return Ce(e,[{key:"initialize",value:function(){var e=f(d().mark((function e(t,n){var r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return FS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=tC.bind(null,this.syncEngine),e.next=12,JT(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new uS}},{key:"createDatastore",value:function(e){var t,n=sT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new iT(t));return function(e,t,n,r){return new hT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return FS(o.syncEngine,e,0)},a=JI.D()?new JI:new XI,new pT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new TS(e,t,n,r,i,a);return o&&(s.Ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yy(t),hy("RemoteStore","RemoteStore shutting down."),n.Au.add(5),e.next=5,gT(n);case 5:n.vu.shutdown(),n.Pu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function SC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return f(d().mark((function r(){var i;return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var CC=function(){function e(t){Te(this,e),this.observer=t,this.muted=!1}return Ce(e,[{key:"next",value:function(e){this.observer.next&&this.Vc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Vc(this.observer.error,e):dy("Uncaught Error in snapshot listener:",e.toString())}},{key:"Sc",value:function(){this.muted=!0}},{key:"Vc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),PC=function(){function e(t,n){var r=this;Te(this,e),this.Dc=t,this.serializer=n,this.metadata=new wy,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then((function(e){e&&e.Gu()?r.metadata.resolve(e.Ku.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Ku))))}),(function(e){return r.metadata.reject(e)}))}return Ce(e,[{key:"close",value:function(){return this.Dc.cancel()}},{key:"getMetadata",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pc",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.xc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"xc",value:function(){var e=f(d().mark((function e(){var t,n,r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Nc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Cc.decode(t),r=Number(n),isNaN(r)&&this.kc("length string (".concat(n,") is not valid number")),e.next=9,this.Mc(r);case 9:return i=e.sent,e.abrupt("return",new gS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Nc",value:function(){var e=f(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.$c();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.kc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Mc",value:function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.$c();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.kc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Cc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kc",value:function(e){throw this.Dc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"$c",value:function(){var e=f(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Dc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),NC=function(){function e(t){Te(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ce(e,[{key:"lookup",value:function(){var e=f(d().mark((function e(t){var n,r=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new by(ky.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=f(d().mark((function e(t,n){var r,i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yy(t),i=fx(r.serializer)+"/documents",a={documents:n.map((function(e){return sx(r.serializer,e)}))},e.next=5,r.Ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=vx(r.serializer,e);s.set(t.key.toString(),t)})),u=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());gy(!!t),u.push(t)})),u));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new I_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=f(d().mark((function e(){var t,n=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=By.fromPath(t);n.mutations.push(new T_(r,n.precondition(r)))})),e.next=7,function(){var e=f(d().mark((function e(t,n){var r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yy(t),i=fx(r.serializer)+"/documents",a={writes:n.map((function(e){return mx(r.serializer,e)}))},e.next=3,r.po("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw my();t=My.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new by(ky.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(My.min())?l_.exists(!1):l_.updateTime(t):l_.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(My.min()))throw new by(ky.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return l_.updateTime(t)}return l_.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),AC=function(){function e(t,n,r,i,a){Te(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Fc=r.maxAttempts,this.Lo=new uT(this.asyncQueue,"transaction_retry")}return Ce(e,[{key:"run",value:function(){this.Fc-=1,this.Bc()}},{key:"Bc",value:function(){var e=this;this.Lo.xo(f(d().mark((function t(){var n,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new NC(e.datastore),(r=e.Lc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.qc(t)}))}))})).catch((function(t){e.qc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Lc",value:function(e){try{var t=this.updateFunction(e);return!pk(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"qc",value:function(e){var t=this;this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Bc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Uc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!A_(t)}return!1}}]),e}(),RC=function(){function e(t,n,r,i){var a=this;Te(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=uy.UNAUTHENTICATED,this.clientId=Ay.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hy("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return hy("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ce(e,[{key:"getConfiguration",value:function(){var e=f(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new by(ky.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new wy;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(f(d().mark((function n(){var r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=rS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function OC(e,t){return DC.apply(this,arguments)}function DC(){return DC=f(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),hy("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,xI(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),DC.apply(this,arguments)}function LC(e,t){return MC.apply(this,arguments)}function MC(){return(MC=f(d().mark((function e(t,n){var r,i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,jC(t);case 3:return r=e.sent,hy("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return $T(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return $T(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FC(e){return"FirebaseError"===e.name?e.code===ky.FAILED_PRECONDITION||e.code===ky.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function jC(e){return UC.apply(this,arguments)}function UC(){return(UC=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return hy("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,OC(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),FC(n=e.t0)){e.next=13;break}throw n;case 13:return py("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,OC(t,new xC);case 16:e.next=21;break;case 18:return hy("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,OC(t,new xC);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function VC(e){return BC.apply(this,arguments)}function BC(){return(BC=f(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return hy("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,LC(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return hy("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,LC(t,new TC);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qC(e){return jC(e).then((function(e){return e.persistence}))}function zC(e){return jC(e).then((function(e){return e.localStore}))}function HC(e){return VC(e).then((function(e){return e.remoteStore}))}function WC(e){return VC(e).then((function(e){return e.syncEngine}))}function KC(e){return VC(e).then((function(e){return e.datastore}))}function GC(e){return QC.apply(this,arguments)}function QC(){return(QC=f(d().mark((function e(t){var n,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VC(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=SS.bind(null,n.syncEngine),r.onUnlisten=AS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function YC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wy;return e.asyncQueue.enqueueAndForget(f(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new CC({next:function(a){t.enqueueAndForget((function(){return fS(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new by(ky.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new by(ky.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new mS(gw(n.path),a,{includeMetadataChanges:!0,Uu:!0});return cS(e,o)},i.next=3,GC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function $C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wy;return e.asyncQueue.enqueueAndForget(f(d().mark((function i(){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new CC({next:function(n){t.enqueueAndForget((function(){return fS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new by(ky.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new mS(n,a,{includeMetadataChanges:!0,Uu:!0});return cS(e,o)},i.next=3,GC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var XC=new Map;function JC(e,t,n){if(!n)throw new by(ky.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ZC(e,t,n,r){if(!0===t&&!0===r)throw new by(ky.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function eP(e){if(!By.isDocumentKey(e))throw new by(ky.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function tP(e){if(By.isDocumentKey(e))throw new by(ky.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function nP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":my()}function rP(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new by(ky.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=nP(e);throw new by(ky.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function iP(e,t){if(t<=0)throw new by(ky.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var aP=function(){function e(t){var n;if(Te(this,e),void 0===t.host){if(void 0!==t.ssl)throw new by(ky.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new by(ky.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling||void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}return Ce(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),oP=function(){function e(t,n,r,i){Te(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aP({}),this._settingsFrozen=!1}return Ce(e,[{key:"app",get:function(){if(!this._app)throw new by(ky.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new by(ky.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aP(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xy;switch(e.type){case"firstParty":return new Sy(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new by(ky.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=XC.get(e);t&&(hy("ComponentProvider","Removing Datastore"),XC.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function sP(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=rP(e,oP))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&py("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=uy.MOCK_USER;else{o=rt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new by(ky.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new uy(u)}e._authCredentials=new Ey(new _y(o,s))}}var uP=function(){function e(t,n,r){Te(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ce(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new lP(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),cP=function(){function e(t,n,r){Te(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ce(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),lP=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){var a;return Te(this,n),(a=t.call(this,e,r,gw(i)))._path=i,a.type="collection",a}return Ce(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new uP(this.firestore,null,new By(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(cP);function fP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Vt(e),JC("collection","path",t),e instanceof oP){var a=jy.fromString.apply(jy,[t].concat(r));return tP(a),new lP(e,null,a)}if(!(e instanceof uP||e instanceof lP))throw new by(ky.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(jy.fromString.apply(jy,[t].concat(r)));return tP(o),new lP(e.firestore,null,o)}function hP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Vt(e),1===arguments.length&&(t=Ay.A()),JC("doc","path",t),e instanceof oP){var a=jy.fromString.apply(jy,[t].concat(r));return eP(a),new uP(e,null,new By(a))}if(!(e instanceof uP||e instanceof lP))throw new by(ky.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(jy.fromString.apply(jy,[t].concat(r)));return eP(o),new uP(e.firestore,e instanceof lP?e.converter:null,new By(o))}function dP(e,t){return e=Vt(e),t=Vt(t),(e instanceof uP||e instanceof lP)&&(t instanceof uP||t instanceof lP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pP(e,t){return e=Vt(e),t=Vt(t),e instanceof cP&&t instanceof cP&&e.firestore===t.firestore&&Tw(e._query,t._query)&&e.converter===t.converter}var vP=function(){function e(){var t=this;Te(this,e),this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new uT(this,"async_queue_retry"),this.Yc=function(){var e=oT();e&&hy("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Lo.ko()};var n=oT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Yc)}return Ce(e,[{key:"isShuttingDown",get:function(){return this.Qc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Xc(),this.Zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;var t=oT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Xc(),this.Qc)return new Promise((function(){}));var n=new wy;return this.Zc((function(){return t.Qc&&t.Hc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Gc.push(e),t.ta()}))}},{key:"ta",value:function(){var e=f(d().mark((function e(){var t=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Gc.length){e.next=14;break}return e.prev=1,e.next=4,this.Gc[0]();case 4:this.Gc.shift(),this.Lo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ok(e.t0)){e.next=12;break}throw e.t0;case 12:hy("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Gc.length>0&&this.Lo.xo((function(){return t.ta()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(e){var t=this,n=this.Kc.then((function(){return t.Wc=!0,e().catch((function(e){t.zc=e,t.Wc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw dy("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Wc=!1,e}))}));return this.Kc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);var i=nS.createAndSchedule(this,e,t,n,(function(e){return r.ea(e)}));return this.jc.push(i),i}},{key:"Xc",value:function(){this.zc&&my()}},{key:"verifyOperationInProgress",value:function(){}},{key:"na",value:function(){var e=f(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Kc,e.next=3,t;case 3:if(t!==this.Kc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sa",value:function(e){var t,n=Ie(this.jc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ia",value:function(e){var t=this;return this.na().then((function(){t.jc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Ie(t.jc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.na()}))}},{key:"ra",value:function(e){this.Jc.push(e)}},{key:"ea",value:function(e){var t=this.jc.indexOf(e);this.jc.splice(t,1)}}]),e}();function mP(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Ie(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var gP=function(){function e(){Te(this,e),this._progressObserver={},this._taskCompletionResolver=new wy,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ce(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),yP=function(e){Ae(n,e);var t=Me(n);function n(e,r,i,a){var o;return Te(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new vP,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return Ce(n,[{key:"_terminate",value:function(){return this._firestoreClient||bP(this),this._firestoreClient.terminate()}}]),n}(oP);function kP(e){return e._firestoreClient||bP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function bP(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new fb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new RC(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function wP(e,t,n){var r=new wy;return e.asyncQueue.enqueue(f(d().mark((function i(){var a;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,OC(e,n);case 3:return i.next=5,LC(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),FC(a=i.t0)){i.next=13;break}throw a;case 13:py("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function _P(e){return function(e){return e.asyncQueue.enqueue(f(d().mark((function t(){var n,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qC(e);case 2:return n=t.sent,t.next=5,HC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=yy(e);return t.Au.delete(0),vT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(kP(e=rP(e,yP)))}function xP(e){return function(e){return e.asyncQueue.enqueue(f(d().mark((function t(){var n,r;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qC(e);case 2:return n=t.sent,t.next=5,HC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yy(t)).Au.add(0),e.next=4,gT(n);case 4:n.Pu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(kP(e=rP(e,yP)))}function EP(e,t){var n=kP(e=rP(e,yP)),r=new gP;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new PC(e,t)}(function(e,t){if(e instanceof Uint8Array)return SC(e,t);if(e instanceof ArrayBuffer)return SC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?L_().encode(e):e),t)}(n,sT(t));e.asyncQueue.enqueueAndForget(f(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_C,t.next=3,WC(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function IP(e,t){return function(e,t){return e.asyncQueue.enqueue(f(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=yy(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ls.getNamedQuery(e,t)}))},n.next=3,zC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(kP(e=rP(e,yP)),t).then((function(t){return t?new cP(e,null,t.query):null}))}function TP(e){if(e._initialized||e._terminated)throw new by(ky.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var SP=function(){function e(t){Te(this,e),this._byteString=t}return Ce(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(rb.fromBase64String(t))}catch(t){throw new by(ky.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(rb.fromUint8Array(t))}}]),e}(),CP=function(){function e(){Te(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new by(ky.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vy(n)}return Ce(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var PP=Ce((function e(t){Te(this,e),this._methodName=t})),NP=function(){function e(t,n){if(Te(this,e),!isFinite(t)||t<-90||t>90)throw new by(ky.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new by(ky.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ce(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Ry(this._lat,e._lat)||Ry(this._long,e._long)}}]),e}(),AP=/^__.*__$/,RP=function(){function e(t,n,r){Te(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ce(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new k_(e,this.data,this.fieldMask,t,this.fieldTransforms):new y_(e,this.data,t,this.fieldTransforms)}}]),e}(),OP=function(){function e(t,n,r){Te(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ce(e,[{key:"toMutation",value:function(e,t){return new k_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function DP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw my()}}var LP=function(){function e(t,n,r,i,a,o){Te(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ce(e,[{key:"path",get:function(){return this.settings.path}},{key:"ua",get:function(){return this.settings.ua}},{key:"ca",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"aa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.la(e),r}},{key:"fa",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.oa(),r}},{key:"da",value:function(e){return this.ca({path:void 0,ha:!0})}},{key:"_a",value:function(e){return tN(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"oa",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.la(this.path.get(e))}},{key:"la",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(DP(this.ua)&&AP.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),MP=function(){function e(t,n,r){Te(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||sT(t)}return Ce(e,[{key:"ga",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new LP({ua:e,methodName:t,ma:n,path:Vy.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function FP(e){var t=e._freezeSettings(),n=sT(e._databaseId);return new MP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jP(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ga(a.merge||a.mergeFields?2:0,t,n,i);XP("Data must be an object, but it was:",o,r);var s,u,c=YP(r,o);if(a.merge)s=new tb(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Ie(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=JP(t,d,n);if(!o.contains(p))throw new by(ky.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));nN(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new tb(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new RP(new Db(c),s,u)}var UP=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ua)throw 1===e.ua?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(PP);function VP(e,t,n){return new LP({ua:3,ma:t.settings.ma,methodName:e._methodName,ha:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var BP=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"_toFieldTransform",value:function(e){return new u_(e.path,new e_)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(PP),qP=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this,e)).ya=r,i}return Ce(n,[{key:"_toFieldTransform",value:function(e){var t=VP(this,e,!0),n=this.ya.map((function(e){return QP(e,t)})),r=new t_(n);return new u_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(PP),zP=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this,e)).ya=r,i}return Ce(n,[{key:"_toFieldTransform",value:function(e){var t=VP(this,e,!0),n=this.ya.map((function(e){return QP(e,t)})),r=new r_(n);return new u_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(PP),HP=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this,e)).pa=r,i}return Ce(n,[{key:"_toFieldTransform",value:function(e){var t=new a_(e.serializer,Yw(e.serializer,this.pa));return new u_(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(PP);function WP(e,t,n,r){var i=e.ga(1,t,n);XP("Data must be an object, but it was:",i,r);var a=[],o=Db.empty();Gk(r,(function(e,r){var s=eN(t,e,n);r=Vt(r);var u=i.fa(s);if(r instanceof UP)a.push(s);else{var c=QP(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new tb(a);return new OP(o,s,i.fieldTransforms)}function KP(e,t,n,r,i,a){var o=e.ga(1,t,n),s=[JP(t,r,n)],u=[i];if(a.length%2!=0)throw new by(ky.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(JP(t,a[c])),u.push(a[c+1]);for(var l=[],f=Db.empty(),h=s.length-1;h>=0;--h)if(!nN(l,s[h])){var d=s[h],p=u[h];p=Vt(p);var v=o.fa(d);if(p instanceof UP)l.push(d);else{var m=QP(p,v);null!=m&&(l.push(d),f.set(d,m))}}var g=new tb(l);return new OP(f,g,o.fieldTransforms)}function GP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return QP(n,e.ga(r?4:3,t))}function QP(e,t){if($P(e=Vt(e)))return XP("Unsupported field value:",t,e),YP(e,t);if(e instanceof PP)return function(e,t){if(!DP(t.ua))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Ie(e);try{for(a.s();!(n=a.n()).done;){var o=QP(n.value,t.da(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Vt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yw(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ly.fromDate(e);return{timestampValue:tx(t.serializer,n)}}if(e instanceof Ly){var r=new Ly(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:tx(t.serializer,r)}}if(e instanceof NP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof SP)return{bytesValue:nx(t.serializer,e._byteString)};if(e instanceof uP){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ax(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(nP(e)))}(e,t)}function YP(e,t){var n={};return Qk(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gk(e,(function(e,r){var i=QP(r,t.aa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $P(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ly||e instanceof NP||e instanceof SP||e instanceof uP||e instanceof PP)}function XP(e,t,n){if(!$P(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=nP(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function JP(e,t,n){if((t=Vt(t))instanceof CP)return t._internalPath;if("string"==typeof t)return eN(e,t);throw tN("Field path arguments must be of type string or ",e,!1,void 0,n)}var ZP=new RegExp("[~\\*/\\[\\]]");function eN(e,t,n){if(t.search(ZP)>=0)throw tN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Fe(CP,Ee(t.split(".")))._internalPath}catch(r){throw tN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function tN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new by(ky.INVALID_ARGUMENT,s+e+u)}function nN(e,t){return e.some((function(e){return e.isEqual(t)}))}var rN=function(){function e(t,n,r,i,a){Te(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ce(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new uP(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(aN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),iN=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"data",value:function(){return Ha(Re(n.prototype),"data",this).call(this)}}]),n}(rN);function aN(e,t){return"string"==typeof t?eN(e,t):t instanceof CP?t._internalPath:t._delegate._internalPath}function oN(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new by(ky.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sN=Ce((function e(){Te(this,e)})),uN=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n)}(sN);function cN(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof sN&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof fN})).length,n=e.filter((function(e){return e instanceof lN})).length;if(t>1||t>0&&n>0)throw new by(ky.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=Ie(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;e=u._apply(e)}}catch(c){s.e(c)}finally{s.f()}return e}var lN=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){var a;return Te(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return Ce(n,[{key:"_apply",value:function(e){var t=this._parse(e);return xN(e._query,t),new cP(e.firestore,e.converter,Ew(e._query,t))}},{key:"_parse",value:function(e){var t=FP(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new by(ky.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){_N(o,a);var u,c=[],l=Ie(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(wN(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=wN(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||_N(o,a),s=GP(n,"where",o,"in"===a||"not-in"===a);return zb.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(uN);var fN=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return Ce(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Hb.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=Ie(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;xN(r,a),r=Ew(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new cP(e.firestore,e.converter,Ew(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(sN);var hN=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return Ce(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new by(ky.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new by(ky.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Vb(t,n);return function(e,t){if(null===kw(e)){var n=bw(e);null!==n&&EN(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new cP(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new vw(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(uN);var dN=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){var a;return Te(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return Ce(n,[{key:"_apply",value:function(e){return new cP(e.firestore,e.converter,Iw(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(uN);var pN=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){var a;return Te(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Ce(n,[{key:"_apply",value:function(e){var t=bN(e,this.type,this._docOrFields,this._inclusive);return new cP(e.firestore,e.converter,function(e,t){return new vw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(uN);function vN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pN._create("startAt",t,!0)}function mN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pN._create("startAfter",t,!1)}var gN=function(e){Ae(n,e);var t=Me(n);function n(e,r,i){var a;return Te(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return Ce(n,[{key:"_apply",value:function(e){var t=bN(e,this.type,this._docOrFields,this._inclusive);return new cP(e.firestore,e.converter,function(e,t){return new vw(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(uN);function yN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gN._create("endBefore",t,!1)}function kN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return gN._create("endAt",t,!0)}function bN(e,t,n,r){if(n[0]=Vt(n[0]),n[0]instanceof rN)return function(e,t,n,r,i){if(!r)throw new by(ky.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],s=Ie(_w(e));try{for(s.s();!(a=s.n()).done;){var u=a.value;if(u.field.isKeyField())o.push(_b(t,r.key));else{var c=r.data.field(u.field);if(ub(c))throw new by(ky.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new by(ky.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){s.e(f)}finally{s.f()}return new Fb(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=FP(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new by(ky.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var s=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.isKeyField()){if("string"!=typeof c)throw new by(ky.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ww(e)&&-1!==c.indexOf("/"))throw new by(ky.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(jy.fromString(c));if(!By.isDocumentKey(l))throw new by(ky.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new By(l);s.push(_b(t,f))}else{var h=GP(n,r,c);s.push(h)}}return new Fb(s,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function wN(e,t,n){if("string"==typeof(n=Vt(n))){if(""===n)throw new by(ky.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ww(t)&&-1!==n.indexOf("/"))throw new by(ky.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(jy.fromString(n));if(!By.isDocumentKey(r))throw new by(ky.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return _b(e,new By(r))}if(n instanceof uP)return _b(e,n._key);throw new by(ky.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(nP(n),"."))}function _N(e,t){if(!Array.isArray(e)||0===e.length)throw new by(ky.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function xN(e,t){if(t.isInequality()){var n=bw(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new by(ky.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=kw(e);null!==i&&EN(e,r,i)}var a=function(e,t){var n,r=Ie(e);try{for(r.s();!(n=r.n()).done;){var i,a=Ie(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new by(ky.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new by(ky.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function EN(e,t,n){if(!n.isEqual(t))throw new by(ky.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var IN=function(){function e(){Te(this,e)}return Ce(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(vb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ob(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw my()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Gk(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new NP(ob(e.latitude),ob(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=cb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(lb(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ab(e);return new Ly(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=jy.fromString(e);gy(Px(n));var r=new hb(n.get(1),n.get(3)),i=new By(n.popFirst(5));return r.isEqual(t)||dy("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function TN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var SN=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this)).firestore=e,r}return Ce(n,[{key:"convertBytes",value:function(e){return new SP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uP(this.firestore,null,t)}}]),n}(IN);var CN=function(){function e(t,n){Te(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ce(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),PN=function(e){Ae(n,e);var t=Me(n);function n(e,r,i,a,o,s){var u;return Te(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Ce(n,[{key:"exists",value:function(){return Ha(Re(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new NN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(aN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(rN),NN=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ha(Re(n.prototype),"data",this).call(this,e)}}]),n}(PN),AN=function(){function e(t,n,r,i){Te(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new CN(i.hasPendingWrites,i.fromCache),this.query=r}return Ce(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new NN(n._firestore,n._userDataWriter,r.key,r,new CN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new by(ky.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new NN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new CN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new NN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new CN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:RN(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function RN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return my()}}function ON(e,t){return e instanceof PN&&t instanceof PN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof AN&&t instanceof AN&&e._firestore===t._firestore&&pP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var DN=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this)).firestore=e,r}return Ce(n,[{key:"convertBytes",value:function(e){return new SP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uP(this.firestore,null,t)}}]),n}(IN);function LN(e){e=rP(e,uP);var t=rP(e.firestore,yP),n=kP(t),r=new DN(t);return function(e,t){var n=new wy;return e.asyncQueue.enqueueAndForget(f(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=f(d().mark((function e(t,n,r){var i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=yy(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new by(ky.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=rS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,zC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new PN(t,r,e._key,n,new CN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function MN(e){e=rP(e,cP);var t=rP(e.firestore,yP),n=kP(t),r=new DN(t);return function(e,t){var n=new wy;return e.asyncQueue.enqueueAndForget(f(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=f(d().mark((function e(t,n,r){var i,a,o,s,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,OI(t,n,!0);case 3:i=e.sent,a=new xS(n,i.sr),o=a.nc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),u=rS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(u);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,zC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new AN(t,r,e,n)}))}function FN(e,t,n){e=rP(e,uP);var r=rP(e.firestore,yP),i=TN(e.converter,t,n);return BN(r,[jP(FP(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,l_.none())])}function jN(e,t,n){e=rP(e,uP);for(var r=rP(e.firestore,yP),i=FP(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return BN(r,[("string"==typeof(t=Vt(t))||t instanceof CP?KP(i,"updateDoc",e._key,t,n,o):WP(i,"updateDoc",e._key,t)).toMutation(e._key,l_.exists(!0))])}function UN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Vt(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||mP(n[u])||(s=n[u],u++);var c,l,h,p={includeMetadataChanges:s.includeMetadataChanges};if(mP(n[u])){var v=n[u];n[u]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[u+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[u+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof uP)l=rP(e.firestore,yP),h=gw(e._key.path),c={next:function(t){n[u]&&n[u](qN(l,e,t))},error:n[u+1],complete:n[u+2]};else{var m=rP(e,cP);l=rP(m.firestore,yP),h=m._query;var g=new DN(l);c={next:function(e){n[u]&&n[u](new AN(l,g,m,e))},error:n[u+1],complete:n[u+2]},oN(e._query)}return function(e,t,n,r){var i=new CC(r),a=new mS(t,i,n);return e.asyncQueue.enqueueAndForget(f(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=cS,t.next=3,GC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Sc(),e.asyncQueue.enqueueAndForget(f(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=fS,t.next=3,GC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(kP(l),h,p,c)}function VN(e,t){return function(e,t){var n=new CC(t);return e.asyncQueue.enqueueAndForget(f(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yy(e).Nu.add(t),t.next()},t.next=3,GC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Sc(),e.asyncQueue.enqueueAndForget(f(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yy(e).Nu.delete(t)},t.next=3,GC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(kP(e=rP(e,yP)),mP(t)?t:{next:t})}function BN(e,t){return function(e,t){var n=new wy;return e.asyncQueue.enqueueAndForget(f(d().mark((function r(){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=OS,r.next=3,WC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(kP(e),t)}function qN(e,t,n){var r=n.docs.get(t._key),i=new DN(e);return new PN(e,i,t._key,r,new CN(n.hasPendingWrites,n.fromCache),t.converter)}var zN={maxAttempts:5},HN=function(){function e(t,n){Te(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=FP(t)}return Ce(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=WN(e,this._firestore),i=TN(r.converter,t,n),a=jP(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,l_.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=WN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Vt(t))||t instanceof CP?KP(this._dataReader,"WriteBatch.update",i._key,t,n,o):WP(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,l_.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=WN(e,this._firestore);return this._mutations=this._mutations.concat(new I_(t._key,l_.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new by(ky.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function WN(e,t){if((e=Vt(e)).firestore!==t)throw new by(ky.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var KN=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ce(n,[{key:"get",value:function(e){var t=this,r=WN(e,this._firestore),i=new DN(this._firestore);return Ha(Re(n.prototype),"get",this).call(this,e).then((function(e){return new PN(t._firestore,i,r._key,e._document,new CN(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Te(this,e),this._firestore=t,this._transaction=n,this._dataReader=FP(t)}return Ce(e,[{key:"get",value:function(e){var t=this,n=WN(e,this._firestore),r=new SN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return my();var i=e[0];if(i.isFoundDocument())return new rN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new rN(t._firestore,r,n._key,null,n.converter);throw my()}))}},{key:"set",value:function(e,t,n){var r=WN(e,this._firestore),i=TN(r.converter,t,n),a=jP(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=WN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return r="string"==typeof(t=Vt(t))||t instanceof CP?KP(this._dataReader,"Transaction.update",i._key,t,n,o):WP(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=WN(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function GN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qP("arrayUnion",t)}function QN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zP("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){cy=e}(Mn),Pn(new Bt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new yP(new Iy(e.getProvider("auth-internal")),new Py(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new by(ky.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hb(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),qn(sy,"3.11.0",e),qn(sy,"3.11.0","esm2017")}();function YN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new by("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function $N(){if("undefined"===typeof Uint8Array)throw new by("unimplemented","Uint8Arrays are not available in this environment.")}function XN(){if("undefined"==typeof atob)throw new by("unimplemented","Blobs are unavailable in Firestore in this environment.")}var JN=function(){function e(t){Te(this,e),this._delegate=t}return Ce(e,[{key:"toBase64",value:function(){return XN(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return $N(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return XN(),new e(SP.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return $N(),new e(SP.fromUint8Array(t))}}]),e}();function ZN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Ie(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var eA=function(){function e(){Te(this,e)}return Ce(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){TP(e=rP(e,yP));var n=kP(e);if(n._uninitializedComponentsProvider)throw new by(ky.FAILED_PRECONDITION,"SDK cache is already specified.");py("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new TC;return wP(n,i,new EC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){TP(e=rP(e,yP));var t=kP(e);if(t._uninitializedComponentsProvider)throw new by(ky.FAILED_PRECONDITION,"SDK cache is already specified.");py("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new TC;return wP(t,r,new IC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new by(ky.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new wy;return e._queue.enqueueAndForgetEvenWhileRestricted(f(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=f(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(rk.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,rk.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(yI(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),tA=function(){function e(t,n,r){var i=this;Te(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof hb||(this._appCompat=t)}return Ce(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||py("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};sP(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return _P(this._delegate)}},{key:"disableNetwork",value:function(){return xP(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&ZC("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new wy;return e.asyncQueue.enqueueAndForget(f(d().mark((function n(){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=HS,n.next=3,WC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(kP(rP(this._delegate,yP)))}},{key:"onSnapshotsInSync",value:function(e){return VN(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new by("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new vA(this,fP(this._delegate,e))}catch(t){throw sA(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new oA(this,hP(this._delegate,e))}catch(t){throw sA(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new hA(this,function(e,t){if(e=rP(e,oP),JC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new by(ky.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new cP(e,null,function(e){return new vw(jy.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw sA(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=rP(e,yP);var r=Object.assign(Object.assign({},zN),n);return function(e){if(e.maxAttempts<1)throw new by(ky.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new wy;return e.asyncQueue.enqueueAndForget(f(d().mark((function i(){var a;return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,KC(e);case 2:a=i.sent,new AC(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(kP(e),(function(n){return t(new KN(e,n))}),r)}(this._delegate,(function(n){return e(new rA(t,n))}))}},{key:"batch",value:function(){var e=this;return kP(this._delegate),new iA(new HN(this._delegate,(function(t){return BN(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return EP(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return IP(this._delegate,e).then((function(e){return e?new hA(t,e):null}))}}]),e}(),nA=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this)).firestore=e,r}return Ce(n,[{key:"convertBytes",value:function(e){return new JN(new SP(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return oA.forKey(t,this.firestore,null)}}]),n}(IN);var rA=function(){function e(t,n){Te(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new nA(t)}return Ce(e,[{key:"get",value:function(e){var t=this,n=mA(e);return this._delegate.get(n).then((function(e){return new lA(t._firestore,new PN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=mA(e);return n?(YN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=mA(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mA(e);return this._delegate.delete(t),this}}]),e}(),iA=function(){function e(t){Te(this,e),this._delegate=t}return Ce(e,[{key:"set",value:function(e,t,n){var r=mA(e);return n?(YN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,s=mA(e);2===arguments.length?this._delegate.update(s,t):(o=this._delegate).update.apply(o,[s,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),aA=function(){function e(t,n,r){Te(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ce(e,[{key:"fromFirestore",value:function(e,t){var n=new NN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new nA(t),n),i.set(n,a)),a}}]),e}();aA.INSTANCES=new WeakMap;var oA=function(){function e(t,n){Te(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new nA(t)}return Ce(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new vA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new vA(this.firestore,fP(this._delegate,e))}catch(t){throw sA(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Vt(e))instanceof uP&&dP(this._delegate,e)}},{key:"set",value:function(e,t){t=YN("DocumentReference.set",t);try{return t?FN(this._delegate,e,t):FN(this._delegate,e)}catch(n){throw sA(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?jN(this._delegate,e):jN.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw sA(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return BN(rP((e=this._delegate).firestore,yP),[new I_(e._key,l_.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=uA(n),a=cA(n,(function(t){return new lA(e.firestore,new PN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return UN(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?LN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=rP(e,uP);var t=rP(e.firestore,yP);return YC(kP(t),e._key,{source:"server"}).then((function(n){return qN(t,e,n)}))}(this._delegate):function(e){e=rP(e,uP);var t=rP(e.firestore,yP);return YC(kP(t),e._key).then((function(n){return qN(t,e,n)}))}(this._delegate)).then((function(e){return new lA(t.firestore,new PN(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(aA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new by("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new uP(n._delegate,r,new By(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new uP(n._delegate,r,t))}}]),e}();function sA(e,t,n){return e.message=e.message.replace(t,n),e}function uA(e){var t,n=Ie(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!ZN(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function cA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=ZN(e[0])?e[0]:ZN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var lA=function(){function e(t,n){Te(this,e),this._firestore=t,this._delegate=n}return Ce(e,[{key:"ref",get:function(){return new oA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return ON(this._delegate,e._delegate)}}]),e}(),fA=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||my(),t}}]),n}(lA),hA=function(){function e(t,n){Te(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new nA(t)}return Ce(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,cN(this._delegate,function(e,t,n){var r=t,i=aN("where",e);return lN._create(i,r,n)}(t,n,r)))}catch(i){throw sA(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,cN(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=aN("orderBy",e);return hN._create(n,t)}(t,n)))}catch(r){throw sA(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,cN(this._delegate,(iP("limit",n=t),dN._create("limit",n,"F"))))}catch(r){throw sA(r,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,cN(this._delegate,(iP("limitToLast",n=t),dN._create("limitToLast",n,"L"))))}catch(r){throw sA(r,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,cN(this._delegate,vN.apply(void 0,arguments)))}catch(t){throw sA(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,cN(this._delegate,mN.apply(void 0,arguments)))}catch(t){throw sA(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,cN(this._delegate,yN.apply(void 0,arguments)))}catch(t){throw sA(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,cN(this._delegate,kN.apply(void 0,arguments)))}catch(t){throw sA(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return pP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?MN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=rP(e,cP);var t=rP(e.firestore,yP),n=kP(t),r=new DN(t);return $C(n,e._query,{source:"server"}).then((function(n){return new AN(t,r,e,n)}))}(this._delegate):function(e){e=rP(e,cP);var t=rP(e.firestore,yP),n=kP(t),r=new DN(t);return oN(e._query),$C(n,e._query).then((function(n){return new AN(t,r,e,n)}))}(this._delegate)).then((function(e){return new pA(t.firestore,new AN(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=uA(n),a=cA(n,(function(t){return new pA(e.firestore,new AN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return UN(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(aA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),dA=function(){function e(t,n){Te(this,e),this._firestore=t,this._delegate=n}return Ce(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new fA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),pA=function(){function e(t,n){Te(this,e),this._firestore=t,this._delegate=n}return Ce(e,[{key:"query",get:function(){return new hA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new fA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new dA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new fA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return ON(this._delegate,e._delegate)}}]),e}(),vA=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ce(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new oA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new oA(this.firestore,void 0===e?hP(this._delegate):hP(this._delegate,e))}catch(t){throw sA(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=rP(e.firestore,yP),r=hP(e),i=TN(e.converter,t);return BN(n,[jP(FP(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,l_.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new oA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return dP(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(aA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(hA);function mA(e){return rP(e,uP)}var gA=function(){function e(){Te(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Fe(CP,n)}return Ce(e,[{key:"isEqual",value:function(e){return(e=Vt(e))instanceof CP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Vy.keyField().canonicalString())}}]),e}(),yA=function(){function e(t){Te(this,e),this._delegate=t}return Ce(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new BP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new UP("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=GN.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=QN.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new HP("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),kA={Firestore:tA,GeoPoint:NP,Timestamp:Ly,Blob:JN,Transaction:rA,WriteBatch:iA,DocumentReference:oA,DocumentSnapshot:lA,Query:hA,QueryDocumentSnapshot:fA,QuerySnapshot:pA,CollectionReference:vA,FieldPath:gA,FieldValue:yA,setLogLevel:function(e){var t;t=e,ly.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Bt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},kA)))}(e,(function(e,t){return new tA(e,t,new eA)})),e.registerVersion("@firebase/firestore-compat","0.3.8")}(Ba);(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn(),t=Nn(e=Vt(e),Fi);t.isInitialized()?t.getImmediate():Na(e)})(Ba.initializeApp({apiKey:"AIzaSyAjZL5xO-3zIfSVfgKQeYPzFE54radQraA",authDomain:"code-editor-9b25e.firebaseapp.com",projectId:"code-editor-9b25e",storageBucket:"code-editor-9b25e.appspot.com",messagingSenderId:"411595774832",appId:"1:411595774832:web:fa617c4a3fa63db0534db5",measurementId:"G-GTBQDQYY14"})),Ba.auth(),Ba.firestore();function bA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wA(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=wA(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function _A(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=wA(e))&&(r&&(r+=" "),r+=t);return r}var xA=["delay","staleId"],EA=["theme","type"];function IA(e){return"number"==typeof e&&!isNaN(e)}function TA(e){return"boolean"==typeof e}function SA(e){return"string"==typeof e}function CA(e){return"function"==typeof e}function PA(e){return SA(e)||CA(e)?e:null}function NA(e){return 0===e||e}function AA(e){return(0,t.isValidElement)(e)||SA(e)||CA(e)||IA(e)}var RA={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},OA={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function DA(e){var n=e.enter,r=e.exit,i=e.appendPosition,a=void 0!==i&&i,o=e.collapse,s=void 0===o||o,u=e.collapseDuration,c=void 0===u?300:u;return function(e){var i=e.children,o=e.position,u=e.preventExitTransition,l=e.done,f=e.nodeRef,h=e.isIn,d=a?n+"--"+o:n,p=a?r+"--"+o:r,v=(0,t.useRef)(),m=(0,t.useRef)(0);function g(e){if(e.target===f.current){var t=f.current;t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",g),t.removeEventListener("animationcancel",g),0===m.current&&"animationcancel"!==e.type&&(t.className=v.current)}}function y(){var e=f.current;e.removeEventListener("animationend",y),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()}return(0,t.useLayoutEffect)((function(){!function(){var e=f.current;v.current=e.className,e.className+=" "+d,e.addEventListener("animationend",g),e.addEventListener("animationcancel",g)}()}),[]),(0,t.useEffect)((function(){h||(u?y():function(){m.current=1;var e=f.current;e.className+=" "+p,e.addEventListener("animationend",y)}())}),[h]),t.createElement(t.Fragment,null,i)}}function LA(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}var MA={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){var t=arguments,n=this;this.list.has(e)&&this.list.get(e).forEach((function(r){var i=setTimeout((function(){r.apply(void 0,Ee([].slice.call(t,1)))}),0);n.emitQueue.has(e)||n.emitQueue.set(e,[]),n.emitQueue.get(e).push(i)}))}};function FA(e){var n=(0,t.useReducer)((function(e){return e+1}),0),r=c(n,2)[1],i=c((0,t.useState)([]),2),a=i[0],o=i[1],s=(0,t.useRef)(null),u=(0,t.useRef)(new Map).current,l=function(e){return-1!==a.indexOf(e)},f=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:function(e){return u.get(e)}}).current;function h(e){var t=e.containerId;!f.props.limit||t&&f.containerId!==t||(f.count-=f.queue.length,f.queue=[])}function d(e){o((function(t){return NA(e)?t.filter((function(t){return t!==e})):[]}))}function p(){var e=f.queue.shift();m(e.toastContent,e.toastProps,e.staleId)}function v(e,n){var i=n.delay,a=n.staleId,o=bA(n,xA);if(AA(e)&&!function(e){return!s.current||f.props.enableMultiContainer&&e.containerId!==f.props.containerId||u.has(e.toastId)&&null==e.updateId}(o)){var c=o.toastId,l=o.updateId,h=o.data,v=f.props,g=function(){return d(c)},y=null==l;y&&f.count++;var k,b,w={toastId:c,updateId:l,containerId:o.containerId,isLoading:o.isLoading,theme:o.theme||v.theme,icon:null!=o.icon?o.icon:v.icon,isIn:!1,key:o.key||f.toastKey++,type:o.type,closeToast:g,closeButton:o.closeButton,rtl:v.rtl,position:o.position||v.position,transition:o.transition||v.transition,className:PA(o.className||v.toastClassName),bodyClassName:PA(o.bodyClassName||v.bodyClassName),style:o.style||v.toastStyle,bodyStyle:o.bodyStyle||v.bodyStyle,onClick:o.onClick||v.onClick,pauseOnHover:TA(o.pauseOnHover)?o.pauseOnHover:v.pauseOnHover,pauseOnFocusLoss:TA(o.pauseOnFocusLoss)?o.pauseOnFocusLoss:v.pauseOnFocusLoss,draggable:TA(o.draggable)?o.draggable:v.draggable,draggablePercent:o.draggablePercent||v.draggablePercent,draggableDirection:o.draggableDirection||v.draggableDirection,closeOnClick:TA(o.closeOnClick)?o.closeOnClick:v.closeOnClick,progressClassName:PA(o.progressClassName||v.progressClassName),progressStyle:o.progressStyle||v.progressStyle,autoClose:!o.isLoading&&(k=o.autoClose,b=v.autoClose,!1===k||IA(k)&&k>0?k:b),hideProgressBar:TA(o.hideProgressBar)?o.hideProgressBar:v.hideProgressBar,progress:o.progress,role:o.role||v.role,deleteToast:function(){var e=LA(u.get(c),"removed");u.delete(c),MA.emit(4,e);var t=f.queue.length;if(f.count=NA(c)?f.count-1:f.count-f.displayedToast,f.count<0&&(f.count=0),t>0){var n=NA(c)?1:f.props.limit;if(1===t||1===n)f.displayedToast++,p();else{var i=n>t?t:n;f.displayedToast=i;for(var a=0;a<i;a++)p()}}else r()}};CA(o.onOpen)&&(w.onOpen=o.onOpen),CA(o.onClose)&&(w.onClose=o.onClose),w.closeButton=v.closeButton,!1===o.closeButton||AA(o.closeButton)?w.closeButton=o.closeButton:!0===o.closeButton&&(w.closeButton=!AA(v.closeButton)||v.closeButton);var _=e;(0,t.isValidElement)(e)&&!SA(e.type)?_=(0,t.cloneElement)(e,{closeToast:g,toastProps:w,data:h}):CA(e)&&(_=e({closeToast:g,toastProps:w,data:h})),v.limit&&v.limit>0&&f.count>v.limit&&y?f.queue.push({toastContent:_,toastProps:w,staleId:a}):IA(i)?setTimeout((function(){m(_,w,a)}),i):m(_,w,a)}}function m(e,t,n){var r=t.toastId;n&&u.delete(n);var i={content:e,props:t};u.set(r,i),o((function(e){return[].concat(Ee(e),[r]).filter((function(e){return e!==n}))})),MA.emit(4,LA(i,null==i.props.updateId?"added":"updated"))}return(0,t.useEffect)((function(){return f.containerId=e.containerId,MA.cancelEmit(3).on(0,v).on(1,(function(e){return s.current&&d(e)})).on(5,h).emit(2,f),function(){return MA.emit(3,f)}}),[]),(0,t.useEffect)((function(){f.props=e,f.isToastActive=l,f.displayedToast=a.length})),{getToastToRender:function(t){var n=new Map,r=Array.from(u.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:l}}function jA(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function UA(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function VA(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":a},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function BA(e){var n=e.delay,r=e.isRunning,i=e.closeToast,a=e.type,o=e.hide,s=e.className,u=e.style,c=e.controlledProgress,l=e.progress,f=e.rtl,h=e.isIn,d=e.theme,p=ne(ne({},u),{},{animationDuration:n+"ms",animationPlayState:r?"running":"paused",opacity:o?0:1});c&&(p.transform="scaleX("+l+")");var v=_A("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+d,"Toastify__progress-bar--"+a,{"Toastify__progress-bar--rtl":f}),m=CA(s)?s({rtl:f,type:a,defaultClassName:v}):_A(v,s);return t.createElement("div",ee({role:"progressbar","aria-hidden":o?"true":"false","aria-label":"notification timer",className:m,style:p},c&&l>=1?"onTransitionEnd":"onAnimationEnd",c&&l<1?null:function(){h&&i()}))}BA.defaultProps={type:OA.DEFAULT,hide:!1};var qA=function(e){var n=e.theme,r=e.type,i=bA(e,EA);return t.createElement("svg",ne({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-"+r+")"},i))},zA={info:function(e){return t.createElement(qA,ne({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(qA,ne({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(qA,ne({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(qA,ne({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}},HA=function(e){var n=function(e){var n=c((0,t.useState)(!1),2),r=n[0],i=n[1],a=c((0,t.useState)(!1),2),o=a[0],s=a[1],u=(0,t.useRef)(null),l=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,f=(0,t.useRef)(e),h=e.autoClose,d=e.pauseOnHover,p=e.closeToast,v=e.onClick,m=e.closeOnClick;function g(t){if(e.draggable){l.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",_),document.addEventListener("touchmove",w),document.addEventListener("touchend",_);var n=u.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=n.getBoundingClientRect(),n.style.transition="",l.x=jA(t.nativeEvent),l.y=UA(t.nativeEvent),"x"===e.draggableDirection?(l.start=l.x,l.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(){if(l.boundingRect){var t=l.boundingRect,n=t.top,r=t.bottom,i=t.left,a=t.right;e.pauseOnHover&&l.x>=i&&l.x<=a&&l.y>=n&&l.y<=r?b():k()}}function k(){i(!0)}function b(){i(!1)}function w(t){var n=u.current;l.canDrag&&n&&(l.didMove=!0,r&&b(),l.x=jA(t),l.y=UA(t),l.delta="x"===e.draggableDirection?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),n.style.transform="translate"+e.draggableDirection+"("+l.delta+"px)",n.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function _(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",_),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",_);var t=u.current;if(l.canDrag&&l.didMove&&t){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,t.useEffect)((function(){f.current=e})),(0,t.useEffect)((function(){return u.current&&u.current.addEventListener("d",k,{once:!0}),CA(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=f.current;CA(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&(document.hasFocus()||b(),window.addEventListener("focus",k),window.addEventListener("blur",b)),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",k),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var x={onMouseDown:g,onTouchStart:g,onMouseUp:y,onTouchEnd:y};return h&&d&&(x.onMouseEnter=b,x.onMouseLeave=k),m&&(x.onClick=function(e){v&&v(e),l.canCloseOnClick&&p()}),{playToast:k,pauseToast:b,isRunning:r,preventExitTransition:o,toastRef:u,eventHandlers:x}}(e),r=n.isRunning,i=n.preventExitTransition,a=n.toastRef,o=n.eventHandlers,s=e.closeButton,u=e.children,l=e.autoClose,f=e.onClick,h=e.type,d=e.hideProgressBar,p=e.closeToast,v=e.transition,m=e.position,g=e.className,y=e.style,k=e.bodyClassName,b=e.bodyStyle,w=e.progressClassName,_=e.progressStyle,x=e.updateId,E=e.role,I=e.progress,T=e.rtl,S=e.toastId,C=e.deleteToast,P=e.isIn,N=e.isLoading,A=e.icon,R=e.theme,O=_A("Toastify__toast","Toastify__toast-theme--"+R,"Toastify__toast--"+h,{"Toastify__toast--rtl":T}),D=CA(g)?g({rtl:T,position:m,type:h,defaultClassName:O}):_A(O,g),L=!!I,M=zA[h],F={theme:R,type:h},j=M&&M(F);return!1===A?j=void 0:CA(A)?j=A(F):t.isValidElement(A)?j=t.cloneElement(A,F):SA(A)?j=A:N&&(j=zA.spinner()),t.createElement(v,{isIn:P,done:C,position:m,preventExitTransition:i,nodeRef:a},t.createElement("div",ne(ne({id:S,onClick:f,className:D},o),{},{style:y,ref:a}),t.createElement("div",ne(ne({},P&&{role:E}),{},{className:CA(k)?k({type:h}):_A("Toastify__toast-body",k),style:b}),j&&t.createElement("div",{className:_A("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},j),t.createElement("div",null,u)),function(e){if(e){var n={closeToast:p,type:h,theme:R};return CA(e)?e(n):t.isValidElement(e)?t.cloneElement(e,n):void 0}}(s),(l||L)&&t.createElement(BA,ne(ne({},x&&!L?{key:"pb-"+x}:{}),{},{rtl:T,theme:R,delay:l,isRunning:r,isIn:P,closeToast:p,hide:d,type:h,style:_,className:w,controlledProgress:L,progress:I}))))},WA=DA({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),KA=(DA({enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0}),DA({enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"}),DA({enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"}),(0,t.forwardRef)((function(e,n){var r=FA(e),i=r.getToastToRender,a=r.containerRef,o=r.isToastActive,s=e.className,u=e.style,c=e.rtl,l=e.containerId;function f(e){var t=_A("Toastify__toast-container","Toastify__toast-container--"+e,{"Toastify__toast-container--rtl":c});return CA(s)?s({position:e,rtl:c,defaultClassName:t}):_A(t,PA(s))}return(0,t.useEffect)((function(){n&&(n.current=a.current)}),[]),t.createElement("div",{ref:a,className:"Toastify",id:l},i((function(e,n){var r=n.length?ne({},u):ne(ne({},u),{},{pointerEvents:"none"});return t.createElement("div",{className:f(e),style:r,key:"container-"+e},n.map((function(e,r){var i=e.content,a=e.props;return t.createElement(HA,ne(ne({},a),{},{isIn:o(a.toastId),style:{"--nth":r+1,"--len":n.length},key:"toast-"+a.key,closeButton:!0===a.closeButton?VA:a.closeButton}),i)})))})))})));KA.displayName="ToastContainer",KA.defaultProps={position:RA.TOP_RIGHT,transition:WA,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:VA,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var GA,QA=new Map,YA=[];function $A(){return Math.random().toString(36).substring(2,9)}function XA(e){return e&&(SA(e.toastId)||IA(e.toastId))?e.toastId:$A()}function JA(e,t){return QA.size>0?MA.emit(0,e,t):YA.push({content:e,options:t}),t.toastId}function ZA(e,t){return ne(ne({},t),{},{type:t&&t.type||e,toastId:XA(t)})}function eR(e){return function(t,n){return JA(t,ZA(e,n))}}function tR(e,t){return JA(e,ZA(OA.DEFAULT,t))}tR.loading=function(e,t){return JA(e,ZA(OA.DEFAULT,ne({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},tR.promise=function(e,t,n){var r,i=t.pending,a=t.error,o=t.success;i&&(r=SA(i)?tR.loading(i,n):tR.loading(i.render,ne(ne({},n),i)));var s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=function(e,t,i){if(null!=t){var a=ne(ne(ne({type:e},s),n),{},{data:i}),o=SA(t)?{render:t}:t;return r?tR.update(r,ne(ne({},a),o)):tR(o.render,ne(ne({},a),o)),i}tR.dismiss(r)},c=CA(e)?e():e;return c.then((function(e){return u("success",o,e)})).catch((function(e){return u("error",a,e)})),c},tR.success=eR(OA.SUCCESS),tR.info=eR(OA.INFO),tR.error=eR(OA.ERROR),tR.warning=eR(OA.WARNING),tR.warn=tR.warning,tR.dark=function(e,t){return JA(e,ZA(OA.DEFAULT,ne({theme:"dark"},t)))},tR.dismiss=function(e){return MA.emit(1,e)},tR.clearWaitingQueue=function(e){return void 0===e&&(e={}),MA.emit(5,e)},tR.isActive=function(e){var t=!1;return QA.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},tR.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=QA.get(n||GA);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,a=ne(ne(ne({},r),t),{},{toastId:t.toastId||e,updateId:$A()});a.toastId!==e&&(a.staleId=e);var o=a.render||i;delete a.render,JA(o,a)}}),0)},tR.done=function(e){tR.update(e,{progress:1})},tR.onChange=function(e){return MA.on(4,e),function(){MA.off(4,e)}},tR.POSITION=RA,tR.TYPE=OA,MA.on(2,(function(e){GA=e.containerId||e,QA.set(GA,e),YA.forEach((function(e){MA.emit(0,e.content,e.options)})),YA=[]})).on(3,(function(e){QA.delete(e.containerId||e),0===QA.size&&MA.off(0).off(1).off(5)}));var nR,rR=n(184),iR=function(e){var n=e.onChange,r=e.language,i=e.code,a=e.theme,o=c((0,t.useState)(i||""),2),s=o[0],u=o[1];return(0,rR.jsx)("div",{className:"overlay rounded-md overflow-hidden w-full h-full shadow-4xl",children:(0,rR.jsx)(_e,{height:"74vh",width:"100%",language:r||"c++",value:s,theme:a,defaultValue:"// some comment",onChange:function(e){u(e),n("code",e)}})})},aR=n(4569),oR=n.n(aR),sR=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ")},uR=[{id:76,name:"C++ (Clang 7.0.1)",label:"C++ (Clang 7.0.1)",value:"cpp"},{id:63,name:"JavaScript (Node.js 12.14.0)",label:"JavaScript (Node.js 12.14.0)",value:"javascript"},{id:45,name:"Assembly (NASM 2.14.02)",label:"Assembly (NASM 2.14.02)",value:"assembly"},{id:46,name:"Bash (5.0.0)",label:"Bash (5.0.0)",value:"bash"},{id:47,name:"Basic (FBC 1.07.1)",label:"Basic (FBC 1.07.1)",value:"basic"},{id:75,name:"C (Clang 7.0.1)",label:"C (Clang 7.0.1)",value:"c"},{id:48,name:"C (GCC 7.4.0)",label:"C (GCC 7.4.0)",value:"c"},{id:52,name:"C++ (GCC 7.4.0)",label:"C++ (GCC 7.4.0)",value:"cpp"},{id:49,name:"C (GCC 8.3.0)",label:"C (GCC 8.3.0)",value:"c"},{id:53,name:"C++ (GCC 8.3.0)",label:"C++ (GCC 8.3.0)",value:"cpp"},{id:50,name:"C (GCC 9.2.0)",label:"C (GCC 9.2.0)",value:"c"},{id:54,name:"C++ (GCC 9.2.0)",label:"C++ (GCC 9.2.0)",value:"cpp"},{id:86,name:"Clojure (1.10.1)",label:"Clojure (1.10.1)",value:"clojure"},{id:51,name:"C# (Mono 6.6.0.161)",label:"C# (Mono 6.6.0.161)",value:"csharp"},{id:77,name:"COBOL (GnuCOBOL 2.2)",label:"COBOL (GnuCOBOL 2.2)",value:"cobol"},{id:55,name:"Common Lisp (SBCL 2.0.0)",label:"Common Lisp (SBCL 2.0.0)",value:"lisp"},{id:56,name:"D (DMD 2.089.1)",label:"D (DMD 2.089.1)",value:"d"},{id:57,name:"Elixir (1.9.4)",label:"Elixir (1.9.4)",value:"elixir"},{id:58,name:"Erlang (OTP 22.2)",label:"Erlang (OTP 22.2)",value:"erlang"},{id:44,label:"Executable",name:"Executable",value:"exe"},{id:87,name:"F# (.NET Core SDK 3.1.202)",label:"F# (.NET Core SDK 3.1.202)",value:"fsharp"},{id:59,name:"Fortran (GFortran 9.2.0)",label:"Fortran (GFortran 9.2.0)",value:"fortran"},{id:60,name:"Go (1.13.5)",label:"Go (1.13.5)",value:"go"},{id:88,name:"Groovy (3.0.3)",label:"Groovy (3.0.3)",value:"groovy"},{id:61,name:"Haskell (GHC 8.8.1)",label:"Haskell (GHC 8.8.1)",value:"haskell"},{id:62,name:"Java (OpenJDK 13.0.1)",label:"Java (OpenJDK 13.0.1)",value:"java"},{id:78,name:"Kotlin (1.3.70)",label:"Kotlin (1.3.70)",value:"kotlin"},{id:64,name:"Lua (5.3.5)",label:"Lua (5.3.5)",value:"lua"},{id:79,name:"Objective-C (Clang 7.0.1)",label:"Objective-C (Clang 7.0.1)",value:"objectivec"},{id:65,name:"OCaml (4.09.0)",label:"OCaml (4.09.0)",value:"ocaml"},{id:66,name:"Octave (5.1.0)",label:"Octave (5.1.0)",value:"octave"},{id:67,name:"Pascal (FPC 3.0.4)",label:"Pascal (FPC 3.0.4)",value:"pascal"},{id:85,name:"Perl (5.28.1)",label:"Perl (5.28.1)",value:"perl"},{id:68,name:"PHP (7.4.1)",label:"PHP (7.4.1)",value:"php"},{id:43,label:"Plain Text",name:"Plain Text",value:"text"},{id:69,name:"Prolog (GNU Prolog 1.4.5)",label:"Prolog (GNU Prolog 1.4.5)",value:"prolog"},{id:70,name:"Python (2.7.17)",label:"Python (2.7.17)",value:"python"},{id:71,name:"Python (3.8.1)",label:"Python (3.8.1)",value:"python"},{id:80,name:"R (4.0.0)",label:"R (4.0.0)",value:"r"},{id:72,name:"Ruby (2.7.0)",label:"Ruby (2.7.0)",value:"ruby"},{id:73,name:"Rust (1.40.0)",label:"Rust (1.40.0)",value:"rust"},{id:81,name:"Scala (2.13.2)",label:"Scala (2.13.2)",value:"scala"},{id:82,name:"SQL (SQLite 3.27.2)",label:"SQL (SQLite 3.27.2)",value:"sql"},{id:83,name:"Swift (5.2.3)",label:"Swift (5.2.3)",value:"swift"},{id:74,name:"TypeScript (3.7.4)",label:"TypeScript (3.7.4)",value:"typescript"},{id:84,name:"Visual Basic.Net (vbnc 0.0.0.5943)",label:"Visual Basic.Net (vbnc 0.0.0.5943)",value:"vbnet"}],cR={active4d:"Active4D","all-hallows-eve":"All Hallows Eve",amy:"Amy","birds-of-paradise":"Birds of Paradise",blackboard:"Blackboard","brilliance-black":"Brilliance Black","brilliance-dull":"Brilliance Dull","chrome-devtools":"Chrome DevTools","clouds-midnight":"Clouds Midnight",clouds:"Clouds",cobalt:"Cobalt",dawn:"Dawn",dreamweaver:"Dreamweaver",eiffel:"Eiffel","espresso-libre":"Espresso Libre",github:"GitHub",idle:"IDLE",katzenmilch:"Katzenmilch","kuroir-theme":"Kuroir Theme",lazy:"LAZY","magicwb--amiga-":"MagicWB (Amiga)","merbivore-soft":"Merbivore Soft",merbivore:"Merbivore","monokai-bright":"Monokai Bright",monokai:"Monokai","night-owl":"Night Owl","oceanic-next":"Oceanic Next","pastels-on-dark":"Pastels on Dark","slush-and-poppies":"Slush and Poppies","solarized-dark":"Solarized-dark","solarized-light":"Solarized-light",spacecadet:"SpaceCadet",sunburst:"Sunburst","textmate--mac-classic-":"Textmate (Mac Classic)","tomorrow-night-blue":"Tomorrow-Night-Blue","tomorrow-night-bright":"Tomorrow-Night-Bright","tomorrow-night-eighties":"Tomorrow-Night-Eighties","tomorrow-night":"Tomorrow-Night",tomorrow:"Tomorrow",twilight:"Twilight","upstream-sunburst":"Upstream Sunburst","vibrant-ink":"Vibrant Ink","xcode-default":"Xcode_default",zenburnesque:"Zenburnesque",iplastic:"iPlastic",idlefingers:"idleFingers",krtheme:"krTheme",monoindustrial:"monoindustrial"},lR=function(e){return new Promise((function(t){Promise.all([Z.init(),n(7615)("./".concat(cR[e],".json"))]).then((function(n){var r=c(n,2),i=r[0],a=r[1];i.editor.defineTheme(e,a),t()}))}))},fR=function(e){var n=c((0,t.useState)(!1),2),r=n[0],i=n[1];function a(t){t.key===e&&i(!0)}var o=function(t){t.key===e&&i(!1)};return t.useEffect((function(){return document.addEventListener("keydown",a),document.addEventListener("keyup",o),function(){document.removeEventListener("keydown",a),document.removeEventListener("keyup",o)}})),r},hR=function(){return(0,rR.jsx)("footer",{className:"bg-gray-900 text-white py-10",children:(0,rR.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,rR.jsxs)("div",{className:"flex justify-between",children:[(0,rR.jsx)("p",{className:"text-sm font-medium",children:"Created by Ashish \xa9 2023"}),(0,rR.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,rR.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white transition duration-150 ease-in-out",children:"Project 1"}),(0,rR.jsx)("a",{href:"#",className:"text-gray-300 hover:text-white transition duration-150 ease-in-out",children:"Project 2"}),(0,rR.jsx)("a",{href:"https://github.com/<your-username>",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-white transition duration-150 ease-in-out",children:(0,rR.jsx)("svg",{className:"h-6 w-6 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,rR.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 0a12 12 0 00-3.819 23.358c.6.117.819-.261.819-.581 0-.29-.012-1.06-.018-2.08-3.338.725-4.042-1.609-4.042-1.609-.546-1.39-1.334-1.758-1.334-1.758-1.089-.745.084-.729.084-.729 1.204.084 1.838 1.237 1.838 1.237 1.07 1.835 2.807 1.305 3.493.998.109-.768.419-1.305.763-1.605-2.665-.306-5.466-1.332-5.466-5.93 0-1.313.465-2.386 1.235-3.222-.135-.306-.537-1.527.104-3.176 0 0 1.01-.324 3.3 1.23a11.567 11.567 0 013.006-.402c1.02 0 2.047.137 3.006.402 2.29-1.554 3.3-1.23 3.3-1.23.643 1.65.24 2.87.12 3.176.765.836 1.23 1.91 1.23 3.222 0 4.61-2.805 5.62-5.475 5.916.42.372.81 1.105.81 2.227 0 1.61-.015 2.907-.015 3.307 0 .32.21.7.825.58A12 12 0 0012 0"})})})]})]})})})},dR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},pR=t.createContext&&t.createContext(dR),vR=function(){return vR=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},vR.apply(this,arguments)},mR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function gR(e){return e&&e.map((function(e,n){return t.createElement(e.tag,vR({key:n},e.attr),gR(e.child))}))}function yR(e){return function(n){return t.createElement(kR,vR({attr:vR({},e.attr)},n),gR(e.child))}}function kR(e){var n=function(n){var r,i=e.attr,a=e.size,o=e.title,s=mR(e,["attr","size","title"]),u=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",vR({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:r,style:vR(vR({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==pR?t.createElement(pR.Consumer,null,(function(e){return n(e)})):n(dR)}function bR(e){return yR({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function wR(){return wR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wR.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(nR||(nR={}));var _R,xR="popstate";function ER(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function IR(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function TR(e,t){return{usr:e.state,key:e.key,idx:t}}function SR(e,t,n,r){return void 0===n&&(n=null),wR({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?PR(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function CR(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function PR(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function NR(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=nR.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=nR.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:CR(e);return ER(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(wR({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(xR,p),f=e,function(){o.removeEventListener(xR,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=nR.Push;var r=SR(m.location,e,t);n&&n(r,e);var i=TR(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(tD){o.location.assign(a)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=nR.Replace;var r=SR(m.location,e,t);n&&n(r,e);var i=TR(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(_R||(_R={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function AR(e,t,n){void 0===n&&(n="/");var r=VR(("string"===typeof t?PR(t):t).pathname||"/",n);if(null==r)return null;var i=RR(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=FR(i[o],UR(r));return a}function RR(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(ER(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=HR([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(ER(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),RR(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:MR(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=Ie(OR(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function OR(e){var t=e.split("/");if(0===t.length)return[];var n=qa(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=OR(i.join("/")),u=[];return u.push.apply(u,Ee(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&u.push.apply(u,Ee(s)),u.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var DR=/^:\w+$/,LR=function(e){return"*"===e};function MR(e,t){var n=e.split("/"),r=n.length;return n.some(LR)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!LR(e)})).reduce((function(e,t){return e+(DR.test(t)?3:""===t?1:10)}),r)}function FR(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=jR({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:HR([i,l.pathname]),pathnameBase:WR(HR([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=HR([i,l.pathnameBase]))}return a}function jR(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);IR("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(tD){return IR(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+tD+")."),e}}(l[n]||"",t),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function UR(e){try{return decodeURI(e)}catch(tD){return IR(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+tD+")."),e}}function VR(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function BR(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function qR(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function zR(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=PR(e):(ER(!(i=wR({},e)).pathname||!i.pathname.includes("?"),BR("?","pathname","search",i)),ER(!i.pathname||!i.pathname.includes("#"),BR("#","pathname","hash",i)),ER(!i.search||!i.search.includes("#"),BR("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?PR(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:KR(a),hash:GR(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var HR=function(e){return e.join("/").replace(/\/\/+/g,"/")},WR=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},KR=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},GR=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},QR=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n)}(je(Error));function YR(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var $R=["post","put","patch","delete"],XR=(new Set($R),["get"].concat($R));new Set(XR),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");function JR(){return JR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JR.apply(this,arguments)}var ZR=t.createContext(null);var eO=t.createContext(null);var tO=t.createContext(null);var nO=t.createContext(null);var rO=t.createContext(null);var iO=t.createContext({outlet:null,matches:[]});var aO=t.createContext(null);function oO(){return null!=t.useContext(rO)}function sO(){return oO()||ER(!1),t.useContext(rO).location}function uO(e){t.useContext(nO).static||t.useLayoutEffect(e)}function cO(){return null!=t.useContext(ZR)?function(){var e=kO(dO.UseNavigateStable).router,n=wO(pO.UseNavigateStable),r=t.useRef(!1);uO((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,JR({fromRouteId:n},i)))}),[e,n]);return i}():function(){oO()||ER(!1);var e=t.useContext(nO),n=e.basename,r=e.navigator,i=t.useContext(iO).matches,a=sO().pathname,o=JSON.stringify(qR(i).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);uO((function(){s.current=!0}));var u=t.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=zR(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:HR([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}()}function lO(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(iO).matches,a=sO().pathname,o=JSON.stringify(qR(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return zR(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function fO(e,n,r){oO()||ER(!1);var i,a=t.useContext(nO).navigator,o=t.useContext(iO).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,sO());if(n){var f,h="string"===typeof n?PR(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||ER(!1),i=h}else i=l;var d=i.pathname||"/",p=AR(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=yO(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:HR([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:HR([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(rO.Provider,{value:{location:JR({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:nR.Pop}},v):v}function hO(){var e=function(){var e,n=t.useContext(aO),r=bO(pO.UseRouteError),i=wO(pO.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=YR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var dO,pO,vO=t.createElement(hO,null),mO=function(e){Ae(r,e);var n=Me(r);function r(e){var t;return Te(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return Ce(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(iO.Provider,{value:this.props.routeContext},t.createElement(aO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function gO(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(ZR);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(iO.Provider,{value:n},i)}function yO(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,s=null==(i=r)?void 0:i.errors;if(null!=s){var u=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));u>=0||ER(!1),o=o.slice(0,Math.min(o.length,u+1))}return o.reduceRight((function(e,i,a){var u=i.route.id?null==s?void 0:s[i.route.id]:null,c=null;r&&(c=i.route.errorElement||vO);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=u?c:i.route.element?i.route.element:e,t.createElement(gO,{match:i,routeContext:{outlet:e,matches:l},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(mO,{location:r.location,revalidation:r.revalidation,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function kO(e){var n=t.useContext(ZR);return n||ER(!1),n}function bO(e){var n=t.useContext(eO);return n||ER(!1),n}function wO(e){var n=function(e){var n=t.useContext(iO);return n||ER(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||ER(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(dO||(dO={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(pO||(pO={}));var _O;function xO(e){ER(!1)}function EO(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?nR.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;oO()&&ER(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=PR(o));var p=o,v=p.pathname,m=void 0===v?"/":v,g=p.search,y=void 0===g?"":g,k=p.hash,b=void 0===k?"":k,w=p.state,_=void 0===w?null:w,x=p.key,E=void 0===x?"default":x,I=t.useMemo((function(){var e=VR(m,h);return null==e?null:{location:{pathname:e,search:y,hash:b,state:_,key:E},navigationType:u}}),[h,m,y,b,_,E,u]);return null==I?null:t.createElement(nO.Provider,{value:d},t.createElement(rO.Provider,{children:a,value:I}))}function IO(e){var t=e.children,n=e.location;return fO(SO(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(_O||(_O={}));var TO=new Promise((function(){}));t.Component;function SO(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat(Ee(n),[i]);if(e.type!==t.Fragment){e.type!==xO&&ER(!1),e.props.index&&e.props.children&&ER(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=SO(e.props.children,a)),r.push(o)}else r.push.apply(r,SO(e.props.children,a))}})),r}function CO(){return CO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CO.apply(this,arguments)}function PO(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var NO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function AO(e){var n=e.basename,r=e.children,i=e.window,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),NR((function(e,t){var n=e.location;return SR("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:CR(t)}),null,e)}({window:i,v5Compat:!0}));var o=a.current,s=c(t.useState({action:o.action,location:o.location}),2),u=s[0],l=s[1];return t.useLayoutEffect((function(){return o.listen(l)}),[o]),t.createElement(EO,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var RO="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,OO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DO=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,s=e.replace,u=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=PO(e,NO),d=t.useContext(nO).basename,p=!1;if("string"===typeof l&&OO.test(l)&&(r=l,RO))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),g=VR(m.pathname,d);m.origin===v.origin&&null!=g?l=g+m.search+m.hash:p=!0}catch(b){}var y=function(e,n){var r=(void 0===n?{}:n).relative;oO()||ER(!1);var i=t.useContext(nO),a=i.basename,o=i.navigator,s=lO(e,{relative:r}),u=s.hash,c=s.pathname,l=s.search,f=c;return"/"!==a&&(f="/"===c?a:HR([a,c])),o.createHref({pathname:f,search:l,hash:u})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=r.preventScrollReset,u=r.relative,c=cO(),l=sO(),f=lO(e,{relative:u});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:CR(l)===CR(f);c(e,{replace:n,state:o,preventScrollReset:s,relative:u})}}),[l,c,f,a,o,i,e,s,u])}(l,{replace:s,state:u,target:c,preventScrollReset:f,relative:a});return t.createElement("a",CO({},h,{href:r||y,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var LO,MO;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(LO||(LO={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(MO||(MO={}));var FO="@firebase/database",jO="0.14.4",UO="";function VO(e){UO=e}var BO=function(){function e(t){Te(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Ce(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yt(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:gt(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),qO=function(){function e(){Te(this,e),this.cache_={},this.isInMemoryStorage=!0}return Ce(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return bt(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),zO=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new BO(t)}}catch(n){}return new qO},HO=zO("localStorage"),WO=zO("sessionStorage"),KO=new Zt("@firebase/database"),GO=function(){var e=1;return function(){return e++}}(),QO=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,qe(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Pt;n.update(t);var r=n.digest();return We.encodeByteArray(r)},YO=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?yt(r):r,t+=" "}return t},$O=null,XO=!0,JO=function(e,t){qe(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(KO.logLevel=Kt.VERBOSE,$O=KO.log.bind(KO),t&&WO.set("logging_enabled",!0)):"function"===typeof e?$O=e:($O=null,WO.remove("logging_enabled"))},ZO=function(){if(!0===XO&&(XO=!1,null===$O&&!0===WO.get("logging_enabled")&&JO(!0)),$O){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=YO.apply(null,t);$O(r)}},eD=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];ZO.apply(void 0,[e].concat(n))}},tD=function(){var e="FIREBASE INTERNAL ERROR: "+YO.apply(void 0,arguments);KO.error(e)},nD=function(){var e="FIREBASE FATAL ERROR: ".concat(YO.apply(void 0,arguments));throw KO.error(e),new Error(e)},rD=function(){var e="FIREBASE WARNING: "+YO.apply(void 0,arguments);KO.warn(e)},iD=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},aD="[MIN_NAME]",oD="[MAX_NAME]",sD=function(e,t){if(e===t)return 0;if(e===aD||t===oD)return-1;if(t===aD||e===oD)return 1;var n=vD(e),r=vD(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},uD=function(e,t){return e===t?0:e<t?-1:1},cD=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+yt(t))},lD=function e(t){if("object"!==typeof t||null===t)return yt(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=yt(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},fD=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function hD(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var dD=function(e){qe(!iD(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var pD=new RegExp("^-?(0*)\\d{1,10}$"),vD=function(e){if(pD.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},mD=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw rD("Exception was thrown by user callback.",e),t}),Math.floor(0))}},gD=function(e,t){var n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n},yD=function(){function e(t,n){var r=this;Te(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Ce(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){rD('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),kD=function(){function e(t,n,r){var i=this;Te(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Ce(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(ZO("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rD(e)}}]),e}(),bD=function(){function e(t){Te(this,e),this.accessToken=t}return Ce(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();bD.OWNER="owner";var wD="5",_D=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xD="websocket",ED="long_polling",ID=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7];Te(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=HO.get("host:"+t)||this._host}return Ce(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&HO.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function TD(e,t,n){var r;if(qe("string"===typeof t,"typeof type must == string"),qe("object"===typeof n,"typeof params must == object"),t===xD)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ED)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return hD(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var SD=function(){function e(){Te(this,e),this.counters_={}}return Ce(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;bt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return $e(void 0,this.counters_)}}]),e}(),CD={},PD={};function ND(e){var t=e.toString();return CD[t]||(CD[t]=new SD),CD[t]}var AD=function(){function e(t){Te(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Ce(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&mD((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),RD="start",OD="close",DD=function(){function e(t,n,r,i,a,o,s){var u=this;Te(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=eD(t),this.stats_=ND(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),TD(n,ED,e)}}return Ce(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new AD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(lt()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new LD((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===RD)n.id=a,n.password=o;else{if(i!==OD)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=wD,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&_D.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=yt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Ge(t),r=fD(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!lt()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=yt(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!lt()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),LD=function(){function e(t,n,r,i){if(Te(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,lt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=GO(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){ZO("frame writing exception"),s.stack&&ZO(s.stack),ZO(s)}}}return Ce(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;lt()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){ZO("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||ZO("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),MD=null;"undefined"!==typeof MozWebSocket?MD=MozWebSocket:"undefined"!==typeof WebSocket&&(MD=WebSocket);var FD=function(){function e(t,n,r,i,a,o,s){Te(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=eD(this.connId),this.stats_=ND(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return Ce(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,HO.set("previous_websocket_failure",!0);try{var r;if(lt()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(wD,"/").concat(UO,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAjZL5xO-3zIfSVfgKQeYPzFE54radQraA",REACT_APP_FIREBASE_APP_ID:"1:411595774832:web:fa617c4a3fa63db0534db5",REACT_APP_FIREBASE_AUTH_DOMAIN:"code-editor-9b25e.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-GTBQDQYY14",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"411595774832",REACT_APP_FIREBASE_PROJECT_ID:"code-editor-9b25e",REACT_APP_FIREBASE_STORAGE_BUCKET:"code-editor-9b25e.appspot.com",REACT_APP_RAPID_API_HOST:"judge0-ce.p.rapidapi.com",REACT_APP_RAPID_API_KEY:"1ea3733832msh8457fd96877b0d5p142de3jsncfed73d317ad",REACT_APP_RAPID_API_URL:"https://judge0-ce.p.rapidapi.com/submissions"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new MD(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){HO.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=gt(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(qe(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=yt(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=fD(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=wD,!lt()&&"undefined"!==typeof location&&location.hostname&&_D.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),TD(e,xD,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==MD&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return HO.isInMemoryStorage||!0===HO.get("previous_websocket_failure")}}]),e}();FD.responsesRequiredToBeHealthy=2,FD.healthyTimeout=3e4;var jD=function(){function e(t){Te(this,e),this.initTransports_(t)}return Ce(e,[{key:"initTransports_",value:function(t){var n=FD&&FD.isAvailable(),r=n&&!FD.previouslyFailed();if(t.webSocketOnly&&(n||rD("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[FD];else{var i,a=this.transports_=[],o=Ie(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[DD,FD]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();jD.globalTransportInitialized_=!1;var UD=function(){function e(t,n,r,i,a,o,s,u,c,l){Te(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=eD("c:"+this.id+":"),this.transportManager_=new jD(n),this.log_("Connection created"),this.start_()}return Ce(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=gD((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=cD("t",e),n=cD("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=cD("t",e),n=cD("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=cD("t",e);if("d"in e){var n=e.d;if("h"===t){var r=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?tD("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tD("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),wD!==n&&rD("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gD((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gD((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(HO.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),VD=function(){function e(){Te(this,e)}return Ce(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),BD=function(){function e(t){Te(this,e),this.allowedEvents_=t,this.listeners_={},qe(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Ce(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Ee(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){qe(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),qD=function(e){Ae(n,e);var t=Me(n);function n(){var e;return Te(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||at()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Ce(n,[{key:"getInitialEvent",value:function(e){return qe("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(BD),zD=function(){function e(t,n){if(Te(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Ce(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function HD(){return new zD("")}function WD(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function KD(e){return e.pieces_.length-e.pieceNum_}function GD(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new zD(e.pieces_,t)}function QD(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function YD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function $D(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new zD(t,0)}function XD(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof zD)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new zD(n,0)}function JD(e){return e.pieceNum_>=e.pieces_.length}function ZD(e,t){var n=WD(e),r=WD(t);if(null===n)return t;if(n===r)return ZD(GD(e),GD(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function eL(e,t){for(var n=YD(e,0),r=YD(t,0),i=0;i<n.length&&i<r.length;i++){var a=sD(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function tL(e,t){if(KD(e)!==KD(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function nL(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(KD(e)>KD(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var rL=Ce((function e(t,n){Te(this,e),this.errorPrefix_=n,this.parts_=YD(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Ft(this.parts_[r]);iL(this)}));function iL(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+aL(e))}function aL(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var oL=function(e){Ae(n,e);var t=Me(n);function n(){var e,r,i;return Te(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Ce(n,[{key:"getInitialEvent",value:function(e){return qe("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(BD),sL=1e3,uL=function(e){Ae(n,e);var t=Me(n);function n(e,r,i,a,o,s,u,c){var l;if(Te(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=eD("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=sL,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!lt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return oL.getInstance().on("visible",l.onVisible_,Pe(l)),-1===e.host.indexOf("fblocal")&&qD.getInstance().on("online",l.onOnline_,Pe(l)),l}return Ce(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(yt(i)),qe(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new nt,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),qe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),qe(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=kt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=kt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),qe(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+yt(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):tD("Unrecognized action received from server: "+yt(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;qe(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sL,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sL,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sL),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=f(d().mark((function e(){var t,r,i,a,o,s,u,l,f,h,p,v,m,g,y=this;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},f=function(e){qe(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);case 19:p=e.sent,v=c(p,2),m=v[0],g=v[1],s?ZO("getToken() completed but was canceled"):(ZO("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,u=new UD(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){rD(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&rD(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){ZO("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){ZO("Resuming connection for reason: "+e),delete this.interruptReasons_[e],_t(this.interruptReasons_)&&(this.reconnectDelay_=sL,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return lD(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new zD(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){ZO("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){ZO("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Ie(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Ie(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";lt()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+UO.replace(/\./g,"-")]=1,at()?e["framework.cordova"]=1:ut()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=qD.getInstance().currentlyOnline();return _t(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&bt(e,"w")){var n=wt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();rD("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(VD);uL.nextPersistentConnectionId_=0,uL.nextConnectionId_=0;var cL,lL=function(){function e(t,n){Te(this,e),this.name=t,this.node=n}return Ce(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),fL=function(){function e(){Te(this,e)}return Ce(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new lL(aD,e),r=new lL(aD,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return lL.MIN}}]),e}(),hL=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"compare",value:function(e,t){return sD(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw ze("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return lL.MIN}},{key:"maxPost",value:function(){return new lL(oD,cL)}},{key:"makePost",value:function(e,t){return qe("string"===typeof e,"KeyIndex indexValue must always be a string."),new lL(e,cL)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return cL},set:function(e){cL=e}}]),n}(fL),dL=new hL,pL=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Te(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Ce(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),vL=function(){function e(t,n,r,i,a){Te(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:yL.EMPTY_NODE,this.right=null!=a?a:yL.EMPTY_NODE}return Ce(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return yL.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return yL.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();vL.RED=!0,vL.BLACK=!1;var mL,gL=function(){function e(){Te(this,e)}return Ce(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new vL(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),yL=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Te(this,e),this.comparator_=t,this.root_=n}return Ce(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,vL.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,vL.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new pL(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new pL(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new pL(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new pL(this.root_,null,this.comparator_,!0,e)}}]),e}();function kL(e,t){return sD(e.name,t.name)}function bL(e,t){return sD(e,t)}yL.EMPTY_NODE=new gL;var wL,_L,xL,EL=function(e){return"number"===typeof e?"number:"+dD(e):"string:"+e},IL=function(e){if(e.isLeafNode()){var t=e.val();qe("string"===typeof t||"number"===typeof t||"object"===typeof t&&bt(t,".sv"),"Priority must be a string or number.")}else qe(e===mL||e.isEmpty(),"priority of unexpected type.");qe(e===mL||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},TL=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Te(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,qe(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),IL(this.priorityNode_)}return Ce(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return JD(t)?this:".priority"===WD(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=WD(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(qe(".priority"!==r||1===KD(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(GD(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+EL(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?dD(this.value_):this.value_,this.lazyHash_=QO(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(qe(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return qe(i>=0,"Unknown leaf type: "+n),qe(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return wL},set:function(e){wL=e}}]),e}();TL.VALUE_TYPE_ORDER=["object","boolean","number","string"];var SL,CL,PL=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?sD(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return lL.MIN}},{key:"maxPost",value:function(){return new lL(oD,new TL("[PRIORITY-POST]",xL))}},{key:"makePost",value:function(e,t){var n=_L(e);return new lL(t,new TL("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(fL),NL=new PL,AL=Math.log(2),RL=function(){function e(t){Te(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/AL,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Ce(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),OL=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new vL(o,a.node,vL.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new vL(o,a.node,vL.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new vL(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,vL.BLACK):(s(f,vL.BLACK),s(f,vL.RED))}return a}(new RL(e.length));return new yL(r||t,a)},DL={},LL=function(){function e(t,n){Te(this,e),this.indexes_=t,this.indexSet_=n}return Ce(e,[{key:"get",value:function(e){var t=wt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof yL?t:null}},{key:"hasIndex",value:function(e){return bt(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){qe(t!==dL,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(lL.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?OL(i,t.getCompare()):DL;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this,i=xt(this.indexes_,(function(e,i){var a=wt(r.indexSet_,i);if(qe(a,"Missing index implementation for "+i),e===DL){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(lL.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),OL(o,a.getCompare())}return DL}var c=n.get(t.name),l=e;return c&&(l=l.remove(new lL(t.name,c))),l.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(xt(this.indexes_,(function(e){if(e===DL)return e;var r=n.get(t.name);return r?e.remove(new lL(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return qe(DL&&NL,"ChildrenNode.ts has not been loaded"),SL=SL||new e({".priority":DL},{".priority":NL})}}]),e}(),ML=function(){function e(t,n,r){Te(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&IL(this.priorityNode_),this.children_.isEmpty()&&qe(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Ce(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||CL}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?CL:t}},{key:"getChild",value:function(e){var t=WD(e);return null===t?this:this.getImmediateChild(t).getChild(GD(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(qe(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new lL(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?CL:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=WD(e);if(null===n)return t;qe(".priority"!==WD(e)||1===KD(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(GD(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(NL,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+EL(this.getPriority().val())+":"),this.forEachChild(NL,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":QO(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new lL(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new lL(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new lL(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,lL.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,lL.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===FL?-1:0}},{key:"withIndex",value:function(t){if(t===dL||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===dL||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(NL),r=t.getIterator(NL),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===dL?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return CL||(CL=new e(new yL(bL),null,LL.Default))}}]),e}();ML.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var FL=new(function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.call(this,new yL(bL),ML.EMPTY_NODE,LL.Default)}return Ce(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return ML.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(ML));Object.defineProperties(lL,{MIN:{value:new lL(aD,ML.EMPTY_NODE)},MAX:{value:new lL(oD,FL)}}),hL.__EMPTY_NODE=ML.EMPTY_NODE,TL.__childrenNodeConstructor=ML,mL=FL,function(e){xL=e}(FL);function jL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return ML.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),qe(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new TL(n,jL(t))}if(e instanceof Array){var r=ML.EMPTY_NODE;return hD(e,(function(t,n){if(bt(e,t)&&"."!==t.substring(0,1)){var i=jL(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(jL(t))}var i=[],a=!1,o=e;if(hD(o,(function(e,t){if("."!==e.substring(0,1)){var n=jL(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new lL(e,n)))}})),0===i.length)return ML.EMPTY_NODE;var s=OL(i,kL,(function(e){return e.name}),bL);if(a){var u=OL(i,NL.getCompare());return new ML(s,jL(t),new LL({".priority":u},{".priority":NL}))}return new ML(s,jL(t),LL.Default)}!function(e){_L=e}(jL);var UL=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this)).indexPath_=e,qe(!JD(e)&&".priority"!==WD(e),"Can't create PathIndex with empty path or .priority key"),r}return Ce(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?sD(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=jL(e),r=ML.EMPTY_NODE.updateChild(this.indexPath_,n);return new lL(t,r)}},{key:"maxPost",value:function(){var e=ML.EMPTY_NODE.updateChild(this.indexPath_,FL);return new lL(oD,e)}},{key:"toString",value:function(){return YD(this.indexPath_,0).join("/")}}]),n}(fL),VL=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?sD(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return lL.MIN}},{key:"maxPost",value:function(){return lL.MAX}},{key:"makePost",value:function(e,t){var n=jL(e);return new lL(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(fL),BL=new VL;function qL(e){return{type:"value",snapshotNode:e}}function zL(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function HL(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function WL(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var KL=function(){function e(t){Te(this,e),this.index_=t}return Ce(e,[{key:"updateChild",value:function(e,t,n,r,i,a){qe(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(HL(t,o)):qe(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(zL(t,n)):a.trackChildChange(WL(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(NL,(function(e,r){t.hasChild(e)||n.trackChildChange(HL(e,r))})),t.isLeafNode()||t.forEachChild(NL,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(WL(t,r,i))}else n.trackChildChange(zL(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?ML.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),GL=function(){function e(t){Te(this,e),this.indexedFilter_=new KL(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return Ce(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){var t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new lL(t,n))||(n=ML.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=ML.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ML.EMPTY_NODE);var i=this;return t.forEachChild(NL,(function(e,t){i.matches(new lL(e,t))||(r=r.updateImmediateChild(e,ML.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),QL=function(){function e(t){var n=this;Te(this,e),this.withinDirectionalStart=function(e){return n.reverse_?n.withinEndPost(e):n.withinStartPost(e)},this.withinDirectionalEnd=function(e){return n.reverse_?n.withinStartPost(e):n.withinEndPost(e)},this.withinStartPost=function(e){var t=n.index_.compare(n.rangedFilter_.getStartPost(),e);return n.startIsInclusive_?t<=0:t<0},this.withinEndPost=function(e){var t=n.index_.compare(e,n.rangedFilter_.getEndPost());return n.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new GL(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}return Ce(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new lL(t,n))||(n=ML.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ML.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=ML.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(this.withinDirectionalStart(o)){if(!this.withinDirectionalEnd(o))break;r=r.updateImmediateChild(o.name,o.node),a++}}}else{var s;r=(r=t.withIndex(this.index_)).updatePriority(ML.EMPTY_NODE),s=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);for(var u=0;s.hasNext();){var c=s.getNext();u<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?u++:r=r.updateImmediateChild(c.name,ML.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;qe(s.numChildren()===this.limit_,"");var u=new lL(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:a(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(WL(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(HL(t,f));var p=s.updateImmediateChild(t,ML.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(zL(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(HL(c.name,c.node)),i.trackChildChange(zL(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,ML.EMPTY_NODE)):e}}]),e}(),YL=function(){function e(){Te(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=NL}return Ce(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return qe(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return qe(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:aD}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return qe(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return qe(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:oD}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return qe(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===NL}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function $L(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function XL(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function JL(e,t){var n=e.copy();return n.index_=t,n}function ZL(e){var t,n={};if(e.isDefault())return n;if(e.index_===NL?t="$priority":e.index_===BL?t="$value":e.index_===dL?t="$key":(qe(e.index_ instanceof UL,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=yt(t),e.startSet_){var r=e.startAfterSet_?"startAfter":"startAt";n[r]=yt(e.indexStartValue_),e.startNameSet_&&(n[r]+=","+yt(e.indexStartName_))}if(e.endSet_){var i=e.endBeforeSet_?"endBefore":"endAt";n[i]=yt(e.indexEndValue_),e.endNameSet_&&(n[i]+=","+yt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function eM(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==NL&&(t.i=e.index_.toString()),t}var tM=function(e){Ae(n,e);var t=Me(n);function n(e,r,i,a){var o;return Te(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=eD("p:rest:"),o.listens_={},o}return Ce(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=ZL(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),wt(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=ZL(e._queryParams),r=e._path.toString(),i=new nt;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=c(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Tt(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=gt(l.responseText)}catch(n){rD("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&rD("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(qe(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(VD),nM=function(){function e(){Te(this,e),this.rootNode_=ML.EMPTY_NODE}return Ce(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function rM(){return{value:null,children:new Map}}function iM(e,t,n){if(JD(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=WD(t);e.children.has(r)||e.children.set(r,rM()),iM(e.children.get(r),t=GD(t),n)}}function aM(e,t){if(JD(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(NL,(function(t,n){iM(e,new zD(t),n)})),aM(e,t)}if(e.children.size>0){var r=WD(t);if(t=GD(t),e.children.has(r))aM(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function oM(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){oM(r,new zD(t.toString()+"/"+e),n)}))}var sM,uM=function(){function e(t){Te(this,e),this.collection_=t,this.last_=null}return Ce(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&hD(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),cM=function(){function e(t,n){Te(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new uM(t);var r=1e4+2e4*Math.random();gD(this.reportStats_.bind(this),Math.floor(r))}return Ce(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;hD(t,(function(t,i){i>0&&bt(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),gD(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function lM(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(sM||(sM={}));var fM,hM=function(){function e(t,n,r){Te(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=sM.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Ce(e,[{key:"operationForChild",value:function(t){if(JD(this.path)){if(null!=this.affectedTree.value)return qe(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new zD(t));return new e(HD(),n,this.revert)}return qe(WD(this.path)===t,"operationForChild called for unrelated child."),new e(GD(this.path),this.affectedTree,this.revert)}}]),e}(),dM=function(){function e(t,n){Te(this,e),this.source=t,this.path=n,this.type=sM.LISTEN_COMPLETE}return Ce(e,[{key:"operationForChild",value:function(t){return JD(this.path)?new e(this.source,HD()):new e(this.source,GD(this.path))}}]),e}(),pM=function(){function e(t,n,r){Te(this,e),this.source=t,this.path=n,this.snap=r,this.type=sM.OVERWRITE}return Ce(e,[{key:"operationForChild",value:function(t){return JD(this.path)?new e(this.source,HD(),this.snap.getImmediateChild(t)):new e(this.source,GD(this.path),this.snap)}}]),e}(),vM=function(){function e(t,n,r){Te(this,e),this.source=t,this.path=n,this.children=r,this.type=sM.MERGE}return Ce(e,[{key:"operationForChild",value:function(t){if(JD(this.path)){var n=this.children.subtree(new zD(t));return n.isEmpty()?null:n.value?new pM(this.source,HD(),n.value):new e(this.source,HD(),n)}return qe(WD(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,GD(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),mM=function(){function e(t,n,r){Te(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Ce(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(JD(e))return this.isFullyInitialized()&&!this.filtered_;var t=WD(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),gM=Ce((function e(t){Te(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function yM(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw ze("Should only compare child_ events.");var r=new lL(t.childName,t.snapshotNode),i=new lL(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function kM(e,t){return{eventCache:e,serverCache:t}}function bM(e,t,n,r){return kM(new mM(t,n,r),e.serverCache)}function wM(e,t,n,r){return kM(e.eventCache,new mM(t,n,r))}function _M(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function xM(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var EM=function(){return fM||(fM=new yL(uD)),fM},IM=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EM();Te(this,e),this.value=t,this.children=n}return Ce(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:HD(),value:this.value};if(JD(e))return null;var n=WD(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(GD(e),t);return null!=i?{path:XD(new zD(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(JD(t))return this;var n=WD(t),r=this.children.get(n);return null!==r?r.subtree(GD(t)):new e(null)}},{key:"set",value:function(t,n){if(JD(t))return new e(n,this.children);var r=WD(t),i=(this.children.get(r)||new e(null)).set(GD(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(JD(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=WD(t),r=this.children.get(n);if(r){var i,a=r.remove(GD(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(JD(e))return this.value;var t=WD(e),n=this.children.get(t);return n?n.get(GD(e)):null}},{key:"setTree",value:function(t,n){if(JD(t))return n;var r,i=WD(t),a=(this.children.get(i)||new e(null)).setTree(GD(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(HD(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(XD(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,HD(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(JD(e))return null;var i=WD(e),a=this.children.get(i);return a?a.findOnPath_(GD(e),XD(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,HD(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(JD(t))return this;this.value&&r(n,this.value);var i=WD(t),a=this.children.get(i);return a?a.foreachOnPath_(GD(t),XD(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(HD(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(XD(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return hD(t,(function(e,t){n=n.set(new zD(e),t)})),n}}]),e}(),TM=function(){function e(t){Te(this,e),this.writeTree_=t}return Ce(e,null,[{key:"empty",value:function(){return new e(new IM(null))}}]),e}();function SM(e,t,n){if(JD(t))return new TM(new IM(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=ZD(i,t);return a=a.updateChild(o,n),new TM(e.writeTree_.set(i,a))}var s=new IM(n),u=e.writeTree_.setTree(t,s);return new TM(u)}function CM(e,t,n){var r=e;return hD(n,(function(e,n){r=SM(r,XD(t,e),n)})),r}function PM(e,t){if(JD(t))return TM.empty();var n=e.writeTree_.setTree(t,new IM(null));return new TM(n)}function NM(e,t){return null!=AM(e,t)}function AM(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ZD(n.path,t)):null}function RM(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(NL,(function(e,n){t.push(new lL(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new lL(e,n.value))})),t}function OM(e,t){if(JD(t))return e;var n=AM(e,t);return new TM(null!=n?new IM(n):e.writeTree_.subtree(t))}function DM(e){return e.writeTree_.isEmpty()}function LM(e,t){return MM(HD(),e.writeTree_,t)}function MM(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(qe(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=MM(XD(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(XD(e,".priority"),r)),n}function FM(e,t){return XM(t,e)}function jM(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function UM(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));qe(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&VM(s,r.path)?i=!1:nL(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=qM(e.allWrites,BM,HD()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=PM(e.visibleWrites,r.path):hD(r.children,(function(t){e.visibleWrites=PM(e.visibleWrites,XD(r.path,t))}));return!0}return!1}function VM(e,t){if(e.snap)return nL(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&nL(XD(e.path,n),t))return!0;return!1}function BM(e){return e.visible}function qM(e,t,n){for(var r=TM.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)nL(n,o)?r=SM(r,s=ZD(n,o),a.snap):nL(o,n)&&(s=ZD(o,n),r=SM(r,HD(),a.snap.getChild(s)));else{if(!a.children)throw ze("WriteRecord should have .snap or .children");if(nL(n,o))r=CM(r,s=ZD(n,o),a.children);else if(nL(o,n))if(JD(s=ZD(o,n)))r=CM(r,HD(),a.children);else{var u=wt(a.children,WD(s));if(u){var c=u.getChild(GD(s));r=SM(r,HD(),c)}}}}}return r}function zM(e,t,n,r,i){if(r||i){var a=OM(e.visibleWrites,t);if(!i&&DM(a))return n;if(i||null!=n||NM(a,HD())){return LM(qM(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(nL(e.path,t)||nL(t,e.path))}),t),n||ML.EMPTY_NODE)}return null}var o=AM(e.visibleWrites,t);if(null!=o)return o;var s=OM(e.visibleWrites,t);return DM(s)?n:null!=n||NM(s,HD())?LM(s,n||ML.EMPTY_NODE):null}function HM(e,t,n,r){return zM(e.writeTree,e.treePath,t,n,r)}function WM(e,t){return function(e,t,n){var r=ML.EMPTY_NODE,i=AM(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(NL,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=OM(e.visibleWrites,t);return n.forEachChild(NL,(function(e,t){var n=LM(OM(a,new zD(e)),t);r=r.updateImmediateChild(e,n)})),RM(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return RM(OM(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function KM(e,t,n,r){return function(e,t,n,r,i){qe(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=XD(t,n);if(NM(e.visibleWrites,a))return null;var o=OM(e.visibleWrites,a);return DM(o)?i.getChild(n):LM(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function GM(e,t){return function(e,t){return AM(e.visibleWrites,t)}(e.writeTree,XD(e.treePath,t))}function QM(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=OM(e.visibleWrites,t),c=AM(u,HD());if(null!=c)s=c;else{if(null==n)return[];s=LM(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function YM(e,t,n){return function(e,t,n,r){var i=XD(t,n),a=AM(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?LM(OM(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function $M(e,t){return XM(XD(e.treePath,t),e.writeTree)}function XM(e,t){return{treePath:e,writeTree:t}}var JM=function(){function e(){Te(this,e),this.changeMap=new Map}return Ce(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;qe("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),qe(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,WL(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,HL(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,zL(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ze("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,WL(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),ZM=new(function(){function e(){Te(this,e)}return Ce(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),eF=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Te(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Ce(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new mM(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return YM(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:xM(this.viewCache_),i=QM(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function tF(e,t,n,r,i){var a,o,s=new JM;if(n.type===sM.OVERWRITE){var u=n;u.source.fromUser?a=iF(e,t,u.path,u.snap,r,i,s):(qe(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!JD(u.path),a=rF(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===sM.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=XD(n,r);aF(t,WD(c))&&(s=iF(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=XD(n,r);aF(t,WD(c))||(s=iF(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(qe(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=sF(e,t,c.path,c.children,r,i,o,s))}else if(n.type===sM.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=GM(r,n))return t;var s,u=new eF(r,t,i),c=t.eventCache.getNode();if(JD(n)||".priority"===WD(n)){var l;if(t.serverCache.isFullyInitialized())l=HM(r,xM(t));else{var f=t.serverCache.getNode();qe(f instanceof ML,"serverChildren would be complete if leaf node"),l=WM(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=WD(n),d=YM(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,GD(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,ML.EMPTY_NODE,GD(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=HM(r,xM(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=GM(r,HD()),bM(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=GM(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(JD(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return rF(e,t,n,u.getNode().getChild(n),i,a,s,o);if(JD(n)){var c=new IM(null);return u.getNode().forEachChild(dL,(function(e,t){c=c.set(new zD(e),t)})),sF(e,t,n,c,i,a,s,o)}return t}var l=new IM(null);return r.foreach((function(e,t){var r=XD(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),sF(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==sM.LISTEN_COMPLETE)throw ze("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=wM(t,a.getNode(),a.isFullyInitialized()||JD(n),a.isFiltered());return nF(e,o,n,r,ZM,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=_M(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(qL(_M(t)))}}(t,a,f),{viewCache:a,changes:f}}function nF(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=GM(r,n))return t;if(JD(n))if(qe(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=xM(t),l=WM(r,c instanceof ML?c:ML.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=HM(r,xM(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=WD(n);if(".priority"===h){qe(1===KD(n),"Can't have a priority with additional path components");var d=u.getNode(),p=KM(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=GD(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var g=KM(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(h).updateChild(m,g):u.getNode().getImmediateChild(h)}else v=YM(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,m,i,a):u.getNode()}}return bM(t,o,u.isFullyInitialized()||JD(n),e.filter.filtersNodes())}function rF(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(JD(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=WD(n);if(!c.isCompleteForPath(n)&&KD(n)>1)return t;var d=GD(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,ZM,null)}var v=wM(t,u,c.isFullyInitialized()||JD(n),l.filtersNodes());return nF(e,v,n,i,new eF(i,v,a),s)}function iF(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new eF(i,t,a);if(JD(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=bM(t,u,!0,e.filter.filtersNodes());else{var f=WD(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=bM(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=GD(n),p=c.getNode().getImmediateChild(f);if(JD(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===QD(d)&&v.getChild($D(d)).isEmpty()?v:v.updateChild(d,r):ML.EMPTY_NODE}if(p.equals(h))s=t;else s=bM(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function aF(e,t){return e.eventCache.isCompleteForChild(t)}function oF(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function sF(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=JD(n)?r:new IM(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=oF(0,t.serverCache.getNode().getImmediateChild(n),r);c=rF(e,c,new zD(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!l.hasChild(n)&&!u){var f=oF(0,t.serverCache.getNode().getImmediateChild(n),r);c=rF(e,c,new zD(n),f,i,a,o,s)}})),c}var uF,cF=function(){function e(t,n){Te(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new KL(i.getIndex()),o=(r=i).loadsAllData()?new KL(r.getIndex()):r.hasLimit()?new QL(r):new GL(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(ML.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(ML.EMPTY_NODE,u.getNode(),null),f=new mM(c,s.isFullyInitialized(),a.filtersNodes()),h=new mM(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=kM(h,f),this.eventGenerator_=new gM(this.query_)}return Ce(e,[{key:"query",get:function(){return this.query_}}]),e}();function lF(e,t){var n=xM(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!JD(t)&&!n.getImmediateChild(WD(t)).isEmpty())?n.getChild(t):null}function fF(e){return 0===e.eventRegistrations_.length}function hF(e,t,n){var r=[];if(n){qe(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function dF(e,t,n,r){t.type===sM.MERGE&&null!==t.source.queryId&&(qe(xM(e.viewCache_),"We should always have a full cache before handling merges"),qe(_M(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=tF(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,qe(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),qe(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),qe(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,pF(e,s.changes,s.viewCache.eventCache.getNode(),null)}function pF(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),yM(e,i,"child_removed",t,r,n),yM(e,i,"child_added",t,r,n),yM(e,i,"child_moved",a,r,n),yM(e,i,"child_changed",t,r,n),yM(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var vF,mF=Ce((function e(){Te(this,e),this.views=new Map}));function gF(e){return 0===e.views.size}function yF(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return qe(null!=a,"SyncTree gave us an op for an invalid query."),dF(a,t,n,r)}var o,s=[],u=Ie(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(dF(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function kF(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=HM(n,i?r:null),u=!1;s?u=!0:r instanceof ML?(s=WM(n,r),u=!1):(s=ML.EMPTY_NODE,u=!1);var c=kM(new mM(s,u,!1),new mM(r,i,!1));return new cF(t,c)}return o}function bF(e,t,n,r,i,a){var o=kF(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(NL,(function(e,t){r.push(zL(e,t))})),n.isFullyInitialized()&&r.push(qL(n.getNode())),pF(e,r,n.getNode(),t)}(o,n)}function wF(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=TF(e);if("default"===i){var u,l=Ie(e.views.entries());try{for(l.s();!(u=l.n()).done;){var f=c(u.value,2),h=f[0],d=f[1];o=o.concat(hF(d,n,r)),fF(d)&&(e.views.delete(h),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(hF(p,n,r)),fF(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!TF(e)&&a.push(new(qe(uF,"Reference.ts has not been loaded"),uF)(t._repo,t._path)),{removed:a,events:o}}function _F(e){var t,n=[],r=Ie(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function xF(e,t){var n,r=null,i=Ie(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||lF(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function EF(e,t){if(t._queryParams.loadsAllData())return SF(e);var n=t._queryIdentifier;return e.views.get(n)}function IF(e,t){return null!=EF(e,t)}function TF(e){return null!=SF(e)}function SF(e){var t,n=Ie(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var CF=1,PF=Ce((function e(t){Te(this,e),this.listenProvider_=t,this.syncPointTree_=new IM(null),this.pendingWriteTree_={visibleWrites:TM.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function NF(e,t,n,r,i){return function(e,t,n,r,i){qe(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=SM(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?UF(e,new pM({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function AF(e,t,n,r){!function(e,t,n,r){qe(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=CM(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=IM.fromObject(n);return UF(e,new vM({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function RF(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=jM(e.pendingWriteTree_,t),i=UM(e.pendingWriteTree_,t);if(i){var a=new IM(null);return null!=r.snap?a=a.set(HD(),!0):hD(r.children,(function(e){a=a.set(new zD(e),!0)})),UF(e,new hM(r.path,a,n))}return[]}function OF(e,t,n){return UF(e,new pM({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function DF(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t._path,o=e.syncPointTree_.get(a),s=[];if(o&&("default"===t._queryIdentifier||IF(o,t))){var u=wF(o,t,n,r);gF(o)&&(e.syncPointTree_=e.syncPointTree_.remove(a));var c=u.removed;if(s=u.events,!i){var l=-1!==c.findIndex((function(e){return e._queryParams.loadsAllData()})),f=e.syncPointTree_.findOnPath(a,(function(e,t){return TF(t)}));if(l&&!f){var h=e.syncPointTree_.subtree(a);if(!h.isEmpty())for(var d=QF(h),p=0;p<d.length;++p){var v=d[p],m=v.query,g=qF(e,v);e.listenProvider_.startListening(YF(m),zF(e,m),g.hashFn,g.onComplete)}}if(!f&&c.length>0&&!r)if(l){var y=null;e.listenProvider_.stopListening(YF(t),y)}else c.forEach((function(t){var n=e.queryToTagMap.get(HF(t));e.listenProvider_.stopListening(YF(t),n)}))}$F(e,c)}return s}function LF(e,t,n,r){var i=WF(e,r);if(null!=i){var a=KF(i),o=a.path,s=a.queryId,u=ZD(o,t);return GF(e,o,new pM(lM(s),u,n))}return[]}function MF(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(i,(function(e,t){var n=ZD(e,i);a=a||xF(t,n),o=o||TF(t)}));var s,u=e.syncPointTree_.get(i);if(u?(o=o||TF(u),a=a||xF(u,HD())):(u=new mF,e.syncPointTree_=e.syncPointTree_.set(i,u)),null!=a)s=!0;else{s=!1,a=ML.EMPTY_NODE;var c=e.syncPointTree_.subtree(i);c.foreachChild((function(e,t){var n=xF(t,HD());n&&(a=a.updateImmediateChild(e,n))}))}var l=IF(u,t);if(!l&&!t._queryParams.loadsAllData()){var f=HF(t);qe(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=XF();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}var d=FM(e.pendingWriteTree_,i),p=bF(u,t,n,d,a,s);if(!l&&!o&&!r){var v=EF(u,t);p=p.concat(JF(e,t,v))}return p}function FF(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=xF(n,ZD(e,t));if(r)return r}));return zM(r,t,i,n,!0)}function jF(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=ZD(e,n);r=r||xF(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||xF(i,HD()):(i=new mF,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new mM(r,!0,!1):null;return function(e){return _M(e.viewCache_)}(kF(i,t,FM(e.pendingWriteTree_,t._path),a?o.getNode():ML.EMPTY_NODE,a))}function UF(e,t){return VF(t,e.syncPointTree_,null,FM(e.pendingWriteTree_,HD()))}function VF(e,t,n,r){if(JD(e.path))return BF(e,t,n,r);var i=t.get(HD());null==n&&null!=i&&(n=xF(i,HD()));var a=[],o=WD(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=$M(r,o);a=a.concat(VF(s,u,c,l))}return i&&(a=a.concat(yF(i,e,r,n))),a}function BF(e,t,n,r){var i=t.get(HD());null==n&&null!=i&&(n=xF(i,HD()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=$M(r,t),u=e.operationForChild(t);u&&(a=a.concat(BF(u,i,o,s)))})),i&&(a=a.concat(yF(i,e,r,n))),a}function qF(e,t){var n=t.query,r=zF(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ML.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=WF(e,n);if(r){var i=KF(r),a=i.path,o=i.queryId,s=ZD(a,t);return GF(e,a,new dM(lM(o),s))}return[]}(e,n._path,r):function(e,t){return UF(e,new dM({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return DF(e,n,null,i)}}}function zF(e,t){var n=HF(t);return e.queryToTagMap.get(n)}function HF(e){return e._path.toString()+"$"+e._queryIdentifier}function WF(e,t){return e.tagToQueryMap.get(t)}function KF(e){var t=e.indexOf("$");return qe(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new zD(e.substr(0,t))}}function GF(e,t,n){var r=e.syncPointTree_.get(t);return qe(r,"Missing sync point for query tag that we're tracking"),yF(r,n,FM(e.pendingWriteTree_,t),null)}function QF(e){return e.fold((function(e,t,n){if(t&&TF(t))return[SF(t)];var r=[];return t&&(r=_F(t)),hD(n,(function(e,t){r=r.concat(t)})),r}))}function YF(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(qe(vF,"Reference.ts has not been loaded"),vF)(e._repo,e._path):e}function $F(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=HF(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}function XF(){return CF++}function JF(e,t,n){var r=t._path,i=zF(e,t),a=qF(e,n),o=e.listenProvider_.startListening(YF(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)qe(!TF(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!JD(e)&&t&&TF(t))return[SF(t).query];var r=[];return t&&(r=r.concat(_F(t).map((function(e){return e.query})))),hD(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(YF(l),zF(e,l))}return o}var ZF=function(){function e(t){Te(this,e),this.node_=t}return Ce(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),ej=function(){function e(t,n){Te(this,e),this.syncTree_=t,this.path_=n}return Ce(e,[{key:"getImmediateChild",value:function(t){var n=XD(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return FF(this.syncTree_,this.path_)}}]),e}(),tj=function(e,t,n){return e&&"object"===typeof e?(qe(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?nj(e[".sv"],t,n):"object"===typeof e[".sv"]?rj(e[".sv"],t):void qe(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},nj=function(e,t,n){if("timestamp"===e)return n.timestamp;qe(!1,"Unexpected server value: "+e)},rj=function(e,t,n){e.hasOwnProperty("increment")||qe(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&qe(!1,"Unexpected increment value: "+r);var i=t.node();if(qe(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},ij=function(e,t,n,r){return oj(t,new ej(n,e),r)},aj=function(e,t,n){return oj(e,new ZF(t),n)};function oj(e,t,n){var r,i=e.getPriority().val(),a=tj(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=tj(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new TL(s,jL(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new TL(a))),u.forEachChild(NL,(function(e,i){var a=oj(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var sj=Ce((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Te(this,e),this.name=t,this.parent=n,this.node=r}));function uj(e,t){for(var n=t instanceof zD?t:new zD(t),r=e,i=WD(n);null!==i;){var a=wt(r.node.children,i)||{children:{},childCount:0};r=new sj(i,r,a),i=WD(n=GD(n))}return r}function cj(e){return e.node.value}function lj(e,t){e.node.value=t,vj(e)}function fj(e){return e.node.childCount>0}function hj(e,t){hD(e.node.children,(function(n,r){t(new sj(n,e,r))}))}function dj(e,t,n,r){n&&!r&&t(e),hj(e,(function(e){dj(e,t,!0,r)})),n&&r&&t(e)}function pj(e){return new zD(null===e.parent?e.name:pj(e.parent)+"/"+e.name)}function vj(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===cj(e)&&!fj(e)}(n),i=bt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,vj(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,vj(e))}(e.parent,e.name,e)}var mj=/[\[\].#$\/\u0000-\u001F\u007F]/,gj=/[\[\].#$\u0000-\u001F\u007F]/,yj=10485760,kj=function(e){return"string"===typeof e&&0!==e.length&&!mj.test(e)},bj=function(e){return"string"===typeof e&&0!==e.length&&!gj.test(e)},wj=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!iD(e)||e&&"object"===typeof e&&bt(e,".sv")},_j=function(e,t,n,r){r&&void 0===t||xj(Dt(e,"value"),t,n)},xj=function e(t,n,r){var i=r instanceof zD?new rL(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+aL(i));if("function"===typeof n)throw new Error(t+"contains a function "+aL(i)+" with contents = "+n.toString());if(iD(n))throw new Error(t+"contains "+n.toString()+" "+aL(i));if("string"===typeof n&&n.length>yj/3&&Ft(n)>yj)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+aL(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(hD(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!kj(n)))throw new Error(t+" contains an invalid key ("+n+") "+aL(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ft(t),iL(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Ft(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+aL(i)+" in addition to actual children.")}},Ej=function(e,t,n,r){if(!r||void 0!==t){var i=Dt(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];hD(t,(function(e,t){var r=new zD(e);if(xj(i,t,XD(n,r)),".priority"===QD(r)&&!wj(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=YD(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!kj(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(eL);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&nL(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},Ij=function(e,t,n){if(!n||void 0!==t){if(iD(t))throw new Error(Dt(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!wj(t))throw new Error(Dt(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Tj=function(e,t,n,r){if((!r||void 0!==n)&&!kj(n))throw new Error(Dt(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Sj=function(e,t,n,r){if((!r||void 0!==n)&&!bj(n))throw new Error(Dt(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Cj=function(e,t){if(".info"===WD(t))throw new Error(e+" failed = Can't modify data under /.info/")},Pj=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!kj(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),bj(e)}(n))throw new Error(Dt(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Nj=Ce((function e(){Te(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Aj(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||tL(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Rj(e,t,n){Aj(e,n),Dj(e,(function(e){return tL(e,t)}))}function Oj(e,t,n){Aj(e,n),Dj(e,(function(e){return nL(e,t)||nL(t,e)}))}function Dj(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Lj(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Lj(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();$O&&ZO("event: "+n.toString()),mD(r)}}}var Mj="repo_interrupt",Fj=function(){function e(t,n,r,i){Te(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Nj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rM(),this.transactionQueueTree_=new sj,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Ce(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function jj(e,t,n){if(e.stats_=ND(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new tM(e.repoInfo_,(function(t,n,r,i){Bj(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return qj(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new uL(e.repoInfo_,t,(function(t,n,r,i){Bj(e,t,n,r,i)}),(function(t){qj(e,t)}),(function(t){!function(e,t){hD(t,(function(t,n){zj(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return PD[n]||(PD[n]=t()),PD[n]}(e.repoInfo_,(function(){return new cM(e.stats_,e.server_)})),e.infoData_=new nM,e.infoSyncTree_=new PF({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=OF(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),zj(e,"connected",!1),e.serverSyncTree_=new PF({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Oj(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Uj(e){var t=e.infoData_.getNode(new zD(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Vj(e){return(t=(t={timestamp:Uj(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function Bj(e,t,n,r,i){e.dataUpdateCount++;var a=new zD(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=xt(n,(function(e){return jL(e)}));o=function(e,t,n,r){var i=WF(e,r);if(i){var a=KF(i),o=a.path,s=a.queryId,u=ZD(o,t),c=IM.fromObject(n);return GF(e,o,new vM(lM(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=jL(n);o=LF(e.serverSyncTree_,a,u,i)}else if(r){var c=xt(n,(function(e){return jL(e)}));o=function(e,t,n){var r=IM.fromObject(n);return UF(e,new vM({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=jL(n);o=OF(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=tU(e,a)),Oj(e.eventQueue_,f,o)}function qj(e,t){zj(e,"connected",t),!1===t&&function(e){$j(e,"onDisconnectEvents");var t=Vj(e),n=rM();oM(e.onDisconnect_,HD(),(function(r,i){var a=ij(r,i,e.serverSyncTree_,t);iM(n,r,a)}));var r=[];oM(n,HD(),(function(t,n){r=r.concat(OF(e.serverSyncTree_,t,n));var i=oU(e,t);tU(e,i)})),e.onDisconnect_=rM(),Oj(e.eventQueue_,HD(),r)}(e)}function zj(e,t,n){var r=new zD("/.info/"+t),i=jL(n);e.infoData_.updateSnapshot(r,i);var a=OF(e.infoSyncTree_,r,i);Oj(e.eventQueue_,r,a)}function Hj(e){return e.nextWriteId_++}function Wj(e,t,n,r,i){$j(e,"set",{path:t.toString(),value:n,priority:r});var a=Vj(e),o=jL(n,r),s=FF(e.serverSyncTree_,t),u=aj(o,s,a),c=Hj(e),l=NF(e.serverSyncTree_,t,u,c,!0);Aj(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||rD("set at "+t+" failed: "+n);var o=RF(e.serverSyncTree_,c,!a);Oj(e.eventQueue_,t,o),Xj(e,i,n,r)}));var f=oU(e,t);tU(e,f),Oj(e.eventQueue_,f,[])}function Kj(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&aM(e.onDisconnect_,t),Xj(e,n,r,i)}))}function Gj(e,t,n,r){var i=jL(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&iM(e.onDisconnect_,t,i),Xj(e,r,n,a)}))}function Qj(e,t,n){var r;r=".info"===WD(t._path)?DF(e.infoSyncTree_,t,n):DF(e.serverSyncTree_,t,n),Rj(e.eventQueue_,t._path,r)}function Yj(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Mj)}function $j(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];ZO.apply(void 0,[t].concat(r))}function Xj(e,t,n,r){t&&mD((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function Jj(e,t,n){return FF(e.serverSyncTree_,t,n)||ML.EMPTY_NODE}function Zj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||aU(e,t),cj(t)){var n=rU(e,t);qe(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&eU(e,pj(t),n)}else fj(t)&&hj(t,(function(t){Zj(e,t)}))}function eU(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Jj(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];qe(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=ZD(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){$j(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(RF(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);aU(e,uj(e.transactionQueueTree_,t)),Zj(e,e.transactionQueueTree_),Oj(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)mD(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{rD("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}tU(e,t)}}),o)}function tU(e,t){var n=nU(e,t),r=pj(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=ZD(n,u.path),l=!1,f=void 0;if(qe(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(RF(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(RF(e.serverSyncTree_,u.currentWriteId,!0));else{var h=Jj(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){xj("transaction failed: Data returned ",d,u.path);var p=jL(d);"object"===typeof d&&null!=d&&bt(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,m=Vj(e),g=aj(p,h,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=g,u.currentWriteId=Hj(e),o.splice(o.indexOf(v),1),i=(i=i.concat(NF(e.serverSyncTree_,u.path,g,u.currentWriteId,u.applyLocally))).concat(RF(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(RF(e.serverSyncTree_,u.currentWriteId,!0))}Oj(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);aU(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)mD(r[c]);Zj(e,e.transactionQueueTree_)}(e,rU(e,n),r),r}function nU(e,t){var n,r=e.transactionQueueTree_;for(n=WD(t);null!==n&&void 0===cj(r);)r=uj(r,n),n=WD(t=GD(t));return r}function rU(e,t){var n=[];return iU(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function iU(e,t,n){var r=cj(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);hj(t,(function(t){iU(e,t,n)}))}function aU(e,t){var n=cj(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,lj(t,n.length>0?n:void 0)}hj(t,(function(t){aU(e,t)}))}function oU(e,t){var n=pj(nU(e,t)),r=uj(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){sU(e,t)})),sU(e,r),dj(r,(function(t){sU(e,t)})),n}function sU(e,t){var n=cj(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(qe(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(qe(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(RF(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?lj(t,void 0):n.length=a+1,Oj(e.eventQueue_,pj(t),i);for(var s=0;s<r.length;s++)mD(r[s])}}var uU=function(e,t){var n=cU(e),r=n.namespace;"firebase.com"===n.domain&&nD(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||nD("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rD("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ID(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new zD(n.pathString)}},cU=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Ie(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):rD("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},lU="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",fU=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=lU.charAt(n%64),n=Math.floor(n/64);qe(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=lU.charAt(t[r]);return qe(20===o.length,"nextPushId: Length should be 20."),o}}(),hU=function(){function e(t,n,r,i){Te(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return Ce(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+yt(this.snapshot.exportVal())}}]),e}(),dU=function(){function e(t,n,r){Te(this,e),this.eventRegistration=t,this.error=n,this.path=r}return Ce(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),pU=function(){function e(t,n){Te(this,e),this.snapshotCallback=t,this.cancelCallback=n}return Ce(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return qe(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),vU=function(){function e(t,n){Te(this,e),this._repo=t,this._path=n}return Ce(e,[{key:"cancel",value:function(){var e=new nt;return Kj(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){Cj("OnDisconnect.remove",this._path);var e=new nt;return Gj(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){Cj("OnDisconnect.set",this._path),_j("OnDisconnect.set",e,this._path,!1);var t=new nt;return Gj(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){Cj("OnDisconnect.setWithPriority",this._path),_j("OnDisconnect.setWithPriority",e,this._path,!1),Ij("OnDisconnect.setWithPriority",t,!1);var n=new nt;return function(e,t,n,r,i){var a=jL(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&iM(e.onDisconnect_,t,a),Xj(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){Cj("OnDisconnect.update",this._path),Ej("OnDisconnect.update",e,this._path,!1);var t=new nt;return function(e,t,n,r){if(_t(n))return ZO("onDisconnect().update() called with empty data.  Don't do anything."),void Xj(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&hD(n,(function(n,r){var i=jL(r);iM(e.onDisconnect_,XD(t,n),i)})),Xj(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),mU=function(){function e(t,n,r,i){Te(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Ce(e,[{key:"key",get:function(){return JD(this._path)?null:QD(this._path)}},{key:"ref",get:function(){return new bU(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=eM(this._queryParams),t=lD(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return eM(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Vt(t))instanceof e))return!1;var n=this._repo===t._repo,r=tL(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function gU(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function yU(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===dL){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==aD)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==oD)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===NL){if(null!=t&&!wj(t)||null!=n&&!wj(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(qe(e.getIndex()instanceof UL||e.getIndex()===BL,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function kU(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var bU=function(e){Ae(n,e);var t=Me(n);function n(e,r){return Te(this,n),t.call(this,e,r,new YL,!1)}return Ce(n,[{key:"parent",get:function(){var e=$D(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(mU),wU=function(){function e(t,n,r){Te(this,e),this._node=t,this.ref=n,this._index=r}return Ce(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new zD(t),r=EU(this.ref,t);return new e(this._node.getChild(n),r,NL)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,EU(n.ref,r),NL))}))}},{key:"hasChild",value:function(e){var t=new zD(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function _U(e,t){return(e=Vt(e))._checkNotDeleted("ref"),void 0!==t?EU(e._root,t):e._root}function xU(e,t){(e=Vt(e))._checkNotDeleted("refFromURL");var n=uU(t,e._repo.repoInfo_.nodeAdmin);Pj("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||nD("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),_U(e,n.path.toString())}function EU(e,t){var n,r,i,a;return null===WD((e=Vt(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Sj(n,r,i,a)):Sj("child","path",t,!1),new bU(e._repo,XD(e._path,t))}function IU(e,t){e=Vt(e),Cj("push",e._path),_j("push",t,e._path,!0);var n,r=Uj(e._repo),i=fU(r),a=EU(e,i),o=EU(e,i);return n=null!=t?SU(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function TU(e){return Cj("remove",e._path),SU(e,null)}function SU(e,t){e=Vt(e),Cj("set",e._path),_j("set",t,e._path,!1);var n=new nt;return Wj(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function CU(e,t){e=Vt(e),Cj("setPriority",e._path),Ij("setPriority",t,!1);var n=new nt;return Wj(e._repo,XD(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function PU(e,t,n){if(Cj("setWithPriority",e._path),_j("setWithPriority",t,e._path,!1),Ij("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new nt;return Wj(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function NU(e,t){Ej("update",t,e._path,!1);var n=new nt;return function(e,t,n,r){$j(e,"update",{path:t.toString(),value:n});var i=!0,a=Vj(e),o={};if(hD(n,(function(n,r){i=!1,o[n]=ij(XD(t,n),jL(r),e.serverSyncTree_,a)})),i)ZO("update() called with empty data.  Don't do anything."),Xj(0,r,"ok",void 0);else{var s=Hj(e),u=AF(e.serverSyncTree_,t,o,s);Aj(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||rD("update at "+t+" failed: "+n);var o=RF(e.serverSyncTree_,s,!a),u=o.length>0?tU(e,t):t;Oj(e.eventQueue_,u,o),Xj(0,r,n,i)})),hD(n,(function(n){var r=oU(e,XD(t,n));tU(e,r)})),Oj(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function AU(e){e=Vt(e);var t=new pU((function(){})),n=new RU(t);return function(e,t,n){var r=jF(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((function(r){var i,a=jL(r).withIndex(t._queryParams.getIndex());if(MF(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=OF(e.serverSyncTree_,t._path,a);else{var o=zF(e.serverSyncTree_,t);i=LF(e.serverSyncTree_,t._path,a,o)}return Oj(e.eventQueue_,t._path,i),DF(e.serverSyncTree_,t,n,null,!0),a}),(function(n){return $j(e,"get for query "+yt(t)+" failed: "+n),Promise.reject(new Error(n))}))}(e._repo,e,n).then((function(t){return new wU(t,new bU(e._repo,e._path),e._queryParams.getIndex())}))}var RU=function(){function e(t){Te(this,e),this.callbackContext=t}return Ce(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new hU("value",this,new wU(e.snapshotNode,new bU(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new dU(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),OU=function(){function e(t,n){Te(this,e),this.eventType=t,this.callbackContext=n}return Ce(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new dU(this,e,t):null}},{key:"createEvent",value:function(e,t){qe(null!=e.childName,"Child events should have a childName.");var n=EU(new bU(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new hU(e.type,this,new wU(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function DU(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){Qj(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new pU(n,a||void 0),c="value"===t?new RU(u):new OU(t,u);return function(e,t,n){var r;r=".info"===WD(t._path)?MF(e.infoSyncTree_,t,n):MF(e.serverSyncTree_,t,n),Rj(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return Qj(e._repo,e,c)}}function LU(e,t,n,r){return DU(e,"value",t,n,r)}function MU(e,t,n,r){return DU(e,"child_added",t,n,r)}function FU(e,t,n,r){return DU(e,"child_changed",t,n,r)}function jU(e,t,n,r){return DU(e,"child_moved",t,n,r)}function UU(e,t,n,r){return DU(e,"child_removed",t,n,r)}function VU(e,t,n){var r=null,i=n?new pU(n):null;"value"===t?r=new RU(i):t&&(r=new OU(t,i)),Qj(e._repo,e,r)}var BU=Ce((function e(){Te(this,e)})),qU=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this))._value=e,i._key=r,i}return Ce(n,[{key:"_apply",value:function(e){_j("endAt",this._value,e._path,!0);var t=XL(e._queryParams,this._value,this._key);if(kU(t),yU(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mU(e._repo,e._path,t,e._orderByCalled)}}]),n}(BU);function zU(e,t){return Tj("endAt","key",t,!0),new qU(e,t)}var HU=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this))._value=e,i._key=r,i}return Ce(n,[{key:"_apply",value:function(e){_j("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===dL||n?XL(e,t,n):XL(e,t,aD)).endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(kU(t),yU(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new mU(e._repo,e._path,t,e._orderByCalled)}}]),n}(BU);function WU(e,t){return Tj("endBefore","key",t,!0),new HU(e,t)}var KU=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this))._value=e,i._key=r,i}return Ce(n,[{key:"_apply",value:function(e){_j("startAt",this._value,e._path,!0);var t=$L(e._queryParams,this._value,this._key);if(kU(t),yU(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new mU(e._repo,e._path,t,e._orderByCalled)}}]),n}(BU);function GU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return Tj("startAt","key",t,!0),new KU(e,t)}var QU=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this))._value=e,i._key=r,i}return Ce(n,[{key:"_apply",value:function(e){_j("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return(r=e.index_===dL||n?$L(e,t,n):$L(e,t,oD)).startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(kU(t),yU(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new mU(e._repo,e._path,t,e._orderByCalled)}}]),n}(BU);function YU(e,t){return Tj("startAfter","key",t,!0),new QU(e,t)}var $U=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this))._limit=e,r}return Ce(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new mU(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(BU);function XU(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new $U(e)}var JU=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this))._limit=e,r}return Ce(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new mU(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(BU);function ZU(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new JU(e)}var eV=function(e){Ae(n,e);var t=Me(n);function n(e){var r;return Te(this,n),(r=t.call(this))._path=e,r}return Ce(n,[{key:"_apply",value:function(e){gU(e,"orderByChild");var t=new zD(this._path);if(JD(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new UL(t),r=JL(e._queryParams,n);return yU(r),new mU(e._repo,e._path,r,!0)}}]),n}(BU);function tV(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Sj("orderByChild","path",e,!1),new eV(e)}var nV=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"_apply",value:function(e){gU(e,"orderByKey");var t=JL(e._queryParams,dL);return yU(t),new mU(e._repo,e._path,t,!0)}}]),n}(BU);function rV(){return new nV}var iV=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"_apply",value:function(e){gU(e,"orderByPriority");var t=JL(e._queryParams,NL);return yU(t),new mU(e._repo,e._path,t,!0)}}]),n}(BU);function aV(){return new iV}var oV=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"_apply",value:function(e){gU(e,"orderByValue");var t=JL(e._queryParams,BL);return yU(t),new mU(e._repo,e._path,t,!0)}}]),n}(BU);function sV(){return new oV}var uV=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this))._value=e,i._key=r,i}return Ce(n,[{key:"_apply",value:function(e){if(_j("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new qU(this._value,this._key)._apply(new KU(this._value,this._key)._apply(e))}}]),n}(BU);function cV(e,t){return Tj("equalTo","key",t,!0),new uV(e,t)}function lV(e){for(var t=Vt(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];t=s._apply(t)}return t}!function(e){qe(!uF,"__referenceConstructor has already been defined"),uF=e}(bU),function(e){qe(!vF,"__referenceConstructor has already been defined"),vF=e}(bU);var fV={},hV=!1;function dV(e,t,n,r){e.repoInfo_=new ID("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function pV(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||nD("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ZO("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=uU(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAjZL5xO-3zIfSVfgKQeYPzFE54radQraA",REACT_APP_FIREBASE_APP_ID:"1:411595774832:web:fa617c4a3fa63db0534db5",REACT_APP_FIREBASE_AUTH_DOMAIN:"code-editor-9b25e.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-GTBQDQYY14",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"411595774832",REACT_APP_FIREBASE_PROJECT_ID:"code-editor-9b25e",REACT_APP_FIREBASE_STORAGE_BUCKET:"code-editor-9b25e.appspot.com",REACT_APP_RAPID_API_HOST:"judge0-ce.p.rapidapi.com",REACT_APP_RAPID_API_KEY:"1ea3733832msh8457fd96877b0d5p142de3jsncfed73d317ad",REACT_APP_RAPID_API_URL:"https://judge0-ce.p.rapidapi.com/submissions"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=uU(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new bD(bD.OWNER):new kD(e.name,e.options,t);Pj("Invalid Firebase Database URL",s),JD(s.path)||nD("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=fV[t.name];i||(i={},fV[t.name]=i);var a=i[e.toURLString()];a&&nD("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Fj(e,hV,n,r),i[e.toURLString()]=a,a}(u,e,l,new yD(e.name,n));return new vV(f,e)}var vV=function(){function e(t,n){Te(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Ce(e,[{key:"_repo",get:function(){return this._instanceStarted||(jj(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new bU(this._repo,HD())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=fV[t];n&&n[e.key]===e||nD("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Yj(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&nD("Cannot call "+e+" on a deleted database.")}}]),e}();function mV(){jD.IS_TRANSPORT_INITIALIZED&&rD("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gV(){mV(),DD.forceDisallow()}function yV(){mV(),FD.forceDisallow(),DD.forceAllow()}function kV(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Vt(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&nD("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&nD('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new bD(bD.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:rt(r.mockUserToken,e.app.options.projectId);a=new bD(o)}dV(i,t,n,a)}function bV(e){(e=Vt(e))._checkNotDeleted("goOffline"),Yj(e._repo)}function wV(e){var t;(e=Vt(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(Mj)}function _V(e,t){JO(e,t)}var xV={".sv":"timestamp"};var EV=function(){function e(t,n){Te(this,e),this.committed=t,this.snapshot=n}return Ce(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function IV(e,t,n){var r;if(e=Vt(e),Cj("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new nt,o=LU(e,(function(){}));return function(e,t,n,r,i,a){$j(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:GO(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=Jj(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{xj("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=uj(e.transactionQueueTree_,t),f=cj(l)||[];f.push(o),lj(l,f),"object"===typeof u&&null!==u&&bt(u,".priority")?(c=wt(u,".priority"),qe(wj(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(FF(e.serverSyncTree_,t)||ML.EMPTY_NODE).getPriority().val();var h=Vj(e),d=jL(u,c),p=aj(d,s,h);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=Hj(e);var v=NF(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);Oj(e.eventQueue_,t,v),Zj(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new wU(r,new bU(e._repo,e._path),NL),a.resolve(new EV(n,i)))}),o,i),a.promise}uL.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},uL.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){VO(Mn),Pn(new Bt("database",(function(e,t){var n=t.instanceIdentifier;return pV(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),qn(FO,jO,e),qn(FO,jO,"esm2017")}();var TV=new Zt("@firebase/database-compat"),SV=function(e){var t="FIREBASE WARNING: "+e;TV.warn(t)},CV=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Dt(e,t)+"must be a boolean.")},PV=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Dt(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},NV=function(){function e(t){Te(this,e),this._delegate=t}return Ce(e,[{key:"cancel",value:function(e){Ot("OnDisconnect.cancel",0,1,arguments.length),Lt("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Ot("OnDisconnect.remove",0,1,arguments.length),Lt("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Ot("OnDisconnect.set",1,2,arguments.length),Lt("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Ot("OnDisconnect.setWithPriority",2,3,arguments.length),Lt("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Ot("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,SV("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Lt("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),AV=function(){function e(t,n){Te(this,e),this.committed=t,this.snapshot=n}return Ce(e,[{key:"toJSON",value:function(){return Ot("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),RV=function(){function e(t,n){Te(this,e),this._database=t,this._delegate=n}return Ce(e,[{key:"val",value:function(){return Ot("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Ot("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Ot("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Ot("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Ot("DataSnapshot.child",0,1,arguments.length),t=String(t),Sj("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Ot("DataSnapshot.hasChild",1,1,arguments.length),Sj("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Ot("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Ot("DataSnapshot.forEach",1,1,arguments.length),Lt("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Ot("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Ot("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Ot("DataSnapshot.ref",0,0,arguments.length),new DV(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),OV=function(){function e(t,n){Te(this,e),this.database=t,this._delegate=n}return Ce(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Ot("Query.on",2,4,arguments.length),Lt("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new RV(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return LU(this._delegate,u,c),n;case"child_added":return MU(this._delegate,u,c),n;case"child_removed":return UU(this._delegate,u,c),n;case"child_changed":return FU(this._delegate,u,c),n;case"child_moved":return jU(this._delegate,u,c),n;default:throw new Error(Dt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Ot("Query.off",0,3,arguments.length),PV("Query.off",e,!0),Lt("Query.off","callback",t,!0),Mt("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,VU(this._delegate,e,r)}else VU(this._delegate,e)}},{key:"get",value:function(){var e=this;return AU(this._delegate).then((function(t){return new RV(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Ot("Query.once",1,4,arguments.length),Lt("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new nt,u=function(e,t){var r=new RV(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":LU(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":MU(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":UU(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":FU(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":jU(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(Dt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Ot("Query.limitToFirst",1,1,arguments.length),new e(this.database,lV(this._delegate,XU(t)))}},{key:"limitToLast",value:function(t){return Ot("Query.limitToLast",1,1,arguments.length),new e(this.database,lV(this._delegate,ZU(t)))}},{key:"orderByChild",value:function(t){return Ot("Query.orderByChild",1,1,arguments.length),new e(this.database,lV(this._delegate,tV(t)))}},{key:"orderByKey",value:function(){return Ot("Query.orderByKey",0,0,arguments.length),new e(this.database,lV(this._delegate,rV()))}},{key:"orderByPriority",value:function(){return Ot("Query.orderByPriority",0,0,arguments.length),new e(this.database,lV(this._delegate,aV()))}},{key:"orderByValue",value:function(){return Ot("Query.orderByValue",0,0,arguments.length),new e(this.database,lV(this._delegate,sV()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Ot("Query.startAt",0,2,arguments.length),new e(this.database,lV(this._delegate,GU(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Ot("Query.startAfter",0,2,arguments.length),new e(this.database,lV(this._delegate,YU(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Ot("Query.endAt",0,2,arguments.length),new e(this.database,lV(this._delegate,zU(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Ot("Query.endBefore",0,2,arguments.length),new e(this.database,lV(this._delegate,WU(t,n)))}},{key:"equalTo",value:function(t,n){return Ot("Query.equalTo",1,2,arguments.length),new e(this.database,lV(this._delegate,cV(t,n)))}},{key:"toString",value:function(){return Ot("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Ot("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Ot("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new DV(this.database,new bU(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Lt(e,"cancel",r.cancel,!0),r.context=n,Mt(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Dt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),DV=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i;return Te(this,n),(i=t.call(this,e,new mU(r._repo,r._path,new YL,!1))).database=e,i._delegate=r,i}return Ce(n,[{key:"getKey",value:function(){return Ot("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Ot("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,EU(this._delegate,e))}},{key:"getParent",value:function(){Ot("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Ot("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Ot("Reference.set",1,2,arguments.length),Lt("Reference.set","onComplete",t,!0);var n=SU(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Ot("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,SV("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Cj("Reference.update",this._delegate._path),Lt("Reference.update","onComplete",t,!0);var i=NU(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Ot("Reference.setWithPriority",2,3,arguments.length),Lt("Reference.setWithPriority","onComplete",n,!0);var r=PU(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Ot("Reference.remove",0,1,arguments.length),Lt("Reference.remove","onComplete",e,!0);var t=TU(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Ot("Reference.transaction",1,3,arguments.length),Lt("Reference.transaction","transactionUpdate",e,!1),Lt("Reference.transaction","onComplete",t,!0),CV("Reference.transaction","applyLocally",n,!0);var i=IV(this._delegate,e,{applyLocally:n}).then((function(e){return new AV(e.committed,new RV(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Ot("Reference.setPriority",1,2,arguments.length),Lt("Reference.setPriority","onComplete",t,!0);var n=CU(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Ot("Reference.push",0,2,arguments.length),Lt("Reference.push","onComplete",t,!0);var i=IU(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return Cj("Reference.onDisconnect",this._delegate._path),new NV(new vU(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(OV),LV=function(){function e(t,n){var r=this;Te(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()},forceWebSockets:gV,forceLongPolling:yV}}return Ce(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};kV(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Ot("database.ref",0,1,arguments.length),e instanceof DV){var t=xU(this._delegate,e.toString());return new DV(this,t)}var n=_U(this._delegate,e);return new DV(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";Ot(t,1,1,arguments.length);var n=xU(this._delegate,e);return new DV(this,n)}},{key:"goOffline",value:function(){return Ot("database.goOffline",0,0,arguments.length),bV(this._delegate)}},{key:"goOnline",value:function(){return Ot("database.goOnline",0,0,arguments.length),wV(this._delegate)}}]),e}();LV.ServerValue={TIMESTAMP:xV,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var MV=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;VO(r);var u=new zt("auth-internal",new Gt("database-standalone"));return u.setComponent(new Bt("auth-internal",(function(){return i}),"PRIVATE")),{instance:new LV(pV(t,u,void 0,n,s),t),namespace:a}}}),FV=LV.ServerValue;!function(e){e.INTERNAL.registerComponent(new Bt("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new LV(i,r)}),"PUBLIC").setServiceProps({Reference:DV,Query:OV,Database:LV,DataSnapshot:RV,enableLogging:_V,INTERNAL:MV,ServerValue:FV}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.3.4")}(Ba);var jV,UV="firebasestorage.googleapis.com",VV=function(e){Ae(n,e);var t=Me(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Te(this,n),(i=t.call(this,BV(e),"Firebase Storage: ".concat(r," (").concat(BV(e),")"))).status_=a,i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(Pe(i),n.prototype),i}return Ce(n,[{key:"status",get:function(){return this.status_},set:function(e){this.status_=e}},{key:"_codeEquals",value:function(e){return BV(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(dt);function BV(e){return"storage/"+e}function qV(){return new VV(jV.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function zV(){return new VV(jV.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HV(){return new VV(jV.CANCELED,"User canceled the upload/download.")}function WV(){return new VV(jV.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function KV(e){return new VV(jV.INVALID_ARGUMENT,e)}function GV(){return new VV(jV.APP_DELETED,"The Firebase app was deleted.")}function QV(e){return new VV(jV.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function YV(e,t){return new VV(jV.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function $V(e){throw new VV(jV.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(jV||(jV={}));var XV,JV=function(){function e(t,n){Te(this,e),this.bucket=t,this.path_=n}return Ce(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r,i;try{r=e.makeFromUrl(t,n)}catch(a){return new e(t,"")}if(""===r.path)return r;throw i=t,new VV(jV.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===UV?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new VV(jV.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return r}}]),e}(),ZV=function(){function e(t){Te(this,e),this.promise_=Promise.reject(t)}return Ce(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function eB(e){return"string"===typeof e||e instanceof String}function tB(e){return nB()&&e instanceof Blob}function nB(){return"undefined"!==typeof Blob&&!ot()}function rB(e,t,n,r){if(r<t)throw KV("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw KV("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function iB(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function aB(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}function oB(e,t){var n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(XV||(XV={}));var sB=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this,d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];Te(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return Ce(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=qV();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?GV():HV());else i(zV())}};this.canceled_?t(0,new uB(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new uB(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===XV.NO_ERROR,a=r.getStatus();if(!n||oB(a,e.additionalRetryCodes_)&&e.retry){var o=r.getErrorCode()===XV.ABORT;t(!1,new uB(!1,null,o))}else{var s=-1!==e.successCodes_.indexOf(a);t(!0,new uB(s,r))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}]),e}(),uB=Ce((function e(t,n,r){Te(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function cB(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}function lB(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function fB(e,t){t&&(e["X-Firebase-GMPID"]=t)}function hB(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function dB(e,t,n,r,i,a){var o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=aB(e.urlParams),u=e.url+s,c=Object.assign({},e.headers);return fB(c,t),cB(c,n),lB(c,a),hB(c,r),new sB(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}function pB(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function vB(){for(var e=pB(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(nB())return new Blob(n);throw new VV(jV.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function mB(e){if("undefined"===typeof atob)throw t="base-64",new VV(jV.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}var gB={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},yB=Ce((function e(t,n){Te(this,e),this.data=t,this.contentType=n||null}));function kB(e,t){switch(e){case gB.RAW:return new yB(bB(t));case gB.BASE64:case gB.BASE64URL:return new yB(wB(e,t));case gB.DATA_URL:return new yB(function(e){var t=new _B(e);return t.base64?wB(gB.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw YV(gB.DATA_URL,"Malformed data URL.")}return bB(t)}(t.rest)}(t),new _B(t).contentType)}throw qV()}function bB(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function wB(e,t){switch(e){case gB.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw YV(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case gB.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw YV(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=mB(t)}catch(c){if(c.message.includes("polyfill"))throw c;throw YV(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var _B=Ce((function e(t){Te(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw YV(gB.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var xB=function(){function e(t,n){Te(this,e);var r=0,i="";tB(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return Ce(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(tB(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(nB()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(vB.apply(null,i))}var a=n.map((function(e){return eB(e)?kB(gB.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function EB(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function IB(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function TB(e,t){return t}var SB=Ce((function e(t,n,r,i){Te(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||TB})),CB=null;function PB(){if(CB)return CB;var e=[];e.push(new SB("bucket")),e.push(new SB("generation")),e.push(new SB("metageneration")),e.push(new SB("name","fullPath",!0));var t=new SB("name");t.xform=function(e,t){return function(e){return!eB(e)||e.length<2?e:IB(e)}(t)},e.push(t);var n=new SB("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new SB("timeCreated")),e.push(new SB("updated")),e.push(new SB("md5Hash",null,!0)),e.push(new SB("cacheControl",null,!0)),e.push(new SB("contentDisposition",null,!0)),e.push(new SB("contentEncoding",null,!0)),e.push(new SB("contentLanguage",null,!0)),e.push(new SB("contentType",null,!0)),e.push(new SB("metadata","customMetadata",!0)),CB=e}function NB(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new JV(n,r);return t._makeStorageReference(i)}})}(r,e),r}function AB(e,t,n){var r=EB(t);return null===r?null:NB(e,r,n)}function RB(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function OB(e,t,n){var r=EB(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=Ie(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),s=e._makeStorageReference(new JV(t,o));r.prefixes.push(s)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var u,c=Ie(n.items);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=e._makeStorageReference(new JV(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var DB=Ce((function e(t,n,r,i){Te(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function LB(e){if(!e)throw qV()}function MB(e,t){return function(n,r){var i=AB(e,r,t);return LB(null!==i),i}}function FB(e,t){return function(n,r){var i=AB(e,r,t);return LB(null!==i),function(e,t,n,r){var i=EB(t);if(null===i)return null;if(!eB(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,s=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return iB("/b/"+o(i)+"/o/"+o(a),n,r)+aB({alt:"media",token:t})}));return s[0]}(i,r,e.host,e._protocol)}}function jB(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new VV(jV.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new VV(jV.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new VV(jV.QUOTA_EXCEEDED,"Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new VV(jV.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function UB(e){var t=jB(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new VV(jV.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function VB(e,t,n){var r=iB(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new DB(r,"GET",MB(e,n),i);return a.errorHandler=UB(t),a}function BB(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=iB(t.bucketOnlyServerUrl(),e.host,e._protocol),s=e.maxOperationRetryTime,u=new DB(o,"GET",function(e,t){return function(n,r){var i=OB(e,t,r);return LB(null!==i),i}}(e,t.bucket),s);return u.urlParams=a,u.errorHandler=jB(t),u}function qB(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function zB(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=qB(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+RB(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=xB.getBlob(c,r,l);if(null===f)throw WV();var h={name:u.fullPath},d=iB(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new DB(d,"POST",MB(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=jB(t),v}var HB=Ce((function e(t,n,r,i){Te(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function WB(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){LB(!1)}return LB(!!n&&-1!==(t||["active"]).indexOf(n)),n}var KB=262144;function GB(e,t,n,r,i,a,o,s){var u=new HB(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new VV(jV.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":0===l?"finalize":c===l?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(u.current)},p=r.slice(f,h);if(null===p)throw WV();var v=t.maxUploadRetryTime,m=new DB(n,"POST",(function(e,n){var i,o=WB(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===o?MB(t,a)(e,n):null,new HB(s,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=jB(e),m}var QB={STATE_CHANGED:"state_changed"},YB={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $B(e){switch(e){case"running":case"pausing":case"canceling":return YB.RUNNING;case"paused":return YB.PAUSED;case"success":return YB.SUCCESS;case"canceled":return YB.CANCELED;default:return YB.ERROR}}var XB=Ce((function e(t,n,r){Te(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function JB(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var ZB=function(){function e(){var t=this;Te(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=XV.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=XV.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=XV.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return Ce(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw $V("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw $V("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw $V("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw $V("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw $V("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),eq=function(e){Ae(n,e);var t=Me(n);function n(){return Te(this,n),t.apply(this,arguments)}return Ce(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(ZB);function tq(){return new eq}var nq=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Te(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=PB(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){if(r._request=void 0,r._chunkMultiplier=1,e._codeEquals(jV.CANCELED))r._needToFetchStatus=!0,r.completeTransitions_();else{var t=r.isExponentialBackoffExpired();if(oB(e.status,[])){if(!t)return r.sleepTime=Math.max(2*r.sleepTime,1e3),r._needToFetchStatus=!0,void r.completeTransitions_();e=zV()}r._error=e,r._transition("error")}},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals(jV.CANCELED)?r.completeTransitions_():(r._error=e,r._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return Ce(e,[{key:"isExponentialBackoffExpired",value:function(){return this.sleepTime>this.maxSleepTime}},{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){var e=this;"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((function(){e.pendingTimeout=void 0,e._continueUpload()}),this.sleepTime):this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=qB(t,r,i),s={name:o.fullPath},u=iB(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=RB(o,n),f=e.maxUploadRetryTime,h=new DB(u,"POST",(function(e){var t;WB(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){LB(!1)}return LB(eB(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=jB(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,tq,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new DB(n,"POST",(function(e){var t=WB(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){LB(!1)}n||LB(!1);var i=Number(n);return LB(!isNaN(i)),new HB(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=jB(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,tq,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=KB*this._chunkMultiplier,n=new HB(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=GB(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(u){return e._error=u,void e._transition("error")}var s=e._ref.storage._makeRequest(o,tq,i,a,!1);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){2*(KB*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=VB(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,tq,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=zB(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,tq,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=HV(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=$B(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new XB(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch($B(this._state)){case YB.SUCCESS:JB(this._resolve.bind(null,this.snapshot))();break;case YB.CANCELED:case YB.ERROR:JB(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch($B(this._state)){case YB.RUNNING:case YB.PAUSED:e.next&&JB(e.next.bind(e,this.snapshot))();break;case YB.SUCCESS:e.complete&&JB(e.complete.bind(e))();break;default:e.error&&JB(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),rq=function(){function e(t,n){Te(this,e),this._service=t,this._location=n instanceof JV?n:JV.makeFromUrl(n,t.host)}return Ce(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new JV(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return IB(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new JV(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw QV(e)}}]),e}();function iq(e,t,n){return aq.apply(this,arguments)}function aq(){return(aq=f(d().mark((function e(t,n,r){var i,a,o,s;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,oq(t,o);case 3:if(s=e.sent,(i=n.prefixes).push.apply(i,Ee(s.prefixes)),(a=n.items).push.apply(a,Ee(s.items)),null==s.nextPageToken){e.next=9;break}return e.next=9,iq(t,n,s.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oq(e,t){null!=t&&"number"===typeof t.maxResults&&rB("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=BB(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,tq)}function sq(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=iB(t.fullServerUrl(),e.host,e._protocol),a=RB(n,r),o=e.maxOperationRetryTime,s=new DB(i,"PATCH",MB(e,r),o);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=a,s.errorHandler=UB(t),s}(e.storage,e._location,t,PB());return e.storage.makeRequestWithTokens(n,tq)}function uq(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=iB(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new DB(r,"GET",FB(e,n),i);return a.errorHandler=UB(t),a}(e.storage,e._location,PB());return e.storage.makeRequestWithTokens(t,tq).then((function(e){if(null===e)throw new VV(jV.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function cq(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=iB(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new DB(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=UB(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,tq)}function lq(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new JV(e._location.bucket,n);return new rq(e.storage,r)}function fq(e,t){if(e instanceof vq){var n=e;if(null==n._bucket)throw new VV(jV.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new rq(n,n._bucket);return null!=t?fq(r,t):r}return void 0!==t?lq(e,t):e}function hq(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof vq)return new rq(e,t);throw KV("To use ref(service, url), the first argument must be a Storage instance.")}return fq(e,t)}function dq(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:JV.makeFromBucketSpec(n,e)}function pq(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:rt(i,e.app.options.projectId))}var vq=function(){function e(t,n,r,i,a){Te(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=UV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?JV.makeFromBucketSpec(i,this._host):dq(this._host,this.app.options)}return Ce(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=JV.makeFromBucketSpec(this._url,e):this._bucket=dq(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){rB("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){rB("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=f(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=f(d().mark((function e(){var t,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new rq(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new ZV(GV());var o=dB(e,this._appId,n,r,t,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then((function(){return i._requests.delete(o)}),(function(){return i._requests.delete(o)})),o}},{key:"makeRequestWithTokens",value:function(){var e=f(d().mark((function e(t,n){var r,i,a,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),mq="@firebase/storage",gq="0.11.2",yq="storage";function kq(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new nq(e,new xB(t),n)}(e=Vt(e),t,n)}function bq(e){return function(e){e._throwIfRoot("getMetadata");var t=VB(e.storage,e._location,PB());return e.storage.makeRequestWithTokens(t,tq)}(e=Vt(e))}function wq(e){return function(e){var t={prefixes:[],items:[]};return iq(e,t).then((function(){return t}))}(e=Vt(e))}function _q(e,t){return hq(e=Vt(e),t)}function xq(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};pq(e,t,n,r)}function Eq(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new vq(r,i,a,n,Mn)}Pn(new Bt(yq,Eq,"PUBLIC").setMultipleInstances(!0)),qn(mq,gq,""),qn(mq,gq,"esm2017");var Iq=function(){function e(t,n,r){Te(this,e),this._delegate=t,this.task=n,this.ref=r}return Ce(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),Tq=function(){function e(t,n){Te(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Ce(e,[{key:"snapshot",get:function(){return new Iq(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new Iq(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new Iq(e,i,i._ref))}:{next:t.next?function(e){return t.next(new Iq(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),Sq=function(){function e(t,n){Te(this,e),this._delegate=t,this._service=n}return Ce(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new Cq(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new Cq(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),Cq=function(){function e(t,n){Te(this,e),this._delegate=t,this.storage=n}return Ce(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return lq(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new Tq(kq(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gB.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=kB(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Tq(new nq(this._delegate,new xB(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return wq(this._delegate).then((function(t){return new Sq(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return oq(e=Vt(e),t)}(this._delegate,e||void 0).then((function(e){return new Sq(e,t.storage)}))}},{key:"getMetadata",value:function(){return bq(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return sq(e=Vt(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return uq(Vt(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),cq(Vt(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw QV(e)}}]),e}(),Pq=function(){function e(t,n){Te(this,e),this.app=t,this._delegate=n}return Ce(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(Nq(e))throw KV("ref() expected a child path but got a URL, use refFromURL instead.");return new Cq(_q(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!Nq(e))throw KV("refFromURL() expected a full URL but got a child path, use ref() instead.");try{JV.makeFromUrl(e,this._delegate.host)}catch(t){throw KV("refFromUrl() expected a valid full URL but got an invalid one.")}return new Cq(_q(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};xq(this._delegate,e,t,n)}}]),e}();function Nq(e){return/^[A-Za-z]+:\/\//.test(e)}function Aq(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new Pq(r,i)}!function(e){var t={TaskState:YB,TaskEvent:QB,StringFormat:gB,Storage:Pq,Reference:Cq};e.INTERNAL.registerComponent(new Bt("storage-compat",Aq,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.2")}(Ba);var Rq=function(){var e=c((0,t.useState)([]),2),n=e[0],r=e[1];(0,t.useEffect)((function(){var e=JSON.parse(localStorage.getItem("savedCodes"))||[];r(e)}),[]);return(0,rR.jsxs)("div",{className:"mx-6 mt-10 pt-3",children:[(0,rR.jsx)("h1",{className:"text-2xl font-bold mb-4 mt-8",children:"Saved Codes"}),n.length>0?(0,rR.jsx)("ul",{className:"space-y-4",children:n.map((function(e,t){return(0,rR.jsxs)("li",{className:"border-2 border-gray-300 p-4 cursor-pointer",onClick:function(){return function(e){r((function(t){return t.map((function(t,n){return n===e?ne(ne({},t),{},{showCode:!t.showCode}):t}))}))}(t)},children:[(0,rR.jsxs)("div",{className:"flex justify-between",children:[(0,rR.jsx)("span",{className:"font-bold",children:e.title}),(0,rR.jsx)("button",{onClick:function(e){e.stopPropagation(),function(e){var t=Ee(n);t.splice(e,1),r(t),localStorage.setItem("savedCodes",JSON.stringify(t))}(t)},className:"text-red-500 hover:text-red-600",children:"Delete"})]}),(0,rR.jsx)("span",{className:"text-gray-500",children:e.date}),e.showCode&&(0,rR.jsx)("div",{className:"mt-4",children:(0,rR.jsx)(iR,{code:e.code,readOnly:!0})})]},t)}))}):(0,rR.jsx)("p",{children:"No saved codes found."})]})},Oq=[{id:1,title:"Minimum Spanning Tree",code:"#include<bits/stdc++.h>\nusing namespace std;\n\nconst int N = 1e5 + 5;\nvector<pair<int, int>> adj[N];\nbool vis[N];\nint par[N], dist[N];\n\nint prims(int n, int src) {\n    for(int i=1; i<=n; i++) {\n        dist[i] = 1e9;\n    }\n    dist[src] = 0;\n    priority_queue<pair<int, int>, vector<pair<int, int>>, greater<pair<int, int>>> pq;\n    pq.push({0, src});\n    int mst = 0;\n    while(!pq.empty()) {\n        pair<int, int> curr = pq.top(); pq.pop();\n        int u = curr.second, wt = curr.first;\n        if(vis[u]) {\n            continue;\n        }\n        vis[u] = true;\n        mst += wt;\n        for(auto v: adj[u]) {\n            int to = v.first, w = v.second;\n            if(!vis[to] && w < dist[to]) {\n                dist[to] = w;\n                par[to] = u;\n                pq.push({w, to});\n            }\n        }\n    }\n    return mst;\n}\n\nint main() {\n    // Your code here\n    int n, m; cin>>n>>m;\n    for(int i=0; i<m; i++) {\n        int u, v, w; cin>>u>>v>>w;\n        adj[u].push_back({v, w});\n        adj[v].push_back({u, w});\n    }\n    int mst = prims(n, 1);\n    cout<<mst<<endl;\n    return 0;\n}"},{id:2,title:"Memoization Template",code:"#include <bits/stdc++.h>\nusing namespace std;\n\nint memo[100];\n\nint fib(int n) {\n  if (memo[n] != -1) {\n    return memo[n];\n  }\n  if (n <= 1) {\n    return n;\n  }\n  int res = fib(n - 1) + fib(n - 2);\n  memo[n] = res;\n  return res;\n}\n\nint main() {\n  memset(memo, -1, sizeof(memo));\n  // Your code here\n  return 0;\n}"},{id:3,title:"Binary Search",code:"#include <bits/stdc++.h>\nusing namespace std;\n\nint binarySearch(vector<int>& arr, int target) {\n  int left = 0, right = arr.size() - 1;\n  while (left <= right) {\n    int mid = left + (right - left) / 2;\n    if (arr[mid] == target) {\n      return mid;\n    } else if (arr[mid] < target) {\n      left = mid + 1;\n    } else {\n      right = mid - 1;\n    }\n  }\n  return -1;\n}\n\nint main() {\n  vector<int> arr = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};\n  int target = 7;\n  int index = binarySearch(arr, target);\n  // Your code here\n  return 0;\n}"}],Dq=function(){return(0,rR.jsxs)("div",{className:"p-4",children:[(0,rR.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Featured Codes"}),(0,rR.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Oq.map((function(e){return(0,rR.jsx)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:(0,rR.jsxs)("div",{className:"p-4",children:[(0,rR.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:e.title}),(0,rR.jsx)("div",{className:"h-40 overflow-y-auto",children:(0,rR.jsx)("pre",{className:"bg-gray-100 p-2 rounded-md text-sm text-gray-800",children:e.code})})]})},e.id)}))}),(0,rR.jsxs)("div",{className:"bg-gray-100 p-4 rounded-md text-sm text-gray-800 mt-8",children:[(0,rR.jsx)("p",{className:"font-bold mb-2",children:"Note:"}),(0,rR.jsx)("p",{children:"Hi, Ashish here, This page is a work in progress, I will make this page realtime using mongodb server , and will provide rating option for featured posts and anyone would be able to post thier particular code or post. Stay tuned for updates!"})]})]})};var Lq=function(){var e=cO();return(0,rR.jsxs)("div",{className:"fixed top-0 left-0 w-full bg-gray-900 text-white px-4 py-2 flex flex-col sm:flex-row items-center justify-between z-30",children:[(0,rR.jsx)("div",{className:"flex items-center",children:(0,rR.jsxs)(DO,{to:"/",className:"flex items-center",children:[(0,rR.jsx)("img",{className:"h-8 w-auto sm:h-10",src:"https://tailwindui.com/img/logos/workflow-mark-indigo-600.svg",alt:"Logo"}),(0,rR.jsx)("span",{className:"ml-2 text-white font-bold text-lg sm:text-xl",children:"Code Editor"})]})}),(0,rR.jsxs)("div",{className:"flex items-center space-x-6 sm:space-x-12 mt-2 sm:mt-0",children:[(0,rR.jsx)("a",{href:"/saved-codes",className:"text-sm sm:text-base font-medium hover:text-gray-300 transition duration-200",children:"Saved Codes"}),(0,rR.jsx)("a",{href:"/featured",className:"text-sm sm:text-base font-medium hover:text-gray-300 transition duration-200",children:"Featured Codes"}),(0,rR.jsx)("a",{href:"https://vixar-places.onrender.com/",className:"text-sm sm:text-base font-medium hover:text-gray-300 transition duration-200",children:"Vixar Places"})]}),(0,rR.jsx)("div",{className:"flex items-center space-x-2",children:localStorage.getItem("email")?(0,rR.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,rR.jsx)(bR,{className:"h-6 w-6 fill-current text-gray-400"}),(0,rR.jsx)("span",{id:"header-email",className:"text-white-800 font-medium text-sm sm:text-base",children:localStorage.getItem("email")}),(0,rR.jsx)("button",{onClick:function(){Ba.auth().signOut().then((function(){localStorage.removeItem("email"),window.location.reload()})).catch((function(e){console.error(e)})),e("/login")},className:"border border-white rounded-md px-3 py-1 text-xs sm:text-sm font-medium bg-white text-gray-900 hover:bg-gray-200 hover:text-gray-900 transition duration-200",children:"Logout"})]}):(0,rR.jsxs)(DO,{to:"/login",className:"flex items-center space-x-2 bg-white text-gray-900 rounded-md px-3 py-1 text-xs sm:text-sm font-medium hover:bg-gray-200 hover:text-gray-900 transition duration-200",children:[(0,rR.jsx)(bR,{className:"h-6 w-6 fill-current text-gray-400"}),(0,rR.jsx)("span",{className:"text-sm sm:text-base",children:"Login"})]})})]})},Mq=function(e){var t=e.outputDetails;return(0,rR.jsxs)(rR.Fragment,{children:[(0,rR.jsx)("h1",{className:"font-bold text-xl bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-700 mb-2",children:"Output"}),(0,rR.jsx)("div",{className:"w-full h-56 bg-[#1e293b] rounded-md text-white font-normal text-sm overflow-y-auto",children:t?(0,rR.jsx)(rR.Fragment,{children:function(){var e,n=null===t||void 0===t||null===(e=t.status)||void 0===e?void 0:e.id;return 6===n?(0,rR.jsx)("pre",{className:"px-2 py-1 font-normal text-xs text-red-500",children:atob(null===t||void 0===t?void 0:t.compile_output)}):3===n?(0,rR.jsx)("pre",{className:"px-2 py-1 font-normal text-xs text-white-500",children:null!==atob(t.stdout)?"".concat(atob(t.stdout)):null}):5===n?(0,rR.jsx)("pre",{className:"px-2 py-1 font-normal text-xs text-red-500",children:"Time Limit Exceeded"}):(0,rR.jsx)("pre",{className:"px-2 py-1 font-normal text-xs text-red-500",children:atob(null===t||void 0===t?void 0:t.stderr)})}()}):null})]})},Fq=function(e){var t=e.customInput,n=e.setCustomInput;return(0,rR.jsxs)(rR.Fragment,{children:[" ",(0,rR.jsx)("textarea",{rows:"5",value:t,onChange:function(e){return n(e.target.value)},placeholder:"Custom input",className:sR("focus:outline-none w-full border-2 border-black z-10 rounded-md shadow-[5px_5px_0px_4px_rgba(0,0,0)] px-4 py-2 hover:shadow transition duration-200 bg-white mt-2")})]})},jq=function(e){var t,n=e.outputDetails;return(0,rR.jsxs)("div",{className:"metrics-container mt-4 flex flex-col space-y-3",children:[(0,rR.jsxs)("p",{className:"text-sm",children:["Status:"," ",(0,rR.jsx)("span",{className:"font-semibold px-2 py-1 rounded-md bg-gray-100",children:null===n||void 0===n||null===(t=n.status)||void 0===t?void 0:t.description})]}),(0,rR.jsxs)("p",{className:"text-sm",children:["Memory:"," ",(0,rR.jsx)("span",{className:"font-semibold px-2 py-1 rounded-md bg-gray-100",children:null===n||void 0===n?void 0:n.memory})]}),(0,rR.jsxs)("p",{className:"text-sm",children:["Time:"," ",(0,rR.jsx)("span",{className:"font-semibold px-2 py-1 rounded-md bg-gray-100",children:null===n||void 0===n?void 0:n.time})]})]})};function Uq(){return Uq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uq.apply(this,arguments)}var Vq=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Bq=Math.abs,qq=String.fromCharCode,zq=Object.assign;function Hq(e){return e.trim()}function Wq(e,t,n){return e.replace(t,n)}function Kq(e,t){return e.indexOf(t)}function Gq(e,t){return 0|e.charCodeAt(t)}function Qq(e,t,n){return e.slice(t,n)}function Yq(e){return e.length}function $q(e){return e.length}function Xq(e,t){return t.push(e),e}var Jq=1,Zq=1,ez=0,tz=0,nz=0,rz="";function iz(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Jq,column:Zq,length:o,return:""}}function az(e,t){return zq(iz("",null,null,"",null,null,0),e,{length:-e.length},t)}function oz(){return nz=tz>0?Gq(rz,--tz):0,Zq--,10===nz&&(Zq=1,Jq--),nz}function sz(){return nz=tz<ez?Gq(rz,tz++):0,Zq++,10===nz&&(Zq=1,Jq++),nz}function uz(){return Gq(rz,tz)}function cz(){return tz}function lz(e,t){return Qq(rz,e,t)}function fz(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function hz(e){return Jq=Zq=1,ez=Yq(rz=e),tz=0,[]}function dz(e){return rz="",e}function pz(e){return Hq(lz(tz-1,gz(91===e?e+2:40===e?e+1:e)))}function vz(e){for(;(nz=uz())&&nz<33;)sz();return fz(e)>2||fz(nz)>3?"":" "}function mz(e,t){for(;--t&&sz()&&!(nz<48||nz>102||nz>57&&nz<65||nz>70&&nz<97););return lz(e,cz()+(t<6&&32==uz()&&32==sz()))}function gz(e){for(;sz();)switch(nz){case e:return tz;case 34:case 39:34!==e&&39!==e&&gz(nz);break;case 40:41===e&&gz(e);break;case 92:sz()}return tz}function yz(e,t){for(;sz()&&e+nz!==57&&(e+nz!==84||47!==uz()););return"/*"+lz(t,tz-1)+"*"+qq(47===e?e:sz())}function kz(e){for(;!fz(uz());)sz();return lz(e,tz)}var bz="-ms-",wz="-moz-",_z="-webkit-",xz="comm",Ez="rule",Iz="decl",Tz="@keyframes";function Sz(e,t){for(var n="",r=$q(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Cz(e,t,n,r){switch(e.type){case"@import":case Iz:return e.return=e.return||e.value;case xz:return"";case Tz:return e.return=e.value+"{"+Sz(e.children,r)+"}";case Ez:e.value=e.props.join(",")}return Yq(n=Sz(e.children,r))?e.return=e.value+"{"+n+"}":""}function Pz(e,t){switch(function(e,t){return(((t<<2^Gq(e,0))<<2^Gq(e,1))<<2^Gq(e,2))<<2^Gq(e,3)}(e,t)){case 5103:return _z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return _z+e+wz+e+bz+e+e;case 6828:case 4268:return _z+e+bz+e+e;case 6165:return _z+e+bz+"flex-"+e+e;case 5187:return _z+e+Wq(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return _z+e+bz+"flex-item-"+Wq(e,/flex-|-self/,"")+e;case 4675:return _z+e+bz+"flex-line-pack"+Wq(e,/align-content|flex-|-self/,"")+e;case 5548:return _z+e+bz+Wq(e,"shrink","negative")+e;case 5292:return _z+e+bz+Wq(e,"basis","preferred-size")+e;case 6060:return _z+"box-"+Wq(e,"-grow","")+_z+e+bz+Wq(e,"grow","positive")+e;case 4554:return _z+Wq(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Wq(Wq(Wq(e,/(zoom-|grab)/,_z+"$1"),/(image-set)/,_z+"$1"),e,"")+e;case 5495:case 3959:return Wq(e,/(image-set\([^]*)/,_z+"$1$`$1");case 4968:return Wq(Wq(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+_z+e+e;case 4095:case 3583:case 4068:case 2532:return Wq(e,/(.+)-inline(.+)/,_z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Yq(e)-1-t>6)switch(Gq(e,t+1)){case 109:if(45!==Gq(e,t+4))break;case 102:return Wq(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+wz+(108==Gq(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Kq(e,"stretch")?Pz(Wq(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Gq(e,t+1))break;case 6444:switch(Gq(e,Yq(e)-3-(~Kq(e,"!important")&&10))){case 107:return Wq(e,":",":"+_z)+e;case 101:return Wq(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_z+(45===Gq(e,14)?"inline-":"")+"box$3$1"+_z+"$2$3$1"+bz+"$2box$3")+e}break;case 5936:switch(Gq(e,t+11)){case 114:return _z+e+bz+Wq(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return _z+e+bz+Wq(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return _z+e+bz+Wq(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return _z+e+bz+e+e}return e}function Nz(e){return function(t){t.root||(t=t.return)&&e(t)}}function Az(e){return dz(Rz("",null,null,null,[""],e=hz(e),0,[0],e))}function Rz(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,g=1,y=0,k="",b=i,w=a,_=r,x=k;m;)switch(p=y,y=sz()){case 40:if(108!=p&&58==x.charCodeAt(f-1)){-1!=Kq(x+=Wq(pz(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:x+=pz(y);break;case 9:case 10:case 13:case 32:x+=vz(p);break;case 92:x+=mz(cz()-1,7);continue;case 47:switch(uz()){case 42:case 47:Xq(Dz(yz(sz(),cz()),t,n),u);break;default:x+="/"}break;case 123*v:s[c++]=Yq(x)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+l:d>0&&Yq(x)-f&&Xq(d>32?Lz(x+";",r,n,f-1):Lz(Wq(x," ","")+";",r,n,f-2),u);break;case 59:x+=";";default:if(Xq(_=Oz(x,t,n,c,l,i,s,k,b=[],w=[],f),a),123===y)if(0===l)Rz(x,t,_,_,b,a,f,s,w);else switch(h){case 100:case 109:case 115:Rz(e,_,_,r&&Xq(Oz(e,_,_,0,0,i,s,k,i,b=[],f),w),i,w,f,s,r?b:w);break;default:Rz(x,_,_,_,[""],w,0,s,w)}}c=l=d=0,v=g=1,k=x="",f=o;break;case 58:f=1+Yq(x),d=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==oz())continue;switch(x+=qq(y),y*v){case 38:g=l>0?1:(x+="\f",-1);break;case 44:s[c++]=(Yq(x)-1)*g,g=1;break;case 64:45===uz()&&(x+=pz(sz())),h=uz(),l=f=Yq(k=x+=kz(cz())),y++;break;case 45:45===p&&2==Yq(x)&&(v=0)}}return a}function Oz(e,t,n,r,i,a,o,s,u,c,l){for(var f=i-1,h=0===i?a:[""],d=$q(h),p=0,v=0,m=0;p<r;++p)for(var g=0,y=Qq(e,f+1,f=Bq(v=o[p])),k=e;g<d;++g)(k=Hq(v>0?h[g]+" "+y:Wq(y,/&\f/g,h[g])))&&(u[m++]=k);return iz(e,t,n,0===i?Ez:s,u,c,l)}function Dz(e,t,n){return iz(e,t,n,xz,qq(nz),Qq(e,2,-2),0)}function Lz(e,t,n,r){return iz(e,t,n,Iz,Qq(e,0,r),Qq(e,r+1,-1),r)}var Mz=function(e,t,n){for(var r=0,i=0;r=i,i=uz(),38===r&&12===i&&(t[n]=1),!fz(i);)sz();return lz(e,tz)},Fz=function(e,t){return dz(function(e,t){var n=-1,r=44;do{switch(fz(r)){case 0:38===r&&12===uz()&&(t[n]=1),e[n]+=Mz(tz-1,t,n);break;case 2:e[n]+=pz(r);break;case 4:if(44===r){e[++n]=58===uz()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=qq(r)}}while(r=sz());return e}(hz(e),t))},jz=new WeakMap,Uz=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||jz.get(n))&&!r){jz.set(e,!0);for(var i=[],a=Fz(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},Vz=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},Bz=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Iz:e.return=Pz(e.value,e.length);break;case Tz:return Sz([az(e,{value:Wq(e.value,"@","@"+_z)})],r);case Ez:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sz([az(e,{props:[Wq(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Sz([az(e,{props:[Wq(t,/:(plac\w+)/,":-webkit-input-$1")]}),az(e,{props:[Wq(t,/:(plac\w+)/,":-moz-$1")]}),az(e,{props:[Wq(t,/:(plac\w+)/,bz+"input-$1")]})],r)}return""}))}}],qz=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Bz;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u=[Uz,Vz];var c,l=[Cz,Nz((function(e){c.insert(e)}))],f=function(e){var t=$q(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}(u.concat(r,l));a=function(e,t,n,r){c=n,function(e){Sz(Az(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Vq({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h};function zz(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Hz=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Wz=function(e,t,n){Hz(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}};var Kz=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},Gz={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Qz=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Yz=/[A-Z]|^ms/g,$z=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Xz=function(e){return 45===e.charCodeAt(1)},Jz=function(e){return null!=e&&"boolean"!==typeof e},Zz=Qz((function(e){return Xz(e)?e:e.replace(Yz,"-$&").toLowerCase()})),eH=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace($z,(function(e,t,n){return nH={name:t,styles:n,next:nH},t}))}return 1===Gz[e]||Xz(e)||"number"!==typeof t||0===t?t:t+"px"};function tH(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return nH={name:n.name,styles:n.styles,next:nH},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)nH={name:r.name,styles:r.styles,next:nH},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=tH(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Jz(o)&&(r+=Zz(a)+":"+eH(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=tH(e,t,o);switch(a){case"animation":case"animationName":r+=Zz(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)Jz(o[u])&&(r+=Zz(a)+":"+eH(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=nH,a=n(e);return nH=i,tH(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var nH,rH=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var iH=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";nH=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=tH(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=tH(n,t,e[o]),r&&(i+=a[o]);rH.lastIndex=0;for(var s,u="";null!==(s=rH.exec(i));)u+="-"+s[1];return{name:Kz(i)+u,styles:i,next:nH}},aH={}.hasOwnProperty,oH=(0,t.createContext)("undefined"!==typeof HTMLElement?qz({key:"css"}):null);var sH=oH.Provider,uH=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(oH);return e(n,i,r)}))},cH=(0,t.createContext)({});var lH=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};function fH(e){lH(e)}var hH="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",dH=function(e,t){var n={};for(var r in t)aH.call(t,r)&&(n[r]=t[r]);return n[hH]=e,n},pH=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Hz(t,n,r);fH((function(){return Wz(t,n,r)}));return null},vH=uH((function(e,n,r){var i=e.css;"string"===typeof i&&void 0!==n.registered[i]&&(i=n.registered[i]);var a=e[hH],o=[i],s="";"string"===typeof e.className?s=zz(n.registered,o,e.className):null!=e.className&&(s=e.className+" ");var u=iH(o,void 0,(0,t.useContext)(cH));s+=n.key+"-"+u.name;var c={};for(var l in e)aH.call(e,l)&&"css"!==l&&l!==hH&&(c[l]=e[l]);return c.ref=r,c.className=s,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(pH,{cache:n,serialized:u,isStringTag:"string"===typeof a}),(0,t.createElement)(a,c))}));n(2110);var mH=function(e,n){var r=arguments;if(null==n||!aH.call(n,"css"))return t.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=vH,a[1]=dH(e,n);for(var o=2;o<i;o++)a[o]=r[o];return t.createElement.apply(null,a)};r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect;function gH(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return iH(t)}var yH=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var a=t[r];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=e(a);else for(var s in o="",a)a[s]&&s&&(o&&(o+=" "),o+=s);break;default:o=a}o&&(i&&(i+=" "),i+=o)}}return i};function kH(e,t,n){var r=[],i=zz(e,r,n);return r.length<2?n:i+t(r)}var bH=function(e){var t=e.cache,n=e.serializedArr;fH((function(){for(var e=0;e<n.length;e++)Wz(t,n[e],!1)}));return null},wH=uH((function(e,n){var r=[],i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var a=iH(t,n.registered);return r.push(a),Hz(n,a,!1),n.key+"-"+a.name},a={css:i,cx:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return kH(n.registered,i,yH(t))},theme:(0,t.useContext)(cH)},o=e.children(a);return!0,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(bH,{cache:n,serializedArr:r}),o)}));function _H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xH(Object(n),!0).forEach((function(t){_H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function IH(e){return IH=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},IH(e)}function TH(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SH(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=IH(e);if(t){var i=IH(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return TH(this,n)}}var CH=["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],PH=function(){};function NH(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function AH(e,t,n){var r=[n];if(t&&e)for(var i in t)t.hasOwnProperty(i)&&t[i]&&r.push("".concat(NH(e,i)));return r.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var RH=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===De(e)&&null!==e?[e]:[];var t},OH=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,EH({},bA(e,CH))};function DH(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function LH(e){return DH(e)?window.pageYOffset:e.scrollTop}function MH(e,t){DH(e)?window.scrollTo(0,t):e.scrollTop=t}function FH(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function jH(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:PH,i=LH(e),a=t-i,o=10,s=0;function u(){var t=FH(s+=o,i,a,n);MH(e,t),s<n?window.requestAnimationFrame(u):r(e)}u()}function UH(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var VH=!1,BH={get passive(){return VH=!0}},qH="undefined"!==typeof window?window:{};qH.addEventListener&&qH.removeEventListener&&(qH.addEventListener("p",PH,BH),qH.removeEventListener("p",PH,!1));var zH=VH;function HH(e){return null!=e}function WH(e,t,n){return e?t:n}function KH(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,a=e.shouldScroll,o=e.isFixedPosition,s=e.theme.spacing,u=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var l=u.getBoundingClientRect().height,f=n.getBoundingClientRect(),h=f.bottom,d=f.height,p=f.top,v=n.offsetParent.getBoundingClientRect().top,m=window.innerHeight,g=LH(u),y=parseInt(getComputedStyle(n).marginBottom,10),k=parseInt(getComputedStyle(n).marginTop,10),b=v-k,w=m-p,_=b+g,x=l-g-p,E=h-m+g+y,I=g+p-k,T=160;switch(i){case"auto":case"bottom":if(w>=d)return{placement:"bottom",maxHeight:t};if(x>=d&&!o)return a&&jH(u,E,T),{placement:"bottom",maxHeight:t};if(!o&&x>=r||o&&w>=r)return a&&jH(u,E,T),{placement:"bottom",maxHeight:o?w-y:x-y};if("auto"===i||o){var S=t,C=o?b:_;return C>=r&&(S=Math.min(C-y-s.controlHeight,t)),{placement:"top",maxHeight:S}}if("bottom"===i)return a&&MH(u,E),{placement:"bottom",maxHeight:t};break;case"top":if(b>=d)return{placement:"top",maxHeight:t};if(_>=d&&!o)return a&&jH(u,I,T),{placement:"top",maxHeight:t};if(!o&&_>=r||o&&b>=r){var P=t;return(!o&&_>=r||o&&b>=r)&&(P=o?b-k:_-k),a&&jH(u,I,T),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var GH=function(e){return"auto"===e?"bottom":e},QH=(0,t.createContext)({getPortalPlacement:null}),YH=function(e){Ae(n,e);var t=SH(n);function n(){var e;Te(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={maxHeight:e.props.maxMenuHeight,placement:null},e.context=void 0,e.getPlacement=function(t){var n=e.props,r=n.minMenuHeight,i=n.maxMenuHeight,a=n.menuPlacement,o=n.menuPosition,s=n.menuShouldScrollIntoView,u=n.theme;if(t){var c="fixed"===o,l=KH({maxHeight:i,menuEl:t,minHeight:r,placement:a,shouldScroll:s&&!c,isFixedPosition:c,theme:u}),f=e.context.getPortalPlacement;f&&f(l),e.setState(l)}},e.getUpdatedProps=function(){var t=e.props.menuPlacement,n=e.state.placement||GH(t);return EH(EH({},e.props),{},{placement:n,maxHeight:e.state.maxHeight})},e}return Ce(n,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),n}(t.Component);YH.contextType=QH;var $H=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},XH=$H,JH=$H,ZH=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return mH("div",Uq({css:i("noOptionsMessage",e),className:r({"menu-notice":!0,"menu-notice--no-options":!0},n)},a),t)};ZH.defaultProps={children:"No options"};var eW=function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return mH("div",Uq({css:i("loadingMessage",e),className:r({"menu-notice":!0,"menu-notice--loading":!0},n)},a),t)};eW.defaultProps={children:"Loading..."};var tW,nW=function(e){Ae(n,e);var t=SH(n);function n(){var e;Te(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={placement:null},e.getPortalPlacement=function(t){var n=t.placement;n!==GH(e.props.menuPlacement)&&e.setState({placement:n})},e}return Ce(n,[{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.className,a=e.controlElement,o=e.cx,s=e.innerProps,u=e.menuPlacement,c=e.menuPosition,l=e.getStyles,f="fixed"===c;if(!t&&!f||!a)return null;var h=this.state.placement||GH(u),d=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(a),p=f?0:window.pageYOffset,v=d[h]+p,m=mH("div",Uq({css:l("menuPortal",{offset:v,position:c,rect:d}),className:o({"menu-portal":!0},r)},s),n);return mH(QH.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},t?(0,i.createPortal)(m,t):m)}}]),n}(t.Component),rW=["size"];var iW,aW,oW={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},sW=function(e){var t=e.size,n=bA(e,rW);return mH("svg",Uq({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:oW},n))},uW=function(e){return mH(sW,Uq({size:20},e),mH("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},cW=function(e){return mH(sW,Uq({size:20},e),mH("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},lW=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},fW=lW,hW=lW,dW=function(){var e=gH.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(tW||(iW=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],aW||(aW=iW.slice(0)),tW=Object.freeze(Object.defineProperties(iW,{raw:{value:Object.freeze(aW)}})))),pW=function(e){var t=e.delay,n=e.offset;return mH("span",{css:gH({animation:"".concat(dW," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},vW=function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps,a=e.isRtl;return mH("div",Uq({css:r("loadingIndicator",e),className:n({indicator:!0,"loading-indicator":!0},t)},i),mH(pW,{delay:0,offset:a}),mH(pW,{delay:160,offset:!0}),mH(pW,{delay:320,offset:!a}))};vW.defaultProps={size:4};var mW=["data"],gW=["innerRef","isDisabled","isHidden","inputClassName"],yW={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},kW={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":EH({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},yW)},bW=function(e){return EH({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},yW)},wW=function(e){var t=e.children,n=e.innerProps;return mH("div",n,t)};var _W={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return mH("div",Uq({css:i("clearIndicator",e),className:r({indicator:!0,"clear-indicator":!0},n)},a),t||mH(uW,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.className,a=e.isDisabled,o=e.isFocused,s=e.innerRef,u=e.innerProps,c=e.menuIsOpen;return mH("div",Uq({ref:s,css:r("control",e),className:n({control:!0,"control--is-disabled":a,"control--is-focused":o,"control--menu-is-open":c},i)},u),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return mH("div",Uq({css:i("dropdownIndicator",e),className:r({indicator:!0,"dropdown-indicator":!0},n)},a),t||mH(cW,null))},DownChevron:cW,CrossIcon:uW,Group:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.Heading,o=e.headingProps,s=e.innerProps,u=e.label,c=e.theme,l=e.selectProps;return mH("div",Uq({css:i("group",e),className:r({group:!0},n)},s),mH(a,Uq({},o,{selectProps:l,theme:c,getStyles:i,cx:r}),u),mH("div",null,t))},GroupHeading:function(e){var t=e.getStyles,n=e.cx,r=e.className,i=OH(e);i.data;var a=bA(i,mW);return mH("div",Uq({css:t("groupHeading",e),className:n({"group-heading":!0},r)},a))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,a=e.getStyles;return mH("div",Uq({css:a("indicatorsContainer",e),className:r({indicators:!0},n)},i),t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.innerProps;return mH("span",Uq({},i,{css:r("indicatorSeparator",e),className:n({"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,i=e.value,a=OH(e),o=a.innerRef,s=a.isDisabled,u=a.isHidden,c=a.inputClassName,l=bA(a,gW);return mH("div",{className:n({"input-container":!0},t),css:r("input",e),"data-value":i||""},mH("input",Uq({className:n({input:!0},c),ref:o,style:bW(u),disabled:s},l)))},LoadingIndicator:vW,Menu:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerRef,o=e.innerProps;return mH("div",Uq({css:i("menu",e),className:r({menu:!0},n),ref:a},o),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps,o=e.innerRef,s=e.isMulti;return mH("div",Uq({css:i("menuList",e),className:r({"menu-list":!0,"menu-list--is-multi":s},n),ref:o},a),t)},MenuPortal:nW,LoadingMessage:eW,NoOptionsMessage:ZH,MultiValue:function(e){var t=e.children,n=e.className,r=e.components,i=e.cx,a=e.data,o=e.getStyles,s=e.innerProps,u=e.isDisabled,c=e.removeProps,l=e.selectProps,f=r.Container,h=r.Label,d=r.Remove;return mH(wH,null,(function(r){var p=r.css,v=r.cx;return mH(f,{data:a,innerProps:EH({className:v(p(o("multiValue",e)),i({"multi-value":!0,"multi-value--is-disabled":u},n))},s),selectProps:l},mH(h,{data:a,innerProps:{className:v(p(o("multiValueLabel",e)),i({"multi-value__label":!0},n))},selectProps:l},t),mH(d,{data:a,innerProps:EH({className:v(p(o("multiValueRemove",e)),i({"multi-value__remove":!0},n)),"aria-label":"Remove ".concat(t||"option")},c),selectProps:l}))}))},MultiValueContainer:wW,MultiValueLabel:wW,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return mH("div",Uq({role:"button"},n),t||mH(uW,{size:14}))},Option:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.isDisabled,o=e.isFocused,s=e.isSelected,u=e.innerRef,c=e.innerProps;return mH("div",Uq({css:i("option",e),className:r({option:!0,"option--is-disabled":a,"option--is-focused":o,"option--is-selected":s},n),ref:u,"aria-disabled":a},c),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps;return mH("div",Uq({css:i("placeholder",e),className:r({placeholder:!0},n)},a),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.innerProps,o=e.isDisabled,s=e.isRtl;return mH("div",Uq({css:i("container",e),className:r({"--is-disabled":o,"--is-rtl":s},n)},a),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,i=e.getStyles,a=e.isDisabled,o=e.innerProps;return mH("div",Uq({css:i("singleValue",e),className:r({"single-value":!0,"single-value--is-disabled":a},n)},o),t)},ValueContainer:function(e){var t=e.children,n=e.className,r=e.cx,i=e.innerProps,a=e.isMulti,o=e.getStyles,s=e.hasValue;return mH("div",Uq({css:o("valueContainer",e),className:r({"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s},n)},i),t)}},xW=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];var EW=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function IW(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||EW(r)&&EW(i)))return!1;var r,i;return!0}var TW=function(e,t){var n;void 0===t&&(t=IW);var r,i=[],a=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&t(o,i)||(r=e.apply(this,o),a=!0,n=this,i=o),r}};for(var SW={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},CW=function(e){return mH("span",Uq({css:SW},e))},PW={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,i=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,a=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,a?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,a=void 0===i?"":i,o=e.selectValue,s=e.isDisabled,u=e.isSelected,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&o)return"value ".concat(a," focused, ").concat(c(o,n),".");if("menu"===t){var l=s?" disabled":"",f="".concat(u?"selected":"focused").concat(l);return"option ".concat(a," ").concat(f,", ").concat(c(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},NW=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,o=e.isFocused,s=e.selectValue,u=e.selectProps,c=e.id,l=u.ariaLiveMessages,f=u.getOptionLabel,h=u.inputValue,d=u.isMulti,p=u.isOptionDisabled,v=u.isSearchable,m=u.menuIsOpen,g=u.options,y=u.screenReaderStatus,k=u.tabSelectsValue,b=u["aria-label"],w=u["aria-live"],_=(0,t.useMemo)((function(){return EH(EH({},PW),l||{})}),[l]),x=(0,t.useMemo)((function(){var e="";if(n&&_.onChange){var t=n.option,r=n.options,i=n.removedValue,a=n.removedValues,o=n.value,u=i||t||function(e){return Array.isArray(e)?null:e}(o),c=u?f(u):"",l=r||a||void 0,h=l?l.map(f):[],d=EH({isDisabled:u&&p(u,s),label:c,labels:h},n);e=_.onChange(d)}return e}),[n,_,p,s,f]),E=(0,t.useMemo)((function(){var e="",t=r||i,n=!!(r&&s&&s.includes(r));if(t&&_.onFocus){var a={focused:t,label:f(t),isDisabled:p(t,s),isSelected:n,options:g,context:t===r?"menu":"value",selectValue:s};e=_.onFocus(a)}return e}),[r,i,f,p,_,g,s]),I=(0,t.useMemo)((function(){var e="";if(m&&g.length&&_.onFilter){var t=y({count:a.length});e=_.onFilter({inputValue:h,resultsMessage:t})}return e}),[a,h,m,_,g,y]),T=(0,t.useMemo)((function(){var e="";if(_.guidance){var t=i?"value":m?"menu":"input";e=_.guidance({"aria-label":b,context:t,isDisabled:r&&p(r,s),isMulti:d,isSearchable:v,tabSelectsValue:k})}return e}),[b,r,i,d,p,v,m,_,s,k]),S="".concat(E," ").concat(I," ").concat(T),C=mH(t.Fragment,null,mH("span",{id:"aria-selection"},x),mH("span",{id:"aria-context"},S)),P="initial-input-focus"===(null===n||void 0===n?void 0:n.action);return mH(t.Fragment,null,mH(CW,{id:c},P&&C),mH(CW,{"aria-live":w,"aria-atomic":"false","aria-relevant":"additions text"},o&&!P&&C))},AW=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],RW=new RegExp("["+AW.map((function(e){return e.letters})).join("")+"]","g"),OW={},DW=0;DW<AW.length;DW++)for(var LW=AW[DW],MW=0;MW<LW.letters.length;MW++)OW[LW.letters[MW]]=LW.base;var FW=function(e){return e.replace(RW,(function(e){return OW[e]}))},jW=TW(FW),UW=function(e){return e.replace(/^\s+|\s+$/g,"")},VW=function(e){return"".concat(e.label," ").concat(e.value)},BW=["innerRef"];function qW(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=c(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}(bA(e,BW),"onExited","in","enter","exit","appear");return mH("input",Uq({ref:t},n,{css:gH({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var zW=["boxSizing","height","overflow","paddingRight","position"],HW={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function WW(e){e.preventDefault()}function KW(e){e.stopPropagation()}function GW(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function QW(){return"ontouchstart"in window||navigator.maxTouchPoints}var YW=!("undefined"===typeof window||!window.document||!window.document.createElement),$W=0,XW={capture:!1,passive:!1};var JW=function(){return document.activeElement&&document.activeElement.blur()},ZW={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function eK(e){var n=e.children,r=e.lockEnabled,i=e.captureEnabled,a=function(e){var n=e.isEnabled,r=e.onBottomArrive,i=e.onBottomLeave,a=e.onTopArrive,o=e.onTopLeave,s=(0,t.useRef)(!1),u=(0,t.useRef)(!1),c=(0,t.useRef)(0),l=(0,t.useRef)(null),f=(0,t.useCallback)((function(e,t){if(null!==l.current){var n=l.current,c=n.scrollTop,f=n.scrollHeight,h=n.clientHeight,d=l.current,p=t>0,v=f-h-c,m=!1;v>t&&s.current&&(i&&i(e),s.current=!1),p&&u.current&&(o&&o(e),u.current=!1),p&&t>v?(r&&!s.current&&r(e),d.scrollTop=f,m=!0,s.current=!0):!p&&-t>c&&(a&&!u.current&&a(e),d.scrollTop=0,m=!0,u.current=!0),m&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[r,i,a,o]),h=(0,t.useCallback)((function(e){f(e,e.deltaY)}),[f]),d=(0,t.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),p=(0,t.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;f(e,t)}),[f]),v=(0,t.useCallback)((function(e){if(e){var t=!!zH&&{passive:!1};e.addEventListener("wheel",h,t),e.addEventListener("touchstart",d,t),e.addEventListener("touchmove",p,t)}}),[p,d,h]),m=(0,t.useCallback)((function(e){e&&(e.removeEventListener("wheel",h,!1),e.removeEventListener("touchstart",d,!1),e.removeEventListener("touchmove",p,!1))}),[p,d,h]);return(0,t.useEffect)((function(){if(n){var e=l.current;return v(e),function(){m(e)}}}),[n,v,m]),function(e){l.current=e}}({isEnabled:void 0===i||i,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),o=function(e){var n=e.isEnabled,r=e.accountForScrollbars,i=void 0===r||r,a=(0,t.useRef)({}),o=(0,t.useRef)(null),s=(0,t.useCallback)((function(e){if(YW){var t=document.body,n=t&&t.style;if(i&&zW.forEach((function(e){var t=n&&n[e];a.current[e]=t})),i&&$W<1){var r=parseInt(a.current.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,s=window.innerWidth-o+r||0;Object.keys(HW).forEach((function(e){var t=HW[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&QW()&&(t.addEventListener("touchmove",WW,XW),e&&(e.addEventListener("touchstart",GW,XW),e.addEventListener("touchmove",KW,XW))),$W+=1}}),[i]),u=(0,t.useCallback)((function(e){if(YW){var t=document.body,n=t&&t.style;$W=Math.max($W-1,0),i&&$W<1&&zW.forEach((function(e){var t=a.current[e];n&&(n[e]=t)})),t&&QW()&&(t.removeEventListener("touchmove",WW,XW),e&&(e.removeEventListener("touchstart",GW,XW),e.removeEventListener("touchmove",KW,XW)))}}),[i]);return(0,t.useEffect)((function(){if(n){var e=o.current;return s(e),function(){u(e)}}}),[n,s,u]),function(e){o.current=e}}({isEnabled:r});return mH(t.Fragment,null,r&&mH("div",{onClick:JW,css:ZW}),n((function(e){a(e),o(e)})))}var tK={clearIndicator:hW,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,a=r.borderRadius,o=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):void 0,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:o.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:fW,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.value,r=e.theme,i=r.spacing,a=r.colors;return EH({margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,visibility:t?"hidden":"visible",color:a.neutral80,transform:n?"translateZ(0)":""},kW)},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,a=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*a,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:JH,menu:function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,a=r.spacing,o=r.colors;return ee(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),ee(t,"backgroundColor",o.neutral0),ee(t,"borderRadius",i),ee(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),ee(t,"marginBottom",a.menuGutter),ee(t,"marginTop",a.menuGutter),ee(t,"position","absolute"),ee(t,"width","100%"),ee(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i||void 0===i?"ellipsis":void 0,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused?i.dangerLight:void 0,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:XH,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,a=i.spacing,o=i.colors;return{label:"option",backgroundColor:r?o.primary:n?o.primary25:"transparent",color:t?o.neutral20:r?o.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:t?void 0:r?o.primary:o.primary50}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,gridArea:"1 / 1 / 2 / 3",marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,gridArea:"1 / 1 / 2 / 3",marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},valueContainer:function(e){var t=e.theme.spacing,n=e.isMulti,r=e.hasValue,i=e.selectProps.controlShouldRenderValue;return{alignItems:"center",display:n&&r&&i?"flex":"grid",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var nK={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},rK={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:UH(),captureMenuScroll:!UH(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e){return function(t,n){if(t.data.__isNew__)return!0;var r=EH({ignoreCase:!0,ignoreAccents:!0,stringify:VW,trim:!0,matchFrom:"any"},e),i=r.ignoreCase,a=r.ignoreAccents,o=r.stringify,s=r.trim,u=r.matchFrom,c=s?UW(n):n,l=s?UW(o(t)):o(t);return i&&(c=c.toLowerCase(),l=l.toLowerCase()),a&&(c=jW(c),l=FW(l)),"start"===u?l.substr(0,c.length)===c:l.indexOf(c)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0};function iK(e,t,n,r){return{type:"option",data:t,isDisabled:lK(e,t,n),isSelected:fK(e,t,n),label:uK(e,t),value:cK(e,t),index:r}}function aK(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return iK(e,n,t,r)})).filter((function(t){return sK(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=iK(e,n,t,r);return sK(e,a)?a:void 0})).filter(HH)}function oK(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Ee(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function sK(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,a=t.isSelected,o=t.label,s=t.value;return(!dK(e)||!a)&&hK(e,{label:o,value:s,data:i},r)}var uK=function(e,t){return e.getOptionLabel(t)},cK=function(e,t){return e.getOptionValue(t)};function lK(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function fK(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=cK(e,t);return n.some((function(t){return cK(e,t)===r}))}function hK(e,t,n){return!e.filterOption||e.filterOption(t,n)}var dK=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},pK=1,vK=function(e){Ae(r,e);var n=SH(r);function r(e){var t;return Te(this,r),(t=n.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.instancePrefix="",t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,i=r.onChange,a=r.name;n.name=a,t.ariaOnChange(e,n),i(e,n)},t.setValue=function(e,n,r){var i=t.props,a=i.closeMenuOnSelect,o=i.isMulti,s=i.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:s}),a&&(t.setState({inputIsHiddenAfterUpdate:!o}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,i=n.isMulti,a=n.name,o=t.state.selectValue,s=i&&t.isOptionSelected(e,o),u=t.isOptionDisabled(e,o);if(s){var c=t.getOptionValue(e);t.setValue(o.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(u)return void t.ariaOnChange(e,{action:"select-option",option:e,name:a});i?t.setValue([].concat(Ee(o),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,i=t.getOptionValue(e),a=r.filter((function(e){return t.getOptionValue(e)!==i})),o=WH(n,a,a[0]||null);t.onChange(o,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(WH(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],i=n.slice(0,n.length-1),a=WH(e,i,i[0]||null);t.onChange(a,{action:"pop-value",removedValue:r})},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return AH.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return uK(t.props,e)},t.getOptionValue=function(e){return cK(t.props,e)},t.getStyles=function(e,n){var r=tK[e](n);r.boxSizing="border-box";var i=t.props.styles[e];return i?i(r,n):r},t.getElementId=function(e){return"".concat(t.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,EH(EH({},_W),e.components);var e},t.buildCategorizedOptions=function(){return aK(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return oK(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:EH({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,r=n.isMulti,i=n.menuIsOpen;t.focusInput(),i?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&DH(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var i=Math.abs(r.clientX-t.initialTouchX),a=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=i>5||a>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){t.blockOptionHover||t.state.focusedOption===e||t.setState({focusedOption:e})},t.shouldHideSelectedOptions=function(){return dK(t.props)},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,i=n.backspaceRemovesValue,a=n.escapeClearsValue,o=n.inputValue,s=n.isClearable,u=n.isDisabled,c=n.menuIsOpen,l=n.onKeyDown,f=n.tabSelectsValue,h=n.openMenuOnFocus,d=t.state,p=d.focusedOption,v=d.focusedValue,m=d.selectValue;if(!u&&("function"!==typeof l||(l(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||o)return;t.focusValue("previous");break;case"ArrowRight":if(!r||o)return;t.focusValue("next");break;case"Delete":case"Backspace":if(o)return;if(v)t.removeValue(v);else{if(!i)return;r?t.popValue():s&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!f||!p||h&&t.isOptionSelected(p,m))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(c){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:o}),t.onMenuClose()):s&&a&&t.clearValue();break;case" ":if(o)return;if(!c){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.instancePrefix="react-select-"+(t.props.instanceId||++pK),t.state.selectValue=RH(e.value),t}return Ce(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(!function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?MH(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&MH(e,Math.max(t.offsetTop-i,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,a=this.buildFocusableOptions(),o="first"===e?0:a.length-1;if(!this.props.isMulti){var s=a.indexOf(r[0]);s>-1&&(o=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:a[o]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var a=n.length-1,o=-1;if(n.length){switch(e){case"previous":o=0===i?0:-1===i?a:i-1;break;case"next":i>-1&&i<a&&(o=i+1)}this.setState({inputIsHidden:-1!==o,focusedValue:n[o]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,a=r.indexOf(n);n||(a=-1),"up"===e?i=a>0?a-1:r.length-1:"down"===e?i=(a+1)%r.length:"pageup"===e?(i=a-t)<0&&(i=0):"pagedown"===e?(i=a+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(nK):EH(EH({},nK),this.props.theme):nK}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getValue,i=this.selectOption,a=this.setValue,o=this.props,s=o.isMulti,u=o.isRtl,c=o.options;return{clearValue:e,cx:t,getStyles:n,getValue:r,hasValue:this.hasValue(),isMulti:s,isRtl:u,options:c,selectOption:i,selectProps:o,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return lK(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return fK(this.props,e,t)}},{key:"filterOption",value:function(e,t){return hK(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,n=e.isDisabled,r=e.isSearchable,i=e.inputId,a=e.inputValue,o=e.tabIndex,s=e.form,u=e.menuIsOpen,c=this.getComponents().Input,l=this.state,f=l.inputIsHidden,h=l.ariaSelection,d=this.commonProps,p=i||this.getElementId("input"),v=EH(EH(EH({"aria-autocomplete":"list","aria-expanded":u,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],role:"combobox"},u&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!r&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===h||void 0===h?void 0:h.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return r?t.createElement(c,Uq({},d,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:p,innerRef:this.getInputRef,isDisabled:n,isHidden:f,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:s,type:"text",value:a},v)):t.createElement(qW,Uq({id:p,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:PH,onFocus:this.onInputFocus,disabled:n,tabIndex:o,inputMode:"none",form:s,value:""},v))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,n=this.getComponents(),r=n.MultiValue,i=n.MultiValueContainer,a=n.MultiValueLabel,o=n.MultiValueRemove,s=n.SingleValue,u=n.Placeholder,c=this.commonProps,l=this.props,f=l.controlShouldRenderValue,h=l.isDisabled,d=l.isMulti,p=l.inputValue,v=l.placeholder,m=this.state,g=m.selectValue,y=m.focusedValue,k=m.isFocused;if(!this.hasValue()||!f)return p?null:t.createElement(u,Uq({},c,{key:"placeholder",isDisabled:h,isFocused:k,innerProps:{id:this.getElementId("placeholder")}}),v);if(d)return g.map((function(n,s){var u=n===y,l="".concat(e.getOptionLabel(n),"-").concat(e.getOptionValue(n));return t.createElement(r,Uq({},c,{components:{Container:i,Label:a,Remove:o},isFocused:u,isDisabled:h,key:l,index:s,removeProps:{onClick:function(){return e.removeValue(n)},onTouchEnd:function(){return e.removeValue(n)},onMouseDown:function(e){e.preventDefault()}},data:n}),e.formatOptionLabel(n,"value"))}));if(p)return null;var b=g[0];return t.createElement(s,Uq({},c,{data:b,isDisabled:h}),this.formatOptionLabel(b,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,a=r.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||i||!this.hasValue()||a)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,Uq({},n,{innerProps:s,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,a=r.isLoading,o=this.state.isFocused;if(!e||!a)return null;return t.createElement(e,Uq({},n,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:o}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),n=e.DropdownIndicator,r=e.IndicatorSeparator;if(!n||!r)return null;var i=this.commonProps,a=this.props.isDisabled,o=this.state.isFocused;return t.createElement(r,Uq({},i,{isDisabled:a,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var n=this.commonProps,r=this.props.isDisabled,i=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,Uq({},n,{innerProps:a,isDisabled:r,isFocused:i}))}},{key:"renderMenu",value:function(){var e=this,n=this.getComponents(),r=n.Group,i=n.GroupHeading,a=n.Menu,o=n.MenuList,s=n.MenuPortal,u=n.LoadingMessage,c=n.NoOptionsMessage,l=n.Option,f=this.commonProps,h=this.state.focusedOption,d=this.props,p=d.captureMenuScroll,v=d.inputValue,m=d.isLoading,g=d.loadingMessage,y=d.minMenuHeight,k=d.maxMenuHeight,b=d.menuIsOpen,w=d.menuPlacement,_=d.menuPosition,x=d.menuPortalTarget,E=d.menuShouldBlockScroll,I=d.menuShouldScrollIntoView,T=d.noOptionsMessage,S=d.onMenuScrollToTop,C=d.onMenuScrollToBottom;if(!b)return null;var P,N=function(n,r){var i=n.type,a=n.data,o=n.isDisabled,s=n.isSelected,u=n.label,c=n.value,d=h===a,p=o?void 0:function(){return e.onOptionHover(a)},v=o?void 0:function(){return e.selectOption(a)},m="".concat(e.getElementId("option"),"-").concat(r),g={id:m,onClick:v,onMouseMove:p,onMouseOver:p,tabIndex:-1};return t.createElement(l,Uq({},f,{innerProps:g,data:a,isDisabled:o,isSelected:s,key:m,label:u,type:i,value:c,isFocused:d,innerRef:d?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())P=this.getCategorizedOptions().map((function(n){if("group"===n.type){var a=n.data,o=n.options,s=n.index,u="".concat(e.getElementId("group"),"-").concat(s),c="".concat(u,"-heading");return t.createElement(r,Uq({},f,{key:u,data:a,options:o,Heading:i,headingProps:{id:c,data:n.data},label:e.formatGroupLabel(n.data)}),n.options.map((function(e){return N(e,"".concat(s,"-").concat(e.index))})))}if("option"===n.type)return N(n,"".concat(n.index))}));else if(m){var A=g({inputValue:v});if(null===A)return null;P=t.createElement(u,f,A)}else{var R=T({inputValue:v});if(null===R)return null;P=t.createElement(c,f,R)}var O={minMenuHeight:y,maxMenuHeight:k,menuPlacement:w,menuPosition:_,menuShouldScrollIntoView:I},D=t.createElement(YH,Uq({},f,O),(function(n){var r=n.ref,i=n.placerProps,s=i.placement,u=i.maxHeight;return t.createElement(a,Uq({},f,O,{innerRef:r,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:m,placement:s}),t.createElement(eK,{captureEnabled:p,onTopArrive:S,onBottomArrive:C,lockEnabled:E},(function(n){return t.createElement(o,Uq({},f,{innerRef:function(t){e.getMenuListRef(t),n(t)},isLoading:m,maxHeight:u,focusedOption:h}),P)})))}));return x||"fixed"===_?t.createElement(s,Uq({},f,{appendTo:x,controlElement:this.controlRef,menuPlacement:w,menuPosition:_}),D):D}},{key:"renderFormField",value:function(){var e=this,n=this.props,r=n.delimiter,i=n.isDisabled,a=n.isMulti,o=n.name,s=this.state.selectValue;if(o&&!i){if(a){if(r){var u=s.map((function(t){return e.getOptionValue(t)})).join(r);return t.createElement("input",{name:o,type:"hidden",value:u})}var c=s.length>0?s.map((function(n,r){return t.createElement("input",{key:"i-".concat(r),name:o,type:"hidden",value:e.getOptionValue(n)})})):t.createElement("input",{name:o,type:"hidden"});return t.createElement("div",null,c)}var l=s[0]?this.getOptionValue(s[0]):"";return t.createElement("input",{name:o,type:"hidden",value:l})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,n=this.state,r=n.ariaSelection,i=n.focusedOption,a=n.focusedValue,o=n.isFocused,s=n.selectValue,u=this.getFocusableOptions();return t.createElement(NW,Uq({},e,{id:this.getElementId("live-region"),ariaSelection:r,focusedOption:i,focusedValue:a,isFocused:o,selectValue:s,focusableOptions:u}))}},{key:"render",value:function(){var e=this.getComponents(),n=e.Control,r=e.IndicatorsContainer,i=e.SelectContainer,a=e.ValueContainer,o=this.props,s=o.className,u=o.id,c=o.isDisabled,l=o.menuIsOpen,f=this.state.isFocused,h=this.commonProps=this.getCommonProps();return t.createElement(i,Uq({},h,{className:s,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:f}),this.renderLiveRegion(),t.createElement(n,Uq({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:f,menuIsOpen:l}),t.createElement(a,Uq({},h,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),t.createElement(r,Uq({},h,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,a=t.ariaSelection,o=t.isFocused,s=t.prevWasFocused,u=e.options,c=e.value,l=e.menuIsOpen,f=e.inputValue,h=e.isMulti,d=RH(c),p={};if(n&&(c!==n.value||u!==n.options||l!==n.menuIsOpen||f!==n.inputValue)){var v=l?function(e,t){return oK(aK(e,t))}(e,d):[],m=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,d):null,g=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,v);p={selectValue:d,focusedOption:g,focusedValue:m,clearFocusValueOnUpdate:!1}}var y=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},k=a,b=o&&s;return o&&!b&&(k={value:WH(h,d,d[0]||null),options:d,action:"initial-input-focus"},b=!s),"initial-input-focus"===(null===a||void 0===a?void 0:a.action)&&(k=null),EH(EH(EH({},p),y),{},{prevProps:e,ariaSelection:k,prevWasFocused:b})}}]),r}(t.Component);vK.defaultProps=rK;var mK=(0,t.forwardRef)((function(e,n){var r=function(e){var n=e.defaultInputValue,r=void 0===n?"":n,i=e.defaultMenuIsOpen,a=void 0!==i&&i,o=e.defaultValue,s=void 0===o?null:o,u=e.inputValue,l=e.menuIsOpen,f=e.onChange,h=e.onInputChange,d=e.onMenuClose,p=e.onMenuOpen,v=e.value,m=bA(e,xW),g=c((0,t.useState)(void 0!==u?u:r),2),y=g[0],k=g[1],b=c((0,t.useState)(void 0!==l?l:a),2),w=b[0],_=b[1],x=c((0,t.useState)(void 0!==v?v:s),2),E=x[0],I=x[1],T=(0,t.useCallback)((function(e,t){"function"===typeof f&&f(e,t),I(e)}),[f]),S=(0,t.useCallback)((function(e,t){var n;"function"===typeof h&&(n=h(e,t)),k(void 0!==n?n:e)}),[h]),C=(0,t.useCallback)((function(){"function"===typeof p&&p(),_(!0)}),[p]),P=(0,t.useCallback)((function(){"function"===typeof d&&d(),_(!1)}),[d]),N=void 0!==u?u:y,A=void 0!==l?l:w,R=void 0!==v?v:E;return EH(EH({},m),{},{inputValue:N,menuIsOpen:A,onChange:T,onInputChange:S,onMenuClose:P,onMenuOpen:C,value:R})}(e);return t.createElement(vK,Uq({ref:n},r))})),gK=(t.Component,mK),yK=n(9437),kK={control:function(e){return ne(ne({},e),{},{width:"100%",maxWidth:"14rem",minWidth:"12rem",borderRadius:"5px",color:"#000",fontSize:"0.8rem",lineHeight:"1.75rem",backgroundColor:"#FFFFFF",cursor:"pointer",border:"2px solid #000000",boxShadow:"5px 5px 0px 0px rgba(0,0,0);",":hover":{border:"2px solid #000000",boxShadow:"none"}})},option:function(e){return ne(ne({},e),{},{color:"#000",fontSize:"0.8rem",lineHeight:"1.75rem",width:"100%",background:"#fff",":hover":{backgroundColor:"rgb(243 244 246)",color:"#000",cursor:"pointer"}})},menu:function(e){return ne(ne({},e),{},{backgroundColor:"#fff",maxWidth:"14rem",border:"2px solid #000000",borderRadius:"5px",boxShadow:"5px 5px 0px 0px rgba(0,0,0);"})},placeholder:function(e){return ne(ne({},e),{},{color:"#000",fontSize:"0.8rem",lineHeight:"1.75rem"})}},bK=function(e){var t=e.handleThemeChange,n=e.theme;return(0,rR.jsx)(gK,{placeholder:"Select Theme",options:Object.entries(yK).map((function(e){var t=c(e,2),n=t[0];return{label:t[1],value:n,key:n}})),value:n,styles:kK,onChange:t})},wK=function(e){var t=e.onSelectChange;return(0,rR.jsx)(gK,{placeholder:"Filter By Category",options:uR,styles:kK,defaultValue:uR[0],onChange:function(e){return t(e)}})},_K=function(){var e=c((0,t.useState)('/*\n DFS Traversal\n*/\n#include<bits/stdc++.h>\nusing namespace std;\n\nvoid dfs(int u, vector<int> adj[], vector<bool> &visited) {\n    visited[u] = true;\n    cout << u << " ";\n    for(int v : adj[u]) {\n        if(!visited[v]) {\n            dfs(v, adj, visited);\n        }\n    }\n}\n\nint main() {\n    int n, m;\n    cout << "Enter the number of nodes and edges: ";\n    cin >> n >> m;\n\n    vector<int> adj[n+1];\n    vector<bool> visited(n+1, false);\n\n    cout << "Enter the edges: " << endl;\n    for(int i = 0; i < m; i++) {\n        int u, v;\n        cin >> u >> v;\n        adj[u].push_back(v);\n        adj[v].push_back(u);\n    }\n\n    cout << "DFS Traversal: ";\n    for(int i = 1; i <= n; i++) {\n        if(!visited[i]) {\n            dfs(i, adj, visited);\n        }\n    }\n\n    return 0;\n}\n\n'),2),n=e[0],r=e[1],i=c((0,t.useState)("5 4\n1 3\n2 4\n1 2\n4 3"),2),a=i[0],o=i[1],s=c((0,t.useState)(null),2),u=s[0],l=s[1],h=c((0,t.useState)(null),2),p=h[0],v=h[1],m=c((0,t.useState)("Oceanic Next"),2),g=m[0],y=m[1],k=c((0,t.useState)(uR[0]),2),b=k[0],w=k[1],_=c((0,t.useState)(""),2),x=_[0],E=_[1],I=fR("Enter"),T=fR("Control");(0,t.useEffect)((function(){I&&T&&(console.log("enterPress",I),console.log("ctrlPress",T),S())}),[T,I]);var S=function(){v(!0);var e={method:"POST",url:"https://judge0-ce.p.rapidapi.com/submissions",params:{base64_encoded:"true",fields:"*"},headers:{"content-type":"application/json","Content-Type":"application/json","X-RapidAPI-Host":"judge0-ce.p.rapidapi.com","X-RapidAPI-Key":"1ea3733832msh8457fd96877b0d5p142de3jsncfed73d317ad"},data:{language_id:b.id,source_code:btoa(n),stdin:btoa(a)}};oR().request(e).then((function(e){console.log("res.data",e.data);var t=e.data.token;C(t)})).catch((function(e){var t=e.response?e.response.data:e,n=e.response.status;console.log("status",n),429===n&&(console.log("too many requests",n),N("Quota of 100 requests exceeded for the Day! Please read the blog on freeCodeCamp to learn how to setup your own RAPID API Judge0!",1e4)),v(!1),console.log("catch block...",t)}))},C=function(){var e=f(d().mark((function e(t){var n,r,i,a;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={method:"GET",url:"https://judge0-ce.p.rapidapi.com/submissions/"+t,params:{base64_encoded:"true",fields:"*"},headers:{"X-RapidAPI-Host":"judge0-ce.p.rapidapi.com","X-RapidAPI-Key":"1ea3733832msh8457fd96877b0d5p142de3jsncfed73d317ad"}},e.prev=1,e.next=4,oR().request(n);case 4:if(i=e.sent,1!==(a=null===(r=i.data.status)||void 0===r?void 0:r.id)&&2!==a){e.next=11;break}return setTimeout((function(){C(t)}),2e3),e.abrupt("return");case 11:return v(!1),l(i.data),P("Compiled Successfully!"),console.log("response.data",i.data),e.abrupt("return");case 16:e.next=23;break;case 18:e.prev=18,e.t0=e.catch(1),console.log("err",e.t0),v(!1),N();case 23:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){lR("oceanic-next").then((function(e){return y({value:"oceanic-next",label:"Oceanic Next"})}))}),[]);var P=function(e){tR.success(e||"Compiled Successfully!",{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},N=function(e,t){tR.error(e||"Something went wrong! Please try again.",{position:"top-right",autoClose:t||1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})};return(0,rR.jsxs)(rR.Fragment,{children:[(0,rR.jsx)(KA,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,rR.jsx)(Lq,{}),(0,rR.jsx)("div",{}),(0,rR.jsxs)("div",{className:"flex flex-row pt-20 align-items-center",children:[(0,rR.jsx)("div",{className:"px-4 py-2",children:(0,rR.jsx)(wK,{onSelectChange:function(e){console.log("selected Option...",e),w(e)}})}),(0,rR.jsx)("div",{className:"px-4 py-2",children:(0,rR.jsx)(bK,{handleThemeChange:function(e){var t=e;console.log("theme...",t),["light","vs-dark"].includes(t.value)?y(t):lR(t.value).then((function(e){return y(t)}))},theme:g})}),(0,rR.jsx)("div",{className:"px-4 py-3",children:(0,rR.jsx)("input",{className:"border-gray-400 border-2 rounded-md p-2 placeholder-gray-500",type:"text",placeholder:"Enter Title",value:x,onChange:function(e){return E(e.target.value)}})}),(0,rR.jsx)("div",{className:"px-4 py-1",children:(0,rR.jsx)("button",{onClick:function(){var e=JSON.parse(localStorage.getItem("savedCodes"))||[],t={code:n,title:x,timestamp:(new Date).toLocaleString()};e.push(t),localStorage.setItem("savedCodes",JSON.stringify(e)),P("Code saved successfully!")},className:sR("border-2 border-black z-10 rounded-md shadow-[5px_5px_0px_0px_rgba(0,0,0)] px-4 py-2 hover:shadow transition duration-200","mt-2 ml-4",n?"":"opacity-50"),children:"Save Code"})})]}),(0,rR.jsxs)("div",{className:"flex flex-row space-x-4 items-start px-4 py-4",children:[(0,rR.jsx)("div",{className:"flex flex-col w-full h-full justify-start items-end",children:(0,rR.jsx)(iR,{code:n,onChange:function(e,t){if("code"===e)r(t);else console.warn("case not handled!",e,t)},language:null===b||void 0===b?void 0:b.value,theme:g.value})}),(0,rR.jsxs)("div",{className:"right-container flex flex-shrink-0 w-[30%] flex-col",children:[(0,rR.jsx)(Fq,{customInput:a,setCustomInput:o}),(0,rR.jsx)("button",{onClick:S,disabled:!n,className:sR("mt-4 border-2 border-black z-10 rounded-md shadow-[5px_5px_0px_0px_rgba(0,0,0)] px-4 py-2 hover:shadow transition duration-200 bg-white flex-shrink-0 bg-gradient-to-r from-green-400 to-blue-500 hover:from-pink-500 hover:to-yellow-500 ...",n?"":"opacity-50"),children:p?"Processing...":"Compile and Execute"}),(0,rR.jsx)("div",{className:"flex flex-col pt-4",children:(0,rR.jsx)(Mq,{outputDetails:u})}),u&&(0,rR.jsx)(jq,{outputDetails:u})]})]}),(0,rR.jsx)(hR,{})]})};var xK=function(){var e=cO(),n=c((0,t.useState)(""),2),r=(n[0],n[1],c((0,t.useState)(""),2)),i=r[0],a=r[1],o=c((0,t.useState)(""),2),s=o[0],u=o[1],l=c((0,t.useState)(""),2),h=l[0],p=l[1],v=function(){var t=f(d().mark((function t(n){var r,a,o;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,r=Nh(),t.next=5,Tc(r,i,s);case 5:a=t.sent,o=a.user,localStorage.setItem("email",o.email),localStorage.setItem("password",s),localStorage.setItem("displayName",o.displayName),e("/"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),p(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}();return(0,rR.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,rR.jsxs)("form",{onSubmit:v,className:"max-w-md w-full space-y-4 p-8 bg-white rounded-md shadow-md",children:[(0,rR.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Log in"}),h&&(0,rR.jsx)("div",{className:"text-red-500 font-bold",children:h}),(0,rR.jsxs)("div",{children:[(0,rR.jsx)("label",{htmlFor:"email",className:"block text-gray-800 font-bold mb-2",children:"Email"}),(0,rR.jsx)("input",{type:"email",id:"email",value:i,onChange:function(e){return a(e.target.value)},className:"w-full border-2 border-gray-400 p-2 rounded-md",required:!0})]}),(0,rR.jsxs)("div",{children:[(0,rR.jsx)("label",{htmlFor:"password",className:"block text-gray-800 font-bold mb-2",children:"Password"}),(0,rR.jsx)("input",{type:"password",id:"password",value:s,onChange:function(e){return u(e.target.value)},className:"w-full border-2 border-gray-400 p-2 rounded-md",required:!0})]}),(0,rR.jsxs)("div",{className:"flex justify-between",children:[(0,rR.jsx)("button",{type:"submit",className:"px-4 py-2 rounded-md bg-blue-600 text-white font-bold bg-gradient-to-r from-green-400 to-blue-500 hover:from-pink-500 hover:to-yellow-500 ...",children:"Log in"}),(0,rR.jsx)(DO,{to:"/register",className:"text-blue-600 font-bold hover:underline ",children:"Register"})]})]})})},EK=(Ba.initializeApp({apiKey:"AIzaSyAjZL5xO-3zIfSVfgKQeYPzFE54radQraA",authDomain:"code-editor-9b25e.firebaseapp.com",projectId:"code-editor-9b25e",storageBucket:"code-editor-9b25e.appspot.com",messagingSenderId:"411595774832",appId:"1:411595774832:web:fa617c4a3fa63db0534db5",measurementId:"G-GTBQDQYY14"}),function(){var e=cO(),n=c((0,t.useState)({username:"",email:"",password:""}),2),r=n[0],i=n[1],a=c((0,t.useState)(""),2),o=a[0],s=a[1],u=c((0,t.useState)(""),2),l=u[0],h=u[1],p=c((0,t.useState)(""),2),v=p[0],m=p[1],g=c((0,t.useState)(""),2),y=g[0],k=g[1],b=function(e){i(ne(ne({},r),{},ee({},e.target.id,e.target.value)))},w=function(){var t=f(d().mark((function t(n){var r,i;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,Ba.auth().createUserWithEmailAndPassword(l,y);case 4:r=t.sent,i=r.user,localStorage.setItem("email",i.email),localStorage.setItem("password",y),e("/"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.error(t.t0),"auth/email-already-in-use"===t.t0.code?s("An account with this email already exists."):s("An error occurred while registering. Please try again later.");case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return(0,rR.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,rR.jsxs)("div",{className:"w-full max-w-xs",children:[o&&(0,rR.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:[(0,rR.jsx)("strong",{children:"Error:"})," ",o]}),(0,rR.jsxs)("form",{className:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",onSubmit:w,children:[(0,rR.jsx)("h2",{className:"text-xl mb-4",children:"Register"}),(0,rR.jsxs)("div",{className:"mb-4",children:[(0,rR.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"username",children:"Username:"}),(0,rR.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",value:v,onChange:function(e){m(e.target.value),b(e)}})]}),(0,rR.jsxs)("div",{className:"mb-4",children:[(0,rR.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"email",children:"Email:"}),(0,rR.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",name:"email",value:r.email,onChange:function(e){h(e.target.value),b(e)},required:!0})]}),(0,rR.jsxs)("div",{className:"mb-4",children:[(0,rR.jsx)("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"password",children:"Password:"}),(0,rR.jsx)("input",{className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",name:"password",value:r.password,onChange:function(e){k(e.target.value),b(e)},required:!0})]}),(0,rR.jsx)("div",{className:"flex items-center justify-between",children:(0,rR.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline bg-gradient-to-r from-green-400 to-blue-500 hover:from-pink-500 hover:to-yellow-500 ...",type:"submit",children:"Register"})})]})]})})});var IK=function(){var e=c((0,t.useState)(""),2),n=e[0],r=e[1],i=c((0,t.useState)([]),2),a=i[0];return i[1],(0,rR.jsxs)("div",{children:[(0,rR.jsx)(Lq,{userEmail:n}),(0,rR.jsxs)(IO,{children:[(0,rR.jsx)(xO,{exact:!0,path:"/",element:(0,rR.jsx)(_K,{})}),(0,rR.jsx)(xO,{path:"/login",element:(0,rR.jsx)(xK,{setUserEmail:r})}),(0,rR.jsx)(xO,{path:"/register",element:(0,rR.jsx)(EK,{setUserEmail:r})}),(0,rR.jsx)(xO,{path:"/saved-codes",element:(0,rR.jsx)(Rq,{savedCodes:a})})," // add the new route",(0,rR.jsx)(xO,{path:"/featured",element:(0,rR.jsx)(Dq,{})})]})]})};i.render((0,rR.jsxs)(t.StrictMode,{children:[(0,rR.jsx)(AO,{children:(0,rR.jsx)(IK,{})}),","]}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.8facc17f.js.map